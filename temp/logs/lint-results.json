
> samakal-redesign@0.1.0 lint
> eslint -f json

[{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/check-schema.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/public/sw.js","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CACHE_NAME' is assigned a value but never used.","line":4,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Service Worker for Samakal PWA\n// Provides offline functionality and static asset caching\n\nconst CACHE_NAME = 'samakal-v1';\nconst STATIC_CACHE = 'samakal-static-v1';\nconst DYNAMIC_CACHE = 'samakal-dynamic-v1';\n\n// Assets to cache on install\nconst STATIC_ASSETS = [\n  '/',\n  '/manifest.json',\n  '/samakal-logo.png',\n  '/offline.html',\n];\n\n// Install event - cache static assets\nself.addEventListener('install', (event) => {\n  event.waitUntil(\n    caches.open(STATIC_CACHE).then((cache) => {\n      console.log('[SW] Caching static assets');\n      return cache.addAll(STATIC_ASSETS);\n    })\n  );\n  self.skipWaiting();\n});\n\n// Activate event - clean up old caches\nself.addEventListener('activate', (event) => {\n  event.waitUntil(\n    caches.keys().then((cacheNames) => {\n      return Promise.all(\n        cacheNames\n          .filter((name) => name !== STATIC_CACHE && name !== DYNAMIC_CACHE)\n          .map((name) => caches.delete(name))\n      );\n    })\n  );\n  self.clients.claim();\n});\n\n// Fetch event - network first, fallback to cache\nself.addEventListener('fetch', (event) => {\n  const { request } = event;\n  const url = new URL(request.url);\n\n  // Skip non-GET requests\n  if (request.method !== 'GET') return;\n\n  // Skip external requests\n  if (url.origin !== location.origin) {\n    return;\n  }\n\n  // API requests - network only\n  if (url.pathname.startsWith('/api/')) {\n    return;\n  }\n\n  // Image requests - cache first\n  if (request.destination === 'image') {\n    event.respondWith(\n      caches.match(request).then((cached) => {\n        return (\n          cached ||\n          fetch(request).then((response) => {\n            return caches.open(DYNAMIC_CACHE).then((cache) => {\n              cache.put(request, response.clone());\n              return response;\n            });\n          })\n        );\n      })\n    );\n    return;\n  }\n\n  // HTML pages - network first, fallback to cache\n  event.respondWith(\n    fetch(request)\n      .then((response) => {\n        // Clone the response\n        const responseClone = response.clone();\n\n        // Cache the new version\n        caches.open(DYNAMIC_CACHE).then((cache) => {\n          cache.put(request, responseClone);\n        });\n\n        return response;\n      })\n      .catch(() => {\n        // Network failed, try cache\n        return caches.match(request).then((cached) => {\n          return cached || caches.match('/offline.html');\n        });\n      })\n  );\n});\n// Push Notification Event\nself.addEventListener('push', function(event) {\n  if (event.data) {\n    const data = event.data.json();\n    const options = {\n      body: data.body,\n      icon: data.icon || '/samakal-logo.png',\n      badge: '/badge.png', // Optional badge\n      vibrate: [100, 50, 100],\n      data: {\n        dateOfArrival: Date.now(),\n        primaryKey: '2',\n        url: data.url || '/'\n      }\n    };\n    event.waitUntil(\n      self.registration.showNotification(data.title, options)\n    );\n  }\n});\n\n// Notification Click Event\nself.addEventListener('notificationclick', function(event) {\n  console.log('[Service Worker] Notification click Received.');\n  event.notification.close();\n\n  event.waitUntil(\n    clients.openWindow(event.notification.data.url)\n  );\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/add-featured-columns.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\n\nloadEnvConfig(cwd());\n\nasync function addFeaturedNewsColumns() {\n  const client = await db.connect();\n  \n  try {\n    console.log('ЁЯФз Adding featured news columns to articles table...\\n');\n    \n    // Add new columns for featured news system\n    await client.sql`\n      ALTER TABLE articles \n      ADD COLUMN IF NOT EXISTS is_featured BOOLEAN DEFAULT FALSE,\n      ADD COLUMN IF NOT EXISTS is_prime BOOLEAN DEFAULT FALSE,\n      ADD COLUMN IF NOT EXISTS featured_priority INTEGER DEFAULT 0,\n      ADD COLUMN IF NOT EXISTS prime_priority INTEGER DEFAULT 0,\n      ADD COLUMN IF NOT EXISTS featured_at TIMESTAMP,\n      ADD COLUMN IF NOT EXISTS prime_at TIMESTAMP\n    `;\n    console.log('тЬЕ Columns added successfully');\n    \n    // Create indexes for optimal query performance\n    console.log('\\nЁЯФз Creating indexes...');\n    \n    await client.sql`\n      CREATE INDEX IF NOT EXISTS idx_articles_featured \n      ON articles(is_featured, featured_priority DESC) \n      WHERE is_featured = TRUE\n    `;\n    console.log('тЬЕ Created index: idx_articles_featured');\n    \n    await client.sql`\n      CREATE INDEX IF NOT EXISTS idx_articles_prime \n      ON articles(is_prime, prime_priority DESC) \n      WHERE is_prime = TRUE\n    `;\n    console.log('тЬЕ Created index: idx_articles_prime');\n    \n    await client.sql`\n      CREATE INDEX IF NOT EXISTS idx_articles_trending \n      ON articles(status, created_at DESC, views DESC) \n      WHERE status = 'published'\n    `;\n    console.log('тЬЕ Created index: idx_articles_trending');\n    \n    // Verify the changes\n    console.log('\\nЁЯФН Verifying schema changes...');\n    const result = await client.sql`\n      SELECT column_name, data_type, is_nullable, column_default\n      FROM information_schema.columns\n      WHERE table_name = 'articles' \n        AND column_name IN ('is_featured', 'is_prime', 'featured_priority', 'prime_priority', 'featured_at', 'prime_at')\n      ORDER BY column_name\n    `;\n    \n    console.log('\\nтЬЕ Schema verification:');\n    console.table(result.rows);\n    \n    console.log('\\nтЬи Migration completed successfully!');\n    \n  } catch (error) {\n    console.error('тЭМ Migration Error:', error);\n    throw error;\n  } finally {\n    await client.end();\n  }\n}\n\naddFeaturedNewsColumns();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/add-parent-category.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\n\n// Load environment variables\nloadEnvConfig(cwd());\n\n// Parent-Child Category Mapping (Bengali names)\nconst PARENT_CHILD_MAP = {\n  'ржЦрзЗрж▓рж╛': ['ржХрзНрж░рж┐ржХрзЗржЯ', 'ржлрзБржЯржмрж▓', 'ржЯрзЗржирж┐рж╕', 'ржЧрж▓ржл', 'ржмрзНржпрж╛ржбржорж┐ржирзНржЯржи', 'ржЯрж┐тАУржЯрзЛрзЯрзЗржирзНржЯрж┐ ржмрж┐рж╢рзНржмржХрж╛ржк', 'ржмрж┐ржмрж┐ржз'],\n  'ржмрж┐ржирзЛржжржи': ['ржмрж▓рж┐ржЙржб', 'рж╣рж▓рж┐ржЙржб', 'ржврж╛рж▓рж┐ржЙржб', 'ржЯрж╛рж▓рж┐ржЙржб', 'ржЯрзЗрж▓рж┐ржнрж┐рж╢ржи', 'ржорж┐ржЙржЬрж┐ржХ', 'ржмрж┐ржирзЛржжржирзЗрж░ ржЫржмрж┐', 'ржУржЯрж┐ржЯрж┐', 'ржоржЮрзНржЪ'],\n  'рж░рж╛ржЬржирзАрждрж┐': ['ржЖржУрзЯрж╛ржорзА рж▓рзАржЧ', 'ржмрж┐ржПржиржкрж┐', 'ржЬрж╛ржорж╛рзЯрж╛ржд', 'ржЬрж╛рждрзАржпрж╝ ржкрж╛рж░рзНржЯрж┐', 'ржирж┐рж░рзНржмрж╛ржЪржи'],\n  'ржЕрж░рзНржержирзАрждрж┐': ['рж╢рж┐рж▓рзНржк-ржмрж╛ржгрж┐ржЬрзНржп', 'рж╢рзЗрзЯрж╛рж░ржмрж╛ржЬрж╛рж░', 'ржмрзНржпрж╛ржВржХ-ржмрзАржорж╛', 'ржмрж╛ржЬрзЗржЯ'],\n  'ржмрж┐рж╢рзНржм': ['ржПрж╢рж┐рзЯрж╛', 'ржЗржЙрж░рзЛржк', 'ржЖржорзЗрж░рж┐ржХрж╛', 'ржоржзрзНржпржкрзНрж░рж╛ржЪрзНржп', 'ржжржХрзНрж╖рж┐ржг ржПрж╢рж┐рзЯрж╛', 'ржпрзБржжрзНржз-рж╕ржВржШрж╛ржд'],\n  'ржкрзНрж░ржпрзБржХрзНрждрж┐': ['ржЧрзНржпрж╛ржЬрзЗржЯ', 'рж╕рзЛрж╢рзНржпрж╛рж▓ ржорж┐ржбрж┐рзЯрж╛', 'ржЖржЗржЯрж┐ ржЦрж╛ржд', 'ржмрж┐ржЬрзНржЮрж╛ржи', 'ржЕрзНржпрж╛ржк ржУ ржЧрзЗржо'],\n  'ржЬрзАржмржиржпрж╛ржкржи': ['ржлрзНржпрж╛рж╢ржи', 'ржЦрж╛ржмрж╛рж░', 'ржнрзНрж░ржоржг', 'рж╕рзНржмрж╛рж╕рзНржерзНржп ржЯрж┐ржкрж╕', 'рж╕ржорзНржкрж░рзНржХ', 'ржзрж░рзНржо ржУ ржЬрзАржмржи'],\n  'рж╢рж┐ржХрзНрж╖рж╛': ['ржХрзНржпрж╛ржорзНржкрж╛рж╕', 'ржнрж░рзНрждрж┐', 'ржкрж░рзАржХрзНрж╖рж╛ ржУ ржлрж▓', 'ржмрзГрждрзНрждрж┐'],\n  'ржЕржкрж░рж╛ржз': ['ржЦрзБржи', 'ржжрзБрж░рзНржирзАрждрж┐', 'ржзрж░рзНрж╖ржг', 'ржкрж╛ржЪрж╛рж░', 'ржЖржжрж╛рж▓ржд'],\n  'рж░рж╛ржЬржзрж╛ржирзА': ['ржЙрждрзНрждрж░ рж╕рж┐ржЯрж┐', 'ржжржХрзНрж╖рж┐ржг рж╕рж┐ржЯрж┐', 'ржпрж╛ржиржЬржЯ', 'ржирж╛ржЧрж░рж┐ржХ рж╕рзЗржмрж╛'],\n  'ржмрж╛ржВрж▓рж╛ржжрзЗрж╢': ['рж╢рж┐ржХрзНрж╖рж╛', 'ржЖржЗржи ржУ ржмрж┐ржЪрж╛рж░', 'рж╕рзНржмрж╛рж╕рзНржерзНржп', 'ржХрзГрж╖рж┐', 'рж╕ржВрж╕ржж', 'ржкрж░рж┐ржмрзЗрж╢', 'рж▓рзЬрж╛ржЗрзЯрзЗрж░ ржоржЮрзНржЪ'],\n  'ржорждрж╛ржоржд': ['рж╕рж╛ржХрзНрж╖рж╛рзОржХрж╛рж░', 'ржЪрждрзБрж░ржЩрзНржЧ', 'ржкрзНрж░рждрж┐ржХрзНрж░рж┐рзЯрж╛', 'ржЦрзЛрж▓рж╛ржЪрзЛржЦрзЗ', 'ржорзБржХрзНрждржоржЮрзНржЪ', 'ржЕржирзНржпржжрзГрж╖рзНржЯрж┐', 'рж╕ржорзНржкрж╛ржжржХрзАрзЯ']\n};\n\nasync function migrateParentCategory() {\n  const client = await db.connect();\n  \n  try {\n    console.log('ЁЯЪА Starting parent_category migration...\\n');\n    \n    // Step 1: Add column if not exists\n    console.log('Step 1: Adding parent_category column...');\n    await client.sql`\n      ALTER TABLE articles \n      ADD COLUMN IF NOT EXISTS parent_category VARCHAR(100)\n    `;\n    console.log('тЬЕ Column added successfully\\n');\n    \n    // Step 2: Update existing data\n    console.log('Step 2: Migrating existing article data...');\n    let totalUpdated = 0;\n    \n    for (const [parent, children] of Object.entries(PARENT_CHILD_MAP)) {\n      for (const child of children) {\n        const result = await client.sql`\n          UPDATE articles \n          SET parent_category = ${parent}\n          WHERE category = ${child}\n        `;\n        \n        if (result.rowCount > 0) {\n          console.log(`   тЬУ Updated ${result.rowCount} articles: ${child} тЖТ ${parent}`);\n          totalUpdated += result.rowCount;\n        }\n      }\n    }\n    \n    console.log(`\\nЁЯОЙ Migration completed successfully!`);\n    console.log(`ЁЯУК Total articles updated: ${totalUpdated}`);\n    \n    // Verification query\n    console.log('\\nЁЯУЛ Verification Summary:');\n    const summary = await client.sql`\n      SELECT \n        parent_category,\n        COUNT(*) as count\n      FROM articles\n      WHERE parent_category IS NOT NULL\n      GROUP BY parent_category\n      ORDER BY count DESC\n    `;\n    \n    console.log('\\nArticles by Parent Category:');\n    summary.rows.forEach(row => {\n      console.log(`   ${row.parent_category}: ${row.count} articles`);\n    });\n    \n  } catch (error) {\n    console.error('тЭМ Migration failed:', error);\n    throw error;\n  } finally {\n    await client.end();\n    process.exit(0);\n  }\n}\n\nmigrateParentCategory();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/analyze-content.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'targets' is assigned a value but never used.","line":8,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":16}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\n\nloadEnvConfig(cwd());\n\nasync function analyzeContent() {\n  const targets = {\n    'ржЕрж░рзНржержирзАрждрж┐': 'Economics',\n    'ржорждрж╛ржоржд': 'Opinion',\n    'Feature': 'Feature', // English key\n    'ржлрж┐ржЪрж╛рж░': 'Feature',   // Bangla key\n    'Opinion': 'Opinion', // English key\n    'Literature': 'Literature', // Old\n    'рж╕рж╛рж╣рж┐рждрзНржп': 'Literature',    // Old key\n    'рж╕рж╛рж╣рж┐рждрзНржп ржУ рж╕ржВрж╕рзНржХрзГрждрж┐': 'Lit & Culture' // New Target\n  };\n  const client = await db.connect();\n  try {\n    const res = await client.sql`\n      SELECT category, COUNT(*) as count \n      FROM articles \n      GROUP BY category \n      ORDER BY count DESC\n    `;\n    \n    console.log('--- DB Content Distribution ---');\n    res.rows.forEach(r => {\n      console.log(`${r.category}: ${r.count}`);\n    });\n    \n    // Check total\n    const total = await client.sql`SELECT COUNT(*) FROM articles`;\n    console.log(`\\nTotal Articles: ${total.rows[0].count}`);\n\n  } catch (err) {\n    console.error(err);\n  } finally {\n    await client.end();\n  }\n}\n\nanalyzeContent();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/check-article-content.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/check-categories.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\n\nloadEnvConfig(cwd());\n\nasync function checkCategories() {\n  const client = await db.connect();\n  try {\n    const res = await client.sql`\n      SELECT category, parent_category, COUNT(*) as count \n      FROM articles \n      WHERE status = 'published'\n      GROUP BY category, parent_category \n      ORDER BY category ASC;\n    `;\n    console.log(\"Existing Categories in DB (Category | Parent | Count):\");\n    res.rows.forEach(row => console.log(`${row.category} | ${row.parent_category} : ${row.count}`));\n  } catch (e) {\n    console.error(e);\n  } finally {\n    client.end();\n  }\n}\n\ncheckCategories();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/check-schema.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":26,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":53},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":1,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":18}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nconst { createClient } = require('@vercel/postgres');\nrequire('dotenv').config({ path: '.env.local' });\n\nasync function checkSchema() {\n  const client = createClient();\n  await client.connect();\n\n  try {\n    const res = await client.sql`\n      SELECT column_name, data_type \n      FROM information_schema.columns \n      WHERE table_name = 'articles';\n    `;\n    \n    console.log(\"Columns in 'articles' table:\");\n    res.rows.forEach(row => {\n      console.log(`- ${row.column_name} (${row.data_type})`);\n    });\n\n    const hasFeatured = res.rows.some(r => r.column_name === 'is_featured' || r.column_name === 'is_prime');\n    console.log(`\\nHas 'is_featured' or 'is_prime': ${hasFeatured}`);\n\n  } catch (error) {\n    console.error('Error querying schema:', error);\n  } finally {\n    await client.end();\n  }\n}\n\ncheckSchema();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/check-value.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":44}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nloadEnvConfig('.');\nconst { sql } = require('@vercel/postgres');\n\nasync function checkValue() {\n  try {\n    const result = await sql`\n      SELECT breaking_news_is_active, breaking_news_ticker FROM site_settings WHERE id = 1;\n    `;\n    console.table(result.rows);\n  } catch (err) {\n    console.error(err);\n  }\n}\n\ncheckValue();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/check_images_script.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":25,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":25,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nimport fs from 'fs';\nimport path from 'path';\n\n// Read mockNews.ts\nconst mockNewsPath = path.join(process.cwd(), 'src/data/mockNews.ts');\nconst content = fs.readFileSync(mockNewsPath, 'utf-8');\n\n// Regex to find the IMAGES_DB object and its content\n// We look for patterns like \"ID\", inside the array brackets\nconst imageIdRegex = /\"([0-9]+-[a-f0-9]+)\"/g;\n\nconst matches = [...content.matchAll(imageIdRegex)];\nconst uniqueIds = [...new Set(matches.map(m => m[1]))];\n\nconsole.log(`Found ${uniqueIds.length} unique image IDs.`);\n\nasync function checkImage(id: string) {\n    const url = `https://images.unsplash.com/photo-${id}?q=80&w=100&auto=format&fit=crop`;\n    try {\n        const response = await fetch(url, { method: 'HEAD' });\n        if (response.status !== 200) {\n            return { id, status: response.status };\n        }\n    } catch (error) {\n        return { id, status: 'error' };\n    }\n    return null;\n}\n\nasync function main() {\n    console.log(\"Checking images...\");\n    const results = [];\n    // Check in batches avoiding rate limits\n    const batchSize = 10;\n    for (let i = 0; i < uniqueIds.length; i += batchSize) {\n        const batch = uniqueIds.slice(i, i + batchSize);\n        const promises = batch.map(id => checkImage(id));\n        const batchResults = await Promise.all(promises);\n        results.push(...batchResults.filter(r => r !== null));\n        process.stdout.write(`.`);\n    }\n    console.log(\"\\nDone.\");\n\n    if (results.length > 0) {\n        console.log(\"Broken IDs found:\");\n        results.forEach(r => console.log(`${r.id} (${r.status})`));\n    } else {\n        console.log(\"All IDs are valid!\");\n    }\n}\n\nmain();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/cleanup-database.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\n\nloadEnvConfig(cwd());\n\nasync function cleanupDummyArticles() {\n  const client = await db.connect();\n  \n  try {\n    console.log('ЁЯЧСя╕П  Starting database cleanup...\\n');\n    \n    // First, count current articles\n    const countBefore = await client.sql`SELECT COUNT(*) as total FROM articles`;\n    console.log(`ЁЯУК Current articles in database: ${countBefore.rows[0].total}`);\n    \n    // Delete all articles\n    console.log('\\nЁЯФз Deleting all existing articles...');\n    const deleteResult = await client.sql`DELETE FROM articles`;\n    console.log(`тЬЕ Deleted ${deleteResult.rowCount} articles`);\n    \n    // Reset the public_id sequence\n    console.log('\\nЁЯФз Resetting public_id sequence...');\n    await client.sql`ALTER SEQUENCE articles_public_id_seq RESTART WITH 1`;\n    console.log('тЬЕ Sequence reset to 1');\n    \n    // Verify cleanup\n    const countAfter = await client.sql`SELECT COUNT(*) as total FROM articles`;\n    console.log(`\\nЁЯУК Articles remaining: ${countAfter.rows[0].total}`);\n    \n    console.log('\\nтЬи Database cleanup completed successfully!');\n    console.log('ЁЯУЭ Ready for fresh content import.');\n    \n  } catch (error) {\n    console.error('тЭМ Cleanup Error:', error);\n    throw error;\n  } finally {\n    await client.end();\n  }\n}\n\ncleanupDummyArticles();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/clear-content.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\n\n// Load environment variables\nloadEnvConfig(cwd());\n\nasync function clearContent(client) {\n  try {\n    console.log('ЁЯЧСя╕П  Clearing all articles and related data...');\n\n    // Clear related tables first (if cascading, but being explicit is safer)\n    await client.sql`DELETE FROM article_tags`;\n    console.log('тЬУ Cleared article_tags');\n    \n    await client.sql`DELETE FROM article_images`;\n    console.log('тЬУ Cleared article_images');\n    \n    await client.sql`DELETE FROM article_contributors`;\n    console.log('тЬУ Cleared article_contributors');\n\n    // Clear main articles table\n    await client.sql`DELETE FROM articles`;\n    console.log('тЬУ Cleared articles');\n\n    console.log('\\nтЬЕ All content cleared successfully!');\n  } catch (error) {\n    console.error('Error clearing content:', error);\n    throw error;\n  }\n}\n\nasync function main() {\n  const client = await db.connect();\n  await clearContent(client);\n  await client.end();\n}\n\nmain().catch((err) => {\n  console.error('An error occurred:', err);\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/debug-db.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\n\nloadEnvConfig(cwd());\n\nasync function main() {\n  const client = await db.connect();\n  try {\n    console.log('ЁЯФН Checking article with public_id = 1...');\n    const res = await client.sql`\n      SELECT id, title, public_id, slug, \n             LENGTH(content) as content_length,\n             SUBSTRING(content, 1, 100) as content_preview \n      FROM articles \n      WHERE public_id = 1\n    `;\n    console.log('Rows found:', res.rowCount);\n    console.table(res.rows);\n    \n    if (res.rowCount > 0 && res.rows[0].content_length === 0) {\n      console.log('\\nтЪая╕П  WARNING: Article content is empty!');\n    }\n  } catch (err) {\n    console.error('тЭМ Database Error:', err);\n  } finally {\n    await client.end();\n  }\n}\n\nmain();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/debug-mapper.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":8,"column":38,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":8,"endColumn":67}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\n\nloadEnvConfig(cwd());\n\nasync function main() {\n  try {\n    const { mapArticleToNewsItem } = require('../src/lib/mappers');\n    \n    const mockArticle = {\n        id: '8b24b2e6-e3a0-443d-9d0b-0d45df242d4b',\n        title: 'Test Article',\n        slug: '-962',\n        status: 'published',\n        category: 'General',\n        created_at: new Date().toISOString(),\n        content: '<p>Content</p>',\n        image: null,\n        author: 'Admin',\n        video_url: null\n    };\n\n    console.log('ЁЯзк Testing mapper...');\n    const result = mapArticleToNewsItem(mockArticle);\n    console.log('тЬЕ Result:', result ? 'Success' : 'Failure');\n    console.log(result);\n    \n  } catch (error) {\n    console.error('тЭМ Error testing mapper:', error);\n  }\n}\n\nmain();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/debug-rss.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\n\nloadEnvConfig(cwd());\n\nasync function debug() {\n  try {\n    const url = 'https://samakal.com/rss.xml';\n    console.log('Fetching ' + url);\n    const res = await fetch(url, {\n        headers: {\n            'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36'\n        }\n    });\n    const text = await res.text();\n    console.log('Status:', res.status);\n    console.log('Content Type:', res.headers.get('content-type'));\n    console.log('First 500 chars:');\n    console.log(text.substring(0, 500));\n  } catch (e) {\n    console.error(e);\n  }\n}\n\ndebug();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/fix-category-names.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\n\nloadEnvConfig(cwd());\n\nasync function fixCategories() {\n  const client = await db.connect();\n  try {\n    console.log('ЁЯФД Fixing category names...');\n    \n    // Fix Literature -> рж╕рж╛рж╣рж┐рждрзНржп\n    const litRes = await client.sql`\n      UPDATE articles \n      SET category = 'рж╕рж╛рж╣рж┐рждрзНржп' \n      WHERE category = 'Literature'\n    `;\n    console.log(`тЬЕ Updated ${litRes.rowCount} articles from 'Literature' to 'рж╕рж╛рж╣рж┐рждрзНржп'`);\n\n    // Fix Feature -> ржлрж┐ржЪрж╛рж░\n    const featRes = await client.sql`\n      UPDATE articles \n      SET category = 'ржлрж┐ржЪрж╛рж░' \n      WHERE category = 'Feature'\n    `;\n    console.log(`тЬЕ Updated ${featRes.rowCount} articles from 'Feature' to 'ржлрж┐ржЪрж╛рж░'`);\n\n  } catch (err) {\n    console.error('тЭМ Error fixing categories:', err);\n  } finally {\n    await client.end();\n  }\n}\n\nfixCategories();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/fix-parent-categories-v2.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\n\nloadEnvConfig(cwd());\n\n// 1. CONFIG MAPPINGS (English -> Bengali)\nconst CATEGORY_MAP = {\n  // Main Categories\n  latest: \"рж╕рж░рзНржмрж╢рзЗрж╖\",\n  politics: \"рж░рж╛ржЬржирзАрждрж┐\",\n  bangladesh: \"ржмрж╛ржВрж▓рж╛ржжрзЗрж╢\", \n  saradesh: \"рж╕рж╛рж░рж╛ржжрзЗрж╢\", // treat as bangladesh\n  capital: \"рж░рж╛ржЬржзрж╛ржирзА\",\n  crime: \"ржЕржкрж░рж╛ржз\",\n  world: \"ржмрж┐рж╢рзНржм\",\n  business: \"ржмрж╛ржгрж┐ржЬрзНржп\",\n  economics: \"ржЕрж░рзНржержирзАрждрж┐\",\n  feature: \"ржлрж┐ржЪрж╛рж░\",\n  opinion: \"ржорждрж╛ржоржд\",\n  sports: \"ржЦрзЗрж▓рж╛\",\n  entertainment: \"ржмрж┐ржирзЛржжржи\",\n  technology: \"ржкрзНрж░ржпрзБржХрзНрждрж┐\",\n  education: \"рж╢рж┐ржХрзНрж╖рж╛\",\n  lifestyle: \"ржЬрзАржмржиржпрж╛ржкржи\",\n  jobs: \"ржЪрж╛ржХрж░рж┐\",\n  dhaka: \"ржврж╛ржХрж╛\",\n  chattogram: \"ржЪржЯрзНржЯржЧрзНрж░рж╛ржо\",\n  rajshahi: \"рж░рж╛ржЬрж╢рж╛рж╣рзА\",\n  khulna: \"ржЦрзБрж▓ржирж╛\",\n  barishal: \"ржмрж░рж┐рж╢рж╛рж▓\",\n  sylhet: \"рж╕рж┐рж▓рзЗржЯ\",\n  rangpur: \"рж░ржВржкрзБрж░\",\n  mymensingh: \"ржорзЯржоржирж╕рж┐ржВрж╣\",\n  \n  // Sub-categories (Standardizing output to Bengali)\n  \"law-courts\": \"ржЖржЗржи ржУ ржмрж┐ржЪрж╛рж░\",\n  health: \"рж╕рзНржмрж╛рж╕рзНржерзНржп\",\n  agriculture: \"ржХрзГрж╖рж┐\",\n  parliament: \"рж╕ржВрж╕ржж\",\n  environment: \"ржкрж░рж┐ржмрзЗрж╢\",\n  struggle: \"рж▓рзЬрж╛ржЗрзЯрзЗрж░ ржоржЮрзНржЪ\",\n  \"industry-trade\": \"рж╢рж┐рж▓рзНржк-ржмрж╛ржгрж┐ржЬрзНржп\",\n  \"share-market\": \"рж╢рзЗрзЯрж╛рж░ржмрж╛ржЬрж╛рж░\",\n  \"bank-insurance\": \"ржмрзНржпрж╛ржВржХ-ржмрзАржорж╛\",\n  \"budget\": \"ржмрж╛ржЬрзЗржЯ\",\n  \"interview\": \"рж╕рж╛ржХрзНрж╖рж╛рзОржХрж╛рж░\",\n  \"chaturanga\": \"ржЪрждрзБрж░ржЩрзНржЧ\",\n  \"reaction\": \"ржкрзНрж░рждрж┐ржХрзНрж░рж┐рзЯрж╛\",\n  \"khola-chokhe\": \"ржЦрзЛрж▓рж╛ржЪрзЛржЦрзЗ\",\n  \"muktomunch\": \"ржорзБржХрзНрждржоржЮрзНржЪ\",\n  \"onno-drishti\": \"ржЕржирзНржпржжрзГрж╖рзНржЯрж┐\",\n  \"editorial\": \"рж╕ржорзНржкрж╛ржжржХрзАрзЯ\",\n  \"bollywood\": \"ржмрж▓рж┐ржЙржб\",\n  \"hollywood\": \"рж╣рж▓рж┐ржЙржб\",\n  \"dhallywood\": \"ржврж╛рж▓рж┐ржЙржб\",\n  \"tollywood\": \"ржЯрж╛рж▓рж┐ржЙржб\",\n  \"television\": \"ржЯрзЗрж▓рж┐ржнрж┐рж╢ржи\",\n  \"music\": \"ржорж┐ржЙржЬрж┐ржХ\",\n  \"other-entertainment\": \"ржЕржирзНржпрж╛ржирзНржп\",\n  \"entertainment-photos\": \"ржмрж┐ржирзЛржжржирзЗрж░ ржЫржмрж┐\",\n  \"ott\": \"ржУржЯрж┐ржЯрж┐\",\n  \"stage\": \"ржоржЮрзНржЪ\",\n  \"football\": \"ржлрзБржЯржмрж▓\",\n  \"cricket\": \"ржХрзНрж░рж┐ржХрзЗржЯ\",\n  \"tennis\": \"ржЯрзЗржирж┐рж╕\",\n  \"golf\": \"ржЧрж▓ржл\",\n  \"badminton\": \"ржмрзНржпрж╛ржбржорж┐ржирзНржЯржи\",\n  \"t20-world-cup\": \"ржЯрж┐тАУржЯрзЛрзЯрзЗржирзНржЯрж┐ ржмрж┐рж╢рзНржмржХрж╛ржк\",\n  \"other-sports\": \"ржЕржирзНржпрж╛ржирзНржп\",\n  \"miscellaneous\": \"ржмрж┐ржмрж┐ржз\",\n  \"awami-league\": \"ржЖржУрзЯрж╛ржорзА рж▓рзАржЧ\",\n  \"bnp\": \"ржмрж┐ржПржиржкрж┐\",\n  \"jamaat\": \"ржЬрж╛ржорж╛рзЯрж╛ржд\",\n  \"jatiya-party\": \"ржЬрж╛рждрзАржпрж╝ ржкрж╛рж░рзНржЯрж┐\",\n  \"others-politics\": \"ржЕржирзНржпрж╛ржирзНржп\",\n  \"election\": \"ржирж┐рж░рзНржмрж╛ржЪржи\",\n  \"asia\": \"ржПрж╢рж┐рзЯрж╛\",\n  \"europe\": \"ржЗржЙрж░рзЛржк\",\n  \"america\": \"ржЖржорзЗрж░рж┐ржХрж╛\",\n  \"middle-east\": \"ржоржзрзНржпржкрзНрж░рж╛ржЪрзНржп\",\n  \"south-asia\": \"ржжржХрзНрж╖рж┐ржг ржПрж╢рж┐рзЯрж╛\",\n  \"war\": \"ржпрзБржжрзНржз-рж╕ржВржШрж╛ржд\",\n  \"gadgets\": \"ржЧрзНржпрж╛ржЬрзЗржЯ\",\n  \"social-media\": \"рж╕рзЛрж╢рзНржпрж╛рж▓ ржорж┐ржбрж┐рзЯрж╛\",\n  \"it-sector\": \"ржЖржЗржЯрж┐ ржЦрж╛ржд\",\n  \"science\": \"ржмрж┐ржЬрзНржЮрж╛ржи\",\n  \"apps-games\": \"ржЕрзНржпрж╛ржк ржУ ржЧрзЗржо\",\n  \"fashion\": \"ржлрзНржпрж╛рж╢ржи\",\n  \"food\": \"ржЦрж╛ржмрж╛рж░\",\n  \"travel\": \"ржнрзНрж░ржоржг\",\n  \"health-tips\": \"рж╕рзНржмрж╛рж╕рзНржерзНржп ржЯрж┐ржкрж╕\",\n  \"relationship\": \"рж╕ржорзНржкрж░рзНржХ\",\n  \"religion\": \"ржзрж░рзНржо ржУ ржЬрзАржмржи\",\n  \"campus\": \"ржХрзНржпрж╛ржорзНржкрж╛рж╕\",\n  \"admission\": \"ржнрж░рзНрждрж┐\",\n  \"exam-results\": \"ржкрж░рзАржХрзНрж╖рж╛ ржУ ржлрж▓\",\n  \"scholarship\": \"ржмрзГрждрзНрждрж┐\",\n  \"murder\": \"ржЦрзБржи\",\n  \"corruption\": \"ржжрзБрж░рзНржирзАрждрж┐\",\n  \"rape\": \"ржзрж░рзНрж╖ржг\",\n  \"trafficking\": \"ржкрж╛ржЪрж╛рж░\",\n  \"court\": \"ржЖржжрж╛рж▓ржд\",\n  \"north-city\": \"ржЙрждрзНрждрж░ рж╕рж┐ржЯрж┐\",\n  \"south-city\": \"ржжржХрзНрж╖рж┐ржг рж╕рж┐ржЯрж┐\",\n  \"traffic\": \"ржпрж╛ржиржЬржЯ\",\n  \"services\": \"ржирж╛ржЧрж░рж┐ржХ рж╕рзЗржмрж╛\"\n};\n\n// Reverse Mapping: Bengali -> English Slug\nconst BENGALI_TO_ENGLISH = {};\nObject.entries(CATEGORY_MAP).forEach(([english, bengali]) => {\n    BENGALI_TO_ENGLISH[bengali] = english;\n});\n\n// Parent Logic\nconst SUB_CATEGORIES = {\n  bangladesh: ['education', 'law-courts', 'health', 'agriculture', 'parliament', 'environment', 'struggle'],\n  economics: ['industry-trade', 'share-market', 'bank-insurance', 'budget'],\n  opinion: ['interview', 'chaturanga', 'reaction', 'khola-chokhe', 'muktomunch', 'onno-drishti', 'editorial'],\n  entertainment: ['bollywood', 'hollywood', 'dhallywood', 'tollywood', 'television', 'music', 'other-entertainment', 'entertainment-photos', 'ott', 'stage'],\n  sports: ['football', 'cricket', 'tennis', 'golf', 'badminton', 't20-world-cup', 'other-sports', 'miscellaneous'],\n  politics: ['awami-league', 'bnp', 'jamaat', 'jatiya-party', 'others-politics', 'election'],\n  world: ['asia', 'europe', 'america', 'middle-east', 'south-asia', 'war'],\n  technology: ['gadgets', 'social-media', 'it-sector', 'science', 'apps-games'],\n  lifestyle: ['fashion', 'food', 'travel', 'health-tips', 'relationship', 'religion'],\n  education: ['campus', 'admission', 'exam-results', 'scholarship'],\n  crime: ['murder', 'corruption', 'rape', 'trafficking', 'court'],\n  capital: ['north-city', 'south-city', 'traffic', 'services'],\n};\n\n// Child English -> Parent English\nconst CHILD_TO_PARENT_ENGLISH = {};\nObject.entries(SUB_CATEGORIES).forEach(([parent, children]) => {\n    children.forEach(child => {\n        CHILD_TO_PARENT_ENGLISH[child] = parent;\n    });\n});\n\n// Manual corrections map for things that might match multiple inputs\nconst MANUAL_PARENT_MAP_BENGALI = {\n    'ржЙрждрзНрждрж░ рж╕рж┐ржЯрж┐': 'рж░рж╛ржЬржзрж╛ржирзА', // Capital\n    'ржжржХрзНрж╖рж┐ржг рж╕рж┐ржЯрж┐': 'рж░рж╛ржЬржзрж╛ржирзА',\n    'ржХрзНржпрж╛ржорзНржкрж╛рж╕': 'рж╢рж┐ржХрзНрж╖рж╛', // Education\n    // Add others if ambiguity exists, but English mapping usually suffices\n};\n\n\nasync function fixParentCategoriesV2() {\n  console.log('ЁЯФД Starting Parent Category Fix V2...');\n  \n  const client = await db.connect();\n  \n  try {\n    const { rows: articles } = await client.sql`SELECT id, title, category, parent_category FROM articles`;\n    console.log(`ЁЯУК Found ${articles.length} articles to process.`);\n\n    let updatedCount = 0;\n    \n    for (const article of articles) {\n        if (!article.category) continue;\n\n        let needsUpdate = false;\n        let finalCategory = article.category.trim(); // Assume it's already normalized to Bengali or English\n        let finalParent = article.parent_category;\n\n        // 1. Identify English Slug\n        let englishSlug = article.category.trim().toLowerCase();\n        \n        // If it's already Bengali, find the English slug\n        if (BENGALI_TO_ENGLISH[finalCategory]) {\n            englishSlug = BENGALI_TO_ENGLISH[finalCategory];\n        }\n\n        // 2. Normalize Category to Bengali (if not already)\n        // Check if we have a mapping for this English slug\n        if (CATEGORY_MAP[englishSlug]) {\n            const normalized = CATEGORY_MAP[englishSlug];\n            if (normalized !== finalCategory) {\n                finalCategory = normalized;\n                needsUpdate = true;\n            }\n        }\n\n        // 3. Find Parent (Using English Slug)\n        const parentEnglishSlug = CHILD_TO_PARENT_ENGLISH[englishSlug];\n        let calculatedParentBengali = null;\n\n        if (parentEnglishSlug) {\n            // It IS a subcategory\n            calculatedParentBengali = CATEGORY_MAP[parentEnglishSlug];\n        } else {\n             // Not found in subcategories list? \n             // Maybe it's a main category (like 'sports' -> 'ржЦрзЗрж▓рж╛') or unknown\n             // Check Manual Map if needed\n             if (MANUAL_PARENT_MAP_BENGALI[finalCategory]) {\n                 calculatedParentBengali = MANUAL_PARENT_MAP_BENGALI[finalCategory];\n             }\n        }\n\n        // 4. Update Parent\n        if (calculatedParentBengali) {\n            if (finalParent !== calculatedParentBengali) {\n                finalParent = calculatedParentBengali;\n                needsUpdate = true;\n            }\n        } else {\n            // Should be NULL (Main category)\n            if (finalParent !== null) {\n                finalParent = null; \n                needsUpdate = true;\n            }\n        }\n\n        // 5. Execute Update\n        if (needsUpdate) {\n            await client.sql`\n                UPDATE articles \n                SET category = ${finalCategory}, \n                    parent_category = ${finalParent}\n                WHERE id = ${article.id}\n            `;\n            // Log only changes\n            console.log(`тЬЕ Fixed: [${article.title.substring(0, 15)}...] \n               Slug: ${englishSlug}\n               Cat: ${article.category} -> ${finalCategory} \n               Parent: ${article.parent_category} -> ${finalParent}`);\n            updatedCount++;\n        }\n    }\n    \n    console.log(`\\nтЬи V2 Fix Done! Updated ${updatedCount} articles.`);\n\n    // 4. Final Verification\n    console.log('\\nЁЯУК Database State (Top 30):');\n    const stats = await client.sql`\n        SELECT category, parent_category, count(*) \n        FROM articles \n        GROUP BY category, parent_category \n        ORDER BY count(*) DESC\n        LIMIT 30\n    `;\n    console.table(stats.rows);\n\n  } catch (error) {\n    console.error('тЭМ Error:', error);\n  } finally {\n    await client.end();\n  }\n}\n\nfixParentCategoriesV2();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/fix-parent-categories-v3-cleanup.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\n\nloadEnvConfig(cwd());\n\n// Targeted Cleanup Map: \"Subcategory Name\" -> \"Parent Name\"\n// This list is derived from the check-categories.js output where Parent was NULL\nconst TARGETED_FIXES = {\n    // Sports (ржЦрзЗрж▓рж╛)\n    'ржХрзНрж░рж┐ржХрзЗржЯ': 'ржЦрзЗрж▓рж╛',\n    'ржлрзБржЯржмрж▓': 'ржЦрзЗрж▓рж╛',\n    'ржЯрзЗржирж┐рж╕': 'ржЦрзЗрж▓рж╛',\n    'ржмрж┐ржмрж┐ржз': 'ржЦрзЗрж▓рж╛',\n    'ржЯрж┐тАУржЯрзЛрзЯрзЗржирзНржЯрж┐ ржмрж┐рж╢рзНржмржХрж╛ржк': 'ржЦрзЗрж▓рж╛',\n\n    // Entertainment (ржмрж┐ржирзЛржжржи)\n    'рж╣рж▓рж┐ржЙржб': 'ржмрж┐ржирзЛржжржи',\n    'ржмрж▓рж┐ржЙржб': 'ржмрж┐ржирзЛржжржи',\n    'ржврж╛рж▓рж┐ржЙржб': 'ржмрж┐ржирзЛржжржи', // Just in case\n    'ржорж┐ржЙржЬрж┐ржХ': 'ржмрж┐ржирзЛржжржи',\n    'ржУржЯрж┐ржЯрж┐': 'ржмрж┐ржирзЛржжржи',\n\n    // Economics (ржЕрж░рзНржержирзАрждрж┐)\n    'рж╢рж┐рж▓рзНржк-ржмрж╛ржгрж┐ржЬрзНржп': 'ржЕрж░рзНржержирзАрждрж┐',\n    'ржмрж╛ржЬрзЗржЯ': 'ржЕрж░рзНржержирзАрждрж┐',\n    'ржмрзНржпрж╛ржВржХ-ржмрзАржорж╛': 'ржЕрж░рзНржержирзАрждрж┐',\n    'рж╢рзЗрзЯрж╛рж░ржмрж╛ржЬрж╛рж░': 'ржЕрж░рзНржержирзАрждрж┐',\n\n    // Unknown/Misc -> Opinion? No, these are Opinion subcategories\n    'ржорзБржХрзНрждржоржЮрзНржЪ': 'ржорждрж╛ржоржд',\n    'рж╕ржорзНржкрж╛ржжржХрзАрзЯ': 'ржорждрж╛ржоржд',\n    'ржЪрждрзБрж░ржЩрзНржЧ': 'ржорждрж╛ржоржд',\n    'рж╕рж╛ржХрзНрж╖рж╛рзОржХрж╛рж░': 'ржорждрж╛ржоржд',\n    'ржкрзНрж░рждрж┐ржХрзНрж░рж┐рзЯрж╛': 'ржорждрж╛ржоржд',\n\n    // Crime (ржЕржкрж░рж╛ржз)\n    'ржЦрзБржи': 'ржЕржкрж░рж╛ржз', // Murder\n    'ржзрж░рзНрж╖ржг': 'ржЕржкрж░рж╛ржз', // Rape\n    'ржЖржжрж╛рж▓ржд': 'ржЕржкрж░рж╛ржз', // Court\n    'ржкрж╛ржЪрж╛рж░': 'ржЕржкрж░рж╛ржз',\n    'ржжрзБрж░рзНржирзАрждрж┐': 'ржЕржкрж░рж╛ржз',\n\n    // Education (рж╢рж┐ржХрзНрж╖рж╛)\n    'ржнрж░рзНрждрж┐': 'рж╢рж┐ржХрзНрж╖рж╛',\n    'ржХрзНржпрж╛ржорзНржкрж╛рж╕': 'рж╢рж┐ржХрзНрж╖рж╛',\n    'ржкрж░рзАржХрзНрж╖рж╛ ржУ ржлрж▓': 'рж╢рж┐ржХрзНрж╖рж╛',\n    'ржмрзГрждрзНрждрж┐': 'рж╢рж┐ржХрзНрж╖рж╛',\n    \n    // Tech (ржкрзНрж░ржпрзБржХрзНрждрж┐)\n    'ржЧрзНржпрж╛ржЬрзЗржЯ': 'ржкрзНрж░ржпрзБржХрзНрждрж┐',\n    'ржмрж┐ржЬрзНржЮрж╛ржи': 'ржкрзНрж░ржпрзБржХрзНрждрж┐', // Science\n    'рж╕рзЛрж╢рзНржпрж╛рж▓ ржорж┐ржбрж┐рзЯрж╛': 'ржкрзНрж░ржпрзБржХрзНрждрж┐',\n    \n    // Lifestyle (ржЬрзАржмржиржпрж╛ржкржи)\n    'ржлрзНржпрж╛рж╢ржи': 'ржЬрзАржмржиржпрж╛ржкржи',\n    'рж╕рзНржмрж╛рж╕рзНржерзНржп ржЯрж┐ржкрж╕': 'ржЬрзАржмржиржпрж╛ржкржи',\n    'ржнрзНрж░ржоржг': 'ржЬрзАржмржиржпрж╛ржкржи',\n    'рж╕ржорзНржкрж░рзНржХ': 'ржЬрзАржмржиржпрж╛ржкржи',\n    'ржЦрж╛ржмрж╛рж░': 'ржЬрзАржмржиржпрж╛ржкржи',\n\n    // World (ржмрж┐рж╢рзНржм)\n    'ржЖржорзЗрж░рж┐ржХрж╛': 'ржмрж┐рж╢рзНржм',\n    'ржПрж╢рж┐рзЯрж╛': 'ржмрж┐рж╢рзНржм',\n    'ржЗржЙрж░рзЛржк': 'ржмрж┐рж╢рзНржм',\n    'ржоржзрзНржпржкрзНрж░рж╛ржЪрзНржп': 'ржмрж┐рж╢рзНржм',\n    'ржпрзБржжрзНржз-рж╕ржВржШрж╛ржд': 'ржмрж┐рж╢рзНржм',\n\n    // Politics (рж░рж╛ржЬржирзАрждрж┐)\n    'ржмрж┐ржПржиржкрж┐': 'рж░рж╛ржЬржирзАрждрж┐',\n    'ржирж┐рж░рзНржмрж╛ржЪржи': 'рж░рж╛ржЬржирзАрждрж┐',\n    'ржЖржУрзЯрж╛ржорзА рж▓рзАржЧ': 'рж░рж╛ржЬржирзАрждрж┐',\n    'ржЬрж╛ржорж╛рзЯрж╛ржд': 'рж░рж╛ржЬржирзАрждрж┐',\n    'ржЬрж╛рждрзАржпрж╝ ржкрж╛рж░рзНржЯрж┐': 'рж░рж╛ржЬржирзАрждрж┐'\n};\n\n// Handle the Education ambiguity\n// Config shows Education is a child of Bangladesh.\n// Previous output showed: рж╢рж┐ржХрзНрж╖рж╛ | ржмрж╛ржВрж▓рж╛ржжрзЗрж╢ : 9, рж╢рж┐ржХрзНрж╖рж╛ | null : 1\n// We should standardize. \n// However, 'Education' can be a top-level category too. \n// For now, I will fix the subcategories of Education (Campus, etc) to point to Education.\n// And I will leave 'Education' itself alone or map it to Bangladesh if that's the established pattern.\n// Based on count (9 vs 1), 'Bangladesh' is the dominant parent for 'Education' articles.\nconst SPECIAL_FIXES = {\n    'рж╢рж┐ржХрзНрж╖рж╛': 'ржмрж╛ржВрж▓рж╛ржжрзЗрж╢'\n};\n\n\nasync function fixParentCategoriesV3() {\n  console.log('ЁЯФД Starting Parent Category Fix V3 (Cleanup)...');\n  \n  const client = await db.connect();\n  \n  try {\n    let updatedCount = 0;\n\n    // 1. Apply STANDARD TARGETED FIXES\n    // \"Where category = X AND parent_category IS NULL\"\n    for (const [category, parent] of Object.entries(TARGETED_FIXES)) {\n        const result = await client.sql`\n            UPDATE articles \n            SET parent_category = ${parent}\n            WHERE category = ${category} AND (parent_category IS NULL OR parent_category = '')\n        `;\n        \n        if (result.rowCount > 0) {\n            console.log(`тЬЕ Fixed ${result.rowCount} articles for: ${category} -> Parent: ${parent}`);\n            updatedCount += result.rowCount;\n        }\n    }\n\n    // 2. Apply SPECIAL FIXES (Education -> Bangladesh)\n    for (const [category, parent] of Object.entries(SPECIAL_FIXES)) {\n          const result = await client.sql`\n            UPDATE articles \n            SET parent_category = ${parent}\n            WHERE category = ${category} AND (parent_category IS NULL OR parent_category = '')\n        `;\n         if (result.rowCount > 0) {\n            console.log(`тЬЕ Fixed ${result.rowCount} articles for: ${category} -> Parent: ${parent}`);\n            updatedCount += result.rowCount;\n        }\n    }\n    \n    console.log(`\\nтЬи V3 Cleanup Done! Total updates: ${updatedCount}`);\n\n    // 3. Final Verification\n    console.log('\\nЁЯУК Final Database State:');\n    const stats = await client.sql`\n        SELECT category, parent_category, count(*) \n        FROM articles \n        WHERE status = 'published'\n        GROUP BY category, parent_category \n        ORDER BY category ASC\n    `;\n    stats.rows.forEach(row => console.log(`${row.category} | ${row.parent_category} : ${row.count}`));\n\n  } catch (error) {\n    console.error('тЭМ Error:', error);\n  } finally {\n    await client.end();\n  }\n}\n\nfixParentCategoriesV3();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/fix-parent-categories.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\n\nloadEnvConfig(cwd());\n\n// 1. REPLICATE CONFIG MAPPINGS (since we can't import TS easily in JS script)\n\nconst CATEGORY_MAP = {\n  latest: \"рж╕рж░рзНржмрж╢рзЗрж╖\",\n  politics: \"рж░рж╛ржЬржирзАрждрж┐\",\n  bangladesh: \"ржмрж╛ржВрж▓рж╛ржжрзЗрж╢\", \n  saradesh: \"рж╕рж╛рж░рж╛ржжрзЗрж╢\",\n  capital: \"рж░рж╛ржЬржзрж╛ржирзА\",\n  crime: \"ржЕржкрж░рж╛ржз\",\n  world: \"ржмрж┐рж╢рзНржм\",\n  business: \"ржмрж╛ржгрж┐ржЬрзНржп\",\n  economics: \"ржЕрж░рзНржержирзАрждрж┐\",\n  feature: \"ржлрж┐ржЪрж╛рж░\",\n  opinion: \"ржорждрж╛ржоржд\",\n  sports: \"ржЦрзЗрж▓рж╛\",\n  entertainment: \"ржмрж┐ржирзЛржжржи\",\n  technology: \"ржкрзНрж░ржпрзБржХрзНрждрж┐\",\n  education: \"рж╢рж┐ржХрзНрж╖рж╛\",\n  lifestyle: \"ржЬрзАржмржиржпрж╛ржкржи\",\n  jobs: \"ржЪрж╛ржХрж░рж┐\",\n  dhaka: \"ржврж╛ржХрж╛\",\n  chattogram: \"ржЪржЯрзНржЯржЧрзНрж░рж╛ржо\",\n  rajshahi: \"рж░рж╛ржЬрж╢рж╛рж╣рзА\",\n  khulna: \"ржЦрзБрж▓ржирж╛\",\n  barishal: \"ржмрж░рж┐рж╢рж╛рж▓\",\n  sylhet: \"рж╕рж┐рж▓рзЗржЯ\",\n  rangpur: \"рж░ржВржкрзБрж░\",\n  mymensingh: \"ржорзЯржоржирж╕рж┐ржВрж╣\",\n};\n\nconst SUB_CATEGORIES = {\n  bangladesh: ['education', 'law-courts', 'health', 'agriculture', 'parliament', 'environment', 'struggle'],\n  economics: ['industry-trade', 'share-market', 'bank-insurance', 'budget'],\n  opinion: ['interview', 'chaturanga', 'reaction', 'khola-chokhe', 'muktomunch', 'onno-drishti', 'editorial'],\n  entertainment: ['bollywood', 'hollywood', 'dhallywood', 'tollywood', 'television', 'music', 'other-entertainment', 'entertainment-photos', 'ott', 'stage'],\n  sports: ['football', 'cricket', 'tennis', 'golf', 'badminton', 't20-world-cup', 'other-sports', 'miscellaneous'],\n  politics: ['awami-league', 'bnp', 'jamaat', 'jatiya-party', 'others-politics', 'election'],\n  world: ['asia', 'europe', 'america', 'middle-east', 'south-asia', 'war'],\n  technology: ['gadgets', 'social-media', 'it-sector', 'science', 'apps-games'],\n  lifestyle: ['fashion', 'food', 'travel', 'health-tips', 'relationship', 'religion'],\n  education: ['campus', 'admission', 'exam-results', 'scholarship'],\n  crime: ['murder', 'corruption', 'rape', 'trafficking', 'court'],\n  capital: ['north-city', 'south-city', 'traffic', 'services'],\n};\n\n// Map subcategory slug back to parent slug\nconst SUB_TO_PARENT = {};\nObject.entries(SUB_CATEGORIES).forEach(([parent, children]) => {\n    children.forEach(child => {\n        SUB_TO_PARENT[child] = parent;\n    });\n});\n\n\n// 2. HELPER FUNCTIONS\n\nfunction normalizeCategory(input) {\n    if (!input) return null;\n    const lowerInput = input.trim().toLowerCase();\n\n    // Check specific manual overrides first (for mixed Bengali/English inputs)\n    const EXTENDED_MAP = {\n        'politics': 'рж░рж╛ржЬржирзАрждрж┐',\n        'bangladesh': 'ржмрж╛ржВрж▓рж╛ржжрзЗрж╢',\n        'saradesh': 'ржмрж╛ржВрж▓рж╛ржжрзЗрж╢',\n        'sports': 'ржЦрзЗрж▓рж╛',\n        'entertainment': 'ржмрж┐ржирзЛржжржи',\n        'international': 'ржЖржирзНрждрж░рзНржЬрж╛рждрж┐ржХ',\n        'world': 'ржЖржирзНрждрж░рзНржЬрж╛рждрж┐ржХ',\n        'economics': 'ржЕрж░рзНржержирзАрждрж┐',\n        'business': 'ржмрж╛ржгрж┐ржЬрзНржп',\n        'opinion': 'ржорждрж╛ржоржд',\n        'feature': 'ржлрж┐ржЪрж╛рж░',\n        'technology': 'ржкрзНрж░ржпрзБржХрзНрждрж┐',\n        'education': 'рж╢рж┐ржХрзНрж╖рж╛',\n        'lifestyle': 'ржЬрзАржмржиржпрж╛ржкржи',\n        'jobs': 'ржЪрж╛ржХрж░рж┐',\n        'national': 'ржмрж╛ржВрж▓рж╛ржжрзЗрж╢',\n    };\n\n    if (EXTENDED_MAP[lowerInput]) return EXTENDED_MAP[lowerInput];\n    if (CATEGORY_MAP[lowerInput]) return CATEGORY_MAP[lowerInput];\n    \n    // Reverse lookup (if already Bengali)\n    const isBengali = Object.values(CATEGORY_MAP).includes(input) || Object.values(EXTENDED_MAP).includes(input);\n    if (isBengali) return input;\n    \n    // If it's a known subcategory, return it as-is (we don't translate subcategory slugs yet, usually)\n    if (SUB_TO_PARENT[lowerInput]) return lowerInput;\n\n    return input; \n}\n\nfunction getParentCategoryBengali(categorySlug) {\n    if (!categorySlug) return null;\n    const lowerSlug = categorySlug.toLowerCase().trim();\n    \n    const parentSlug = SUB_TO_PARENT[lowerSlug];\n    if (!parentSlug) return null;\n\n    // Use EXTENDED_MAP logic for parent too, or direct CATEGORY_MAP\n    if (CATEGORY_MAP[parentSlug]) return CATEGORY_MAP[parentSlug];\n    \n    // Manually map common parents if missing from basic map\n    const PARENT_MAP = {\n        'bangladesh': 'ржмрж╛ржВрж▓рж╛ржжрзЗрж╢',\n        'economics': 'ржЕрж░рзНржержирзАрждрж┐',\n        'opinion': 'ржорждрж╛ржоржд',\n        'entertainment': 'ржмрж┐ржирзЛржжржи',\n        'sports': 'ржЦрзЗрж▓рж╛',\n        'politics': 'рж░рж╛ржЬржирзАрждрж┐',\n        'world': 'ржЖржирзНрждрж░рзНржЬрж╛рждрж┐ржХ',\n        'technology': 'ржкрзНрж░ржпрзБржХрзНрждрж┐',\n        'lifestyle': 'ржЬрзАржмржиржпрж╛ржкржи',\n        'education': 'рж╢рж┐ржХрзНрж╖рж╛',\n        'crime': 'ржЕржкрж░рж╛ржз',\n        'capital': 'рж░рж╛ржЬржзрж╛ржирзА'\n    };\n    \n    return PARENT_MAP[parentSlug] || null;\n}\n\n\n// 3. MAIN MIGRATION\n\nasync function fixParentCategories() {\n  console.log('ЁЯФД Starting Parent Category Fix...');\n  \n  const client = await db.connect();\n  \n  try {\n    // get all articles\n    const { rows: articles } = await client.sql`SELECT id, title, category, parent_category FROM articles`;\n    console.log(`ЁЯУК Found ${articles.length} articles to process.`);\n\n    let updatedCount = 0;\n    \n    for (const article of articles) {\n        let needsUpdate = false;\n        let finalCategory = article.category;\n        let finalParent = article.parent_category;\n\n        // 1. Normalize Category (if needed)\n        // If current category is English Main Category (e.g. \"Sports\"), convert to \"ржЦрзЗрж▓рж╛\"\n        const normalized = normalizeCategory(article.category);\n        if (normalized && normalized !== article.category) {\n            finalCategory = normalized;\n            needsUpdate = true;\n        }\n\n        // 2. Determine Parent\n        // Check if the ORIGINAL category (likely slug \"cricket\") or Normalized is a subcategory\n        const categoryForLookup = article.category; // usually slugs like 'cricket' are stored as category\n        const calculatedParent = getParentCategoryBengali(categoryForLookup);\n\n        if (calculatedParent) {\n            // It IS a subcategory\n            if (finalParent !== calculatedParent) {\n                finalParent = calculatedParent;\n                needsUpdate = true;\n            }\n        } else {\n             // It is NOT a subcategory (is a Main Category)\n             // Ensure parent_category is NULL (or empty) to avoid stale data\n             if (finalParent !== null) {\n                 finalParent = null; \n                 needsUpdate = true; // Clear incorrect parent if any\n             }\n        }\n\n        // 3. Update DB\n        if (needsUpdate) {\n            await client.sql`\n                UPDATE articles \n                SET category = ${finalCategory}, \n                    parent_category = ${finalParent}\n                WHERE id = ${article.id}\n            `;\n            console.log(`тЬЕ Updated: [${article.title.substring(0, 20)}...] Cat: ${article.category} -> ${finalCategory} | Parent: ${article.parent_category} -> ${finalParent}`);\n            updatedCount++;\n        }\n    }\n    \n    console.log(`\\nтЬи Done! Updated ${updatedCount} articles.`);\n\n    // 4. Verification Stats\n    console.log('\\nЁЯУК Final Stats (Top 20 Categories):');\n    const stats = await client.sql`\n        SELECT category, parent_category, count(*) \n        FROM articles \n        GROUP BY category, parent_category \n        ORDER BY count(*) DESC\n        LIMIT 20\n    `;\n    console.table(stats.rows);\n\n  } catch (error) {\n    console.error('тЭМ Error:', error);\n  } finally {\n    await client.end();\n  }\n}\n\nfixParentCategories();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/health-check.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":26,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":51}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// System Health Check - Using Prisma Client\nconst { PrismaClient } = require('@prisma/client');\nconst prisma = new PrismaClient();\n\nasync function checkImports() {\n  try {\n    console.log('\\n=== ЁЯУК SAMAKAL IMPORT PROGRESS ===\\n');\n\n    // Total Articles\n    const totalCount = await prisma.article.count();\n    console.log(`тЬЕ Total Articles in Database: ${totalCount.toLocaleString()}`);\n\n    // Articles by Category\n    console.log('\\nЁЯУБ Articles by Category:');\n    const categoryGroups = await prisma.article.groupBy({\n      by: ['category'],\n      _count: { id: true },\n      orderBy: { _count: { id: 'desc' } },\n      take: 20\n    });\n    \n    categoryGroups.forEach((group, index) => {\n      const bar = 'тЦИ'.repeat(Math.floor(group._count.id / 10));\n      console.log(`  ${index + 1}. ${group.category.padEnd(20)} ${group._count.id.toString().padStart(5)} ${bar}`);\n    });\n\n    // Data Quality\n    console.log('\\nЁЯФН Data Quality Check:');\n    const [noImage, noSummary, noContent, noParent] = await Promise.all([\n      prisma.article.count({ where: { OR: [{ image: null }, { image: '' }] } }),\n      prisma.article.count({ where: { OR: [{ summary: null }, { summary: '' }] } }),\n      prisma.article.count({ where: { OR: [{ content: null }, { content: '' }] } }),\n      prisma.article.count({ where: { OR: [{ parentCategory: null }, { parentCategory: '' }] } })\n    ]);\n\n    console.log(`  Missing Images: ${noImage} (${((noImage/totalCount)*100).toFixed(1)}%)`);\n    console.log(`  Missing Summary: ${noSummary} (${((noSummary/totalCount)*100).toFixed(1)}%)`);\n    console.log(`  Missing Content: ${noContent} (${((noContent/totalCount)*100).toFixed(1)}%)`);\n    console.log(`  Missing Parent Category: ${noParent} (${((noParent/totalCount)*100).toFixed(1)}%)`);\n\n    // Recent Imports (last 6 hours)\n    console.log('\\nтП░ Recent Activity (Last 6 Hours):');\n    const sixHoursAgo = new Date(Date.now() - 6 * 60 * 60 * 1000);\n    const recentArticles = await prisma.article.count({\n      where: { createdAt: { gte: sixHoursAgo } }\n    });\n    console.log(`  New articles: ${recentArticles}`);\n\n    if (recentArticles > 0) {\n      const recentByCategory = await prisma.article.groupBy({\n        by: ['category'],\n        where: { createdAt: { gte: sixHoursAgo } },\n        _count: { id: true },\n        orderBy: { _count: { id: 'desc' } }\n      });\n      \n      console.log(`  By category:`);\n      recentByCategory.forEach(group => {\n        console.log(`    - ${group.category}: +${group._count.id}`);\n      });\n    }\n\n    // Parent Category Distribution\n    console.log('\\nЁЯЧВя╕П  Parent Category Distribution:');\n    const parentGroups = await prisma.article.groupBy({\n      by: ['parentCategory'],\n      _count: { id: true },\n      where: { parentCategory: { not: null } },\n      orderBy: { _count: { id: 'desc' } }\n    });\n    \n    parentGroups.forEach(group => {\n      console.log(`  ${group.parentCategory}: ${group._count.id}`);\n    });\n\n    // Categories Distribution\n    const uniqueCategories = await prisma.article.findMany({\n      distinct: ['category'],\n      select: { category: true }\n    });\n    console.log(`\\nЁЯУК Total Unique Categories: ${uniqueCategories.length}`);\n\n    console.log('\\nтЬЕ Health Check Complete!\\n');\n\n  } catch (error) {\n    console.error('тЭМ Error:', error.message);\n  } finally {\n    await prisma.$disconnect();\n  }\n}\n\ncheckImports();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/import-economics-batch.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":4,"column":19,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":39},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":5,"column":15,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":5,"endColumn":31},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":6,"column":12,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":6,"endColumn":25},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":7,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":7,"endColumn":29},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":8,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":8,"endColumn":33},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":43,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":43,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":90,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":90,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":121,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":121,"endColumn":17}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\nconst puppeteer = require('puppeteer');\nconst axios = require('axios');\nconst fs = require('fs');\nconst path = require('path');\nconst crypto = require('crypto');\n\nloadEnvConfig(cwd());\n\nconst CATEGORY = 'ржЕрж░рзНржержирзАрждрж┐';\nconst CATEGORY_URL = '/economics/';\nconst TARGET_COUNT = 6; // Only need 6 more to reach 15\n\nconst UPLOADS_DIR = path.join(process.cwd(), 'public', 'uploads', 'articles');\nif (!fs.existsSync(UPLOADS_DIR)) {\n  fs.mkdirSync(UPLOADS_DIR, { recursive: true });\n}\n\nfunction generateSlug(title, url = '') {\n  // Use both title and URL to ensure uniqueness  \n  const input = title +  url + Date.now();\n  const hash = crypto.createHash('md5').update(input).digest('hex').substring(0, 12);\n  return `-${hash}`;\n}\n\nasync function downloadImage(imageUrl, articleSlug) {\n  try {\n    const response = await axios({\n      url: imageUrl,\n      method: 'GET',\n      responseType: 'arraybuffer',\n      timeout: 10000\n    });\n    \n    const ext = path.extname(new URL(imageUrl).pathname) || '.jpg';\n    const filename = `${articleSlug}${ext}`;\n    const filepath = path.join(UPLOADS_DIR, filename);\n    \n    fs.writeFileSync(filepath, response.data);\n    return `/uploads/articles/${filename}`;\n  } catch (error) {\n    return null;\n  }\n}\n\nasync function scrapeArticle(browser, url) {\n  const page = await browser.newPage();\n  \n  try {\n    await page.goto(url, {\n      waitUntil: 'networkidle2',\n      timeout: 20000\n    });\n    \n    await page.waitForSelector('h1', { timeout: 5000 }).catch(() => {});\n    \n    const articleData = await page.evaluate(() => {\n      const h1 = document.querySelector('h1');\n      const title = h1 ? h1.textContent.trim() : '';\n      \n      const contentDiv = document.querySelector('#contentDetails.dNewsDesc');\n      const content = contentDiv && contentDiv.innerHTML ? contentDiv.innerHTML : '';\n      \n      let imageUrl = '';\n      const ogImage = document.querySelector('meta[property=\"og:image\"]');\n      if (ogImage) {\n        imageUrl = ogImage.getAttribute('content');\n      } else {\n        const img = document.querySelector('div.DNewsImg img, article img');\n        if (img) imageUrl = img.src;\n      }\n      \n      return { title, content, imageUrl };\n    });\n    \n    await page.close();\n    \n    if (!articleData.title || !articleData.content || articleData.content.length < 200) {\n      return null;\n    }\n    \n    return {\n      title: articleData.title,\n      content: articleData.content,\n      imageUrl: articleData.imageUrl,\n      originalUrl: url\n    };\n  } catch (error) {\n    await page.close().catch(() => {});\n    return null;\n  }\n}\n\nasync function getArticleLinks(browser) {\n  const page = await browser.newPage();\n  \n  try {\n    await page.goto(`https://samakal.com${CATEGORY_URL}`, {\n      waitUntil: 'networkidle2',\n      timeout: 20000\n    });\n    \n    const links = await page.evaluate(() => {\n      const articleLinks = [];\n      const linkElements = document.querySelectorAll('a[href*=\"/article/\"]');\n      \n      linkElements.forEach(link => {\n        const href = link.href;\n        if (href && href.includes('/article/') && !articleLinks.includes(href)) {\n          articleLinks.push(href);\n        }\n      });\n      \n      return articleLinks;\n    });\n    \n    await page.close();\n    return links;\n  } catch (error) {\n    await page.close().catch(() => {});\n    return [];\n  }\n}\n\nasync function importArticle(articleData, slug) {\n  const client = await db.connect();\n  try {\n    await client.sql`\n      INSERT INTO articles (\n        id, title, slug, content, image, category,\n        status, source, source_url, created_at\n      ) VALUES (\n        gen_random_uuid(),\n        ${articleData.title},\n        ${slug},\n        ${articleData.content},\n        ${articleData.imageUrl},\n        ${CATEGORY},\n        'published',\n        'Samakal',\n        ${articleData.originalUrl},\n        NOW()\n      )\n    `;\n    await client.end();\n    return true;\n  } catch (error) {\n    console.error(`  тЪая╕П  DB Error: ${error.message}`);\n    await client.end();\n    return false;\n  }\n}\n\nasync function main() {\n  console.log(`ЁЯЪА Importing ${CATEGORY} articles...\\n`);\n  console.log(`ЁЯУК Target: ${TARGET_COUNT} additional articles\\n`);\n  \n  const browser = await puppeteer.launch({ headless: 'new' });\n  \n  let success = 0;\n  let failed = 0;\n  \n  try {\n    console.log('ЁЯУЦ Loading category page...');\n    const links = await getArticleLinks(browser);\n    console.log(`тЬЕ Found ${links.length} article links\\n`);\n    \n    for (let i = 0; i < links.length && success < TARGET_COUNT; i++) {\n      const url = links[i];\n      console.log(`[${i + 1}] Processing: ${url.substring(0, 60)}...`);\n      \n      const articleData = await scrapeArticle(browser, url);\n      \n      if (!articleData) {\n        console.log('  тЭМ Scrape failed\\n');\n        failed++;\n        continue;\n      }\n      \n      const slug = generateSlug(articleData.title, articleData.originalUrl);\n      console.log(`  ЁЯУЭ ${articleData.title.substring(0, 60)}...`);\n      \n      if (articleData.imageUrl) {\n        const localImage = await downloadImage(articleData.imageUrl, slug);\n        if (localImage) {\n          articleData.imageUrl = localImage;\n          console.log(`  тЬЕ Image saved`);\n        }\n      }\n      \n      const imported = await importArticle(articleData, slug);\n      \n      if (imported) {\n        success++;\n        console.log(`  тЬЕ Import successful (${success}/${TARGET_COUNT})\\n`);\n      } else {\n        failed++;\n        console.log(`  тЭМ Import failed\\n`);\n      }\n      \n      await new Promise(resolve => setTimeout(resolve, 1500));\n    }\n  } catch (error) {\n    console.error(`\\nтЭМ Fatal error: ${error.message}`);\n  } finally {\n    await browser.close();\n  }\n  \n  console.log('\\nтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ');\n  console.log(`тЬЕ ${CATEGORY}: ${success} articles imported`);\n  console.log(`тЭМ Failed: ${failed}`);\n  console.log('тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ\\n');\n}\n\nmain();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/import-feature.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":26,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":53},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":4,"column":19,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":39},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":5,"column":15,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":5,"endColumn":31},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":6,"column":12,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":6,"endColumn":25},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":7,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":7,"endColumn":29},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":8,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":8,"endColumn":33},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":48,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":48,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":93,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":93,"endColumn":17}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { createClient } = require('@vercel/postgres');\nconst puppeteer = require('puppeteer');\nconst axios = require('axios');\nconst fs = require('fs');\nconst path = require('path');\nconst crypto = require('crypto');\n\nloadEnvConfig(cwd());\n\nconst CATEGORY = 'ржлрж┐ржЪрж╛рж░';\n// Multiple sources for Feature category\nconst SOURCE_URLS = [\n    'https://samakal.com/feature',\n    'https://samakal.com/feature/shoili',\n    'https://samakal.com/feature/sarabela', \n    'https://samakal.com/feature/ghasphoring'\n];\nconst TARGET_COUNT = 20;\n\nconst UPLOADS_DIR = path.join(process.cwd(), 'public', 'uploads', 'articles');\nif (!fs.existsSync(UPLOADS_DIR)) {\n  fs.mkdirSync(UPLOADS_DIR, { recursive: true });\n}\n\nfunction generateSlug(title, url = '') {\n  const input = title + url + Date.now();\n  const hash = crypto.createHash('md5').update(input).digest('hex').substring(0, 12);\n  return `-${hash}`;\n}\n\nasync function downloadImage(imageUrl, articleSlug) {\n  try {\n    const response = await axios({\n      url: imageUrl,\n      method: 'GET',\n      responseType: 'arraybuffer',\n      timeout: 10000\n    });\n    \n    const ext = path.extname(new URL(imageUrl).pathname) || '.jpg';\n    const filename = `${articleSlug}${ext}`;\n    const filepath = path.join(UPLOADS_DIR, filename);\n    \n    fs.writeFileSync(filepath, response.data);\n    return `/uploads/articles/${filename}`;\n  } catch (error) {\n    return null;\n  }\n}\n\nasync function scrapeArticle(browser, url) {\n  const page = await browser.newPage();\n  \n  try {\n    await page.goto(url, {\n      waitUntil: 'networkidle2',\n      timeout: 30000\n    });\n    \n    const articleData = await page.evaluate(() => {\n      const h1 = document.querySelector('h1');\n      const title = h1 ? h1.textContent.trim() : '';\n      \n      const contentDiv = document.querySelector('#contentDetails.dNewsDesc') || document.querySelector('.description');\n      const content = contentDiv ? contentDiv.innerHTML : '';\n      \n      let imageUrl = '';\n      const ogImage = document.querySelector('meta[property=\"og:image\"]');\n      if (ogImage) {\n        imageUrl = ogImage.getAttribute('content');\n      } else {\n        const img = document.querySelector('div.DNewsImg img, article img');\n        if (img) imageUrl = img.src;\n      }\n      \n      return { title, content, imageUrl };\n    });\n    \n    await page.close();\n    \n    if (!articleData.title || !articleData.content || articleData.content.length < 100) {\n      return null;\n    }\n    \n    return {\n      title: articleData.title,\n      content: articleData.content,\n      imageUrl: articleData.imageUrl,\n      originalUrl: url\n    };\n  } catch (error) {\n    await page.close().catch(() => {});\n    return null;\n  }\n}\n\nasync function getArticleLinks(browser) {\n  const allLinks = new Set();\n  \n  for (const sourceUrl of SOURCE_URLS) {\n      console.log(`  Scanning ${sourceUrl}...`);\n      const page = await browser.newPage();\n      try {\n        await page.goto(sourceUrl, {\n          waitUntil: 'networkidle2',\n          timeout: 30000\n        });\n        \n        // Auto-scroll logic could be added here if needed, but for multiple sources we might get enough from initial load\n\n        const links = await page.evaluate(() => {\n          const articleLinks = [];\n          const linkElements = document.querySelectorAll('a[href*=\"/article/\"]');\n          linkElements.forEach(link => {\n            if (link.href && link.href.includes('/article/')) {\n              articleLinks.push(link.href);\n            }\n          });\n          return articleLinks;\n        });\n        \n        links.forEach(l => allLinks.add(l));\n        await page.close();\n      } catch (error) {\n        console.error(`  Error scanning ${sourceUrl}:`, error.message);\n        await page.close().catch(() => {});\n      }\n  }\n  \n  return [...allLinks];\n}\n\nasync function importArticle(articleData, slug) {\n  const client = createClient();\n  await client.connect();\n  \n  try {\n    const existing = await client.sql`SELECT id FROM articles WHERE title = ${articleData.title} LIMIT 1`;\n    if (existing.rows.length > 0) {\n        console.log(`  тЪая╕П Duplicate: ${articleData.title.substring(0, 30)}...`);\n        return false;\n    }\n\n    await client.sql`\n      INSERT INTO articles (\n        id, title, slug, content, image, category,\n        status, source, source_url, created_at, published_at\n      ) VALUES (\n        gen_random_uuid(),\n        ${articleData.title},\n        ${slug},\n        ${articleData.content},\n        ${articleData.imageUrl},\n        ${CATEGORY},\n        'published',\n        'Samakal',\n        ${articleData.originalUrl},\n        NOW(),\n        NOW()\n      )\n    `;\n    return true;\n  } catch (error) {\n    console.error('  тЭМ DB Error:', error.message);\n    return false;\n  } finally {\n    await client.end();\n  }\n}\n\nasync function main() {\n  console.log(`ЁЯЪА Importing ${CATEGORY} articles...`);\n  \n  const browser = await puppeteer.launch({ headless: 'new' });\n  \n  try {\n    console.log('ЁЯУЦ Loading category pages...');\n    const links = await getArticleLinks(browser);\n    console.log(`тЬЕ Found ${links.length} total unique article links\\n`);\n    \n    let success = 0;\n    \n    for (let i = 0; i < links.length && success < TARGET_COUNT; i++) {\n        const url = links[i];\n        console.log(`[${i + 1}/${links.length}] Processing: ${url}`);\n        \n        try {\n            const articleData = await scrapeArticle(browser, url);\n            \n            if (!articleData) {\n                console.log('  тЭМ Scrape failed');\n                continue;\n            }\n            \n            const slug = generateSlug(articleData.title, articleData.originalUrl);\n            \n            if (articleData.imageUrl) {\n                const localImage = await downloadImage(articleData.imageUrl, slug);\n                if (localImage) articleData.imageUrl = localImage;\n            }\n            \n            const imported = await importArticle(articleData, slug);\n            if (imported) {\n                success++;\n                console.log(`  тЬЕ Success! (${success}/${TARGET_COUNT})\\n`);\n            }\n            \n            await new Promise(r => setTimeout(r, 1000)); // Rate limiting\n            \n        } catch (e) {\n            console.error(`Error processing ${url}:`, e.message);\n        }\n    }\n    \n    console.log(`\\nЁЯОЙ Completed! Total imported: ${success}`);\n    \n  } catch (error) {\n    console.error(`\\nтЭМ Fatal error: ${error.message}`);\n  } finally {\n    await browser.close();\n  }\n}\n\nmain();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/import-literature.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":26,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":53},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":4,"column":19,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":39},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":5,"column":15,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":5,"endColumn":31},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":6,"column":12,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":6,"endColumn":25},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":7,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":7,"endColumn":29},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":8,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":8,"endColumn":33},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":45,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":45,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":90,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":90,"endColumn":17}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { createClient } = require('@vercel/postgres');\nconst puppeteer = require('puppeteer');\nconst axios = require('axios');\nconst fs = require('fs');\nconst path = require('path');\nconst crypto = require('crypto');\n\nloadEnvConfig(cwd());\n\nconst CATEGORY = 'рж╕рж╛рж╣рж┐рждрзНржп';\nconst SOURCE_URLS = [\n    'https://samakal.com/sahitto-o-sangskriti',\n    'https://samakal.com/feature/kaler-kheya'\n];\nconst TARGET_COUNT = 20;\n\nconst UPLOADS_DIR = path.join(process.cwd(), 'public', 'uploads', 'articles');\nif (!fs.existsSync(UPLOADS_DIR)) {\n  fs.mkdirSync(UPLOADS_DIR, { recursive: true });\n}\n\nfunction generateSlug(title, url = '') {\n  const input = title + url + Date.now();\n  const hash = crypto.createHash('md5').update(input).digest('hex').substring(0, 12);\n  return `-${hash}`;\n}\n\nasync function downloadImage(imageUrl, articleSlug) {\n  try {\n    const response = await axios({\n      url: imageUrl,\n      method: 'GET',\n      responseType: 'arraybuffer',\n      timeout: 10000\n    });\n    \n    const ext = path.extname(new URL(imageUrl).pathname) || '.jpg';\n    const filename = `${articleSlug}${ext}`;\n    const filepath = path.join(UPLOADS_DIR, filename);\n    \n    fs.writeFileSync(filepath, response.data);\n    return `/uploads/articles/${filename}`;\n  } catch (error) {\n    return null;\n  }\n}\n\nasync function scrapeArticle(browser, url) {\n  const page = await browser.newPage();\n  \n  try {\n    await page.goto(url, {\n      waitUntil: 'networkidle2',\n      timeout: 30000\n    });\n    \n    const articleData = await page.evaluate(() => {\n      const h1 = document.querySelector('h1');\n      const title = h1 ? h1.textContent.trim() : '';\n      \n      const contentDiv = document.querySelector('#contentDetails.dNewsDesc') || document.querySelector('.description');\n      const content = contentDiv ? contentDiv.innerHTML : '';\n      \n      let imageUrl = '';\n      const ogImage = document.querySelector('meta[property=\"og:image\"]');\n      if (ogImage) {\n        imageUrl = ogImage.getAttribute('content');\n      } else {\n        const img = document.querySelector('div.DNewsImg img, article img');\n        if (img) imageUrl = img.src;\n      }\n      \n      return { title, content, imageUrl };\n    });\n    \n    await page.close();\n    \n    if (!articleData.title || !articleData.content || articleData.content.length < 100) {\n      return null;\n    }\n    \n    return {\n      title: articleData.title,\n      content: articleData.content,\n      imageUrl: articleData.imageUrl,\n      originalUrl: url\n    };\n  } catch (error) {\n    await page.close().catch(() => {});\n    return null;\n  }\n}\n\nasync function getArticleLinks(browser) {\n  const allLinks = new Set();\n  \n  for (const sourceUrl of SOURCE_URLS) {\n      console.log(`  Scanning ${sourceUrl}...`);\n      const page = await browser.newPage();\n      try {\n        await page.goto(sourceUrl, {\n          waitUntil: 'networkidle2',\n          timeout: 30000\n        });\n        \n        const links = await page.evaluate(() => {\n          const articleLinks = [];\n          const linkElements = document.querySelectorAll('a[href*=\"/article/\"]');\n          linkElements.forEach(link => {\n            if (link.href && link.href.includes('/article/')) {\n              articleLinks.push(link.href);\n            }\n          });\n          return articleLinks;\n        });\n        \n        links.forEach(l => allLinks.add(l));\n        await page.close();\n      } catch (error) {\n        console.error(`  Error scanning ${sourceUrl}:`, error.message);\n        await page.close().catch(() => {});\n      }\n  }\n  \n  return [...allLinks];\n}\n\nasync function importArticle(articleData, slug) {\n  const client = createClient();\n  await client.connect();\n  \n  try {\n    const existing = await client.sql`SELECT id FROM articles WHERE title = ${articleData.title} LIMIT 1`;\n    if (existing.rows.length > 0) {\n        console.log(`  тЪая╕П Duplicate: ${articleData.title.substring(0, 30)}...`);\n        return false;\n    }\n\n    await client.sql`\n      INSERT INTO articles (\n        id, title, slug, content, image, category,\n        status, source, source_url, created_at, published_at\n      ) VALUES (\n        gen_random_uuid(),\n        ${articleData.title},\n        ${slug},\n        ${articleData.content},\n        ${articleData.imageUrl},\n        ${CATEGORY},\n        'published',\n        'Samakal',\n        ${articleData.originalUrl},\n        NOW(),\n        NOW()\n      )\n    `;\n    return true;\n  } catch (error) {\n    console.error('  тЭМ DB Error:', error.message);\n    return false;\n  } finally {\n    await client.end();\n  }\n}\n\nasync function main() {\n  console.log(`ЁЯЪА Importing ${CATEGORY} articles...`);\n  \n  const browser = await puppeteer.launch({ headless: 'new' });\n  \n  try {\n    console.log('ЁЯУЦ Loading category pages...');\n    const links = await getArticleLinks(browser);\n    console.log(`тЬЕ Found ${links.length} total unique article links\\n`);\n    \n    let success = 0;\n    \n    for (let i = 0; i < links.length && success < TARGET_COUNT; i++) {\n        const url = links[i];\n        console.log(`[${i + 1}/${links.length}] Processing: ${url}`);\n        \n        try {\n            const articleData = await scrapeArticle(browser, url);\n            \n            if (!articleData) {\n                console.log('  тЭМ Scrape failed');\n                continue;\n            }\n            \n            const slug = generateSlug(articleData.title, articleData.originalUrl);\n            \n            if (articleData.imageUrl) {\n                const localImage = await downloadImage(articleData.imageUrl, slug);\n                if (localImage) articleData.imageUrl = localImage;\n            }\n            \n            const imported = await importArticle(articleData, slug);\n            if (imported) {\n                success++;\n                console.log(`  тЬЕ Success! (${success}/${TARGET_COUNT})\\n`);\n            }\n            \n            await new Promise(r => setTimeout(r, 1000));\n            \n        } catch (e) {\n            console.error(`Error processing ${url}:`, e.message);\n        }\n    }\n    \n    console.log(`\\nЁЯОЙ Completed! Total imported: ${success}`);\n    \n  } catch (error) {\n    console.error(`\\nтЭМ Fatal error: ${error.message}`);\n  } finally {\n    await browser.close();\n  }\n}\n\nmain();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/import-opinion.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":26,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":53},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":4,"column":19,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":39},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":5,"column":15,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":5,"endColumn":31},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":6,"column":12,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":6,"endColumn":25},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":7,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":7,"endColumn":29},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":8,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":8,"endColumn":33},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":42,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":42,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":87,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":87,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":137,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":137,"endColumn":17}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { createClient } = require('@vercel/postgres');\nconst puppeteer = require('puppeteer');\nconst axios = require('axios');\nconst fs = require('fs');\nconst path = require('path');\nconst crypto = require('crypto');\n\nloadEnvConfig(cwd());\n\nconst CATEGORY = 'ржорждрж╛ржоржд';\nconst CATEGORY_URL = '/opinion/';\nconst TARGET_COUNT = 20; // Increased target to ensure we get enough\n\nconst UPLOADS_DIR = path.join(process.cwd(), 'public', 'uploads', 'articles');\nif (!fs.existsSync(UPLOADS_DIR)) {\n  fs.mkdirSync(UPLOADS_DIR, { recursive: true });\n}\n\nfunction generateSlug(title, url = '') {\n  const input = title + url + Date.now();\n  const hash = crypto.createHash('md5').update(input).digest('hex').substring(0, 12);\n  return `-${hash}`;\n}\n\nasync function downloadImage(imageUrl, articleSlug) {\n  try {\n    const response = await axios({\n      url: imageUrl,\n      method: 'GET',\n      responseType: 'arraybuffer',\n      timeout: 10000\n    });\n    \n    const ext = path.extname(new URL(imageUrl).pathname) || '.jpg';\n    const filename = `${articleSlug}${ext}`;\n    const filepath = path.join(UPLOADS_DIR, filename);\n    \n    fs.writeFileSync(filepath, response.data);\n    return `/uploads/articles/${filename}`;\n  } catch (error) {\n    return null;\n  }\n}\n\nasync function scrapeArticle(browser, url) {\n  const page = await browser.newPage();\n  \n  try {\n    await page.goto(url, {\n      waitUntil: 'networkidle2',\n      timeout: 30000\n    });\n    \n    const articleData = await page.evaluate(() => {\n      const h1 = document.querySelector('h1');\n      const title = h1 ? h1.textContent.trim() : '';\n      \n      const contentDiv = document.querySelector('#contentDetails.dNewsDesc') || document.querySelector('.description');\n      const content = contentDiv ? contentDiv.innerHTML : '';\n      \n      let imageUrl = '';\n      const ogImage = document.querySelector('meta[property=\"og:image\"]');\n      if (ogImage) {\n        imageUrl = ogImage.getAttribute('content');\n      } else {\n        const img = document.querySelector('div.DNewsImg img, article img');\n        if (img) imageUrl = img.src;\n      }\n      \n      return { title, content, imageUrl };\n    });\n    \n    await page.close();\n    \n    if (!articleData.title || !articleData.content || articleData.content.length < 100) {\n      return null;\n    }\n    \n    return {\n      title: articleData.title,\n      content: articleData.content,\n      imageUrl: articleData.imageUrl,\n      originalUrl: url\n    };\n  } catch (error) {\n    await page.close().catch(() => {});\n    return null;\n  }\n}\n\nasync function getArticleLinks(browser) {\n  const page = await browser.newPage();\n  \n  try {\n    await page.goto(`https://samakal.com${CATEGORY_URL}`, {\n      waitUntil: 'networkidle2',\n      timeout: 30000\n    });\n    \n    // Auto-scroll to load more items\n    await page.evaluate(async () => {\n        await new Promise((resolve) => {\n            let totalHeight = 0;\n            const distance = 100;\n            const timer = setInterval(() => {\n                const scrollHeight = document.body.scrollHeight;\n                window.scrollBy(0, distance);\n                totalHeight += distance;\n\n                if(totalHeight >= scrollHeight || totalHeight > 5000){\n                    clearInterval(timer);\n                    resolve();\n                }\n            }, 100);\n        });\n    });\n\n    const links = await page.evaluate(() => {\n      const articleLinks = [];\n      // Selector targeting common article links\n      const linkElements = document.querySelectorAll('a[href*=\"/article/\"]');\n      \n      linkElements.forEach(link => {\n        const href = link.href;\n        if (href && href.includes('/article/') && !articleLinks.includes(href)) {\n          articleLinks.push(href);\n        }\n      });\n      \n      return articleLinks;\n    });\n    \n    await page.close();\n    return [...new Set(links)]; // Remove duplicates\n  } catch (error) {\n    await page.close().catch(() => {});\n    return [];\n  }\n}\n\nasync function importArticle(articleData, slug) {\n  // Create a FRESH client for every single insertion to avoid timeout/pool issues\n  const client = createClient();\n  await client.connect();\n  \n  try {\n    // Check for duplicates first\n    const existing = await client.sql`SELECT id FROM articles WHERE title = ${articleData.title} LIMIT 1`;\n    if (existing.rows.length > 0) {\n        console.log(`  тЪая╕П Duplicate: ${articleData.title.substring(0, 30)}...`);\n        return false;\n    }\n\n    await client.sql`\n      INSERT INTO articles (\n        id, title, slug, content, image, category,\n        status, source, source_url, created_at, published_at\n      ) VALUES (\n        gen_random_uuid(),\n        ${articleData.title},\n        ${slug},\n        ${articleData.content},\n        ${articleData.imageUrl},\n        ${CATEGORY},\n        'published',\n        'Samakal',\n        ${articleData.originalUrl},\n        NOW(),\n        NOW()\n      )\n    `;\n    return true;\n  } catch (error) {\n    console.error('  тЭМ DB Error:', error.message);\n    return false;\n  } finally {\n    await client.end(); // CRITICAL: Close connection immediately\n  }\n}\n\nasync function main() {\n  console.log(`ЁЯЪА Importing ${CATEGORY} articles...`);\n  \n  const browser = await puppeteer.launch({ headless: 'new' });\n  \n  try {\n    console.log('ЁЯУЦ Loading category page...');\n    const links = await getArticleLinks(browser);\n    console.log(`тЬЕ Found ${links.length} article links\\n`);\n    \n    let success = 0;\n    \n    // Process in batches of 1 to be extremely safe, but we can just loop\n    for (let i = 0; i < links.length && success < TARGET_COUNT; i++) {\n        const url = links[i];\n        console.log(`[${i + 1}/${links.length}] Processing: ${url}`);\n        \n        try {\n            const articleData = await scrapeArticle(browser, url);\n            \n            if (!articleData) {\n                console.log('  тЭМ Scrape failed (content missing or empty)');\n                continue;\n            }\n            \n            const slug = generateSlug(articleData.title, articleData.originalUrl);\n            \n            if (articleData.imageUrl) {\n                const localImage = await downloadImage(articleData.imageUrl, slug);\n                if (localImage) articleData.imageUrl = localImage;\n            }\n            \n            const imported = await importArticle(articleData, slug);\n            if (imported) {\n                success++;\n                console.log(`  тЬЕ Success! (${success}/${TARGET_COUNT})\\n`);\n            }\n            \n            // Wait a bit to be gentle\n            await new Promise(r => setTimeout(r, 1000));\n            \n        } catch (e) {\n            console.error(`Error processing ${url}:`, e.message);\n        }\n    }\n    \n    console.log(`\\nЁЯОЙ Completed! Total imported: ${success}`);\n    \n  } catch (error) {\n    console.error(`\\nтЭМ Fatal error: ${error.message}`);\n  } finally {\n    await browser.close();\n  }\n}\n\nmain();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/import-real-news.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":37},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":4,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":5,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":5,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":6,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":6,"endColumn":43},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":167,"column":20,"nodeType":"Identifier","messageId":"unusedVar","endLine":167,"endColumn":21}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const Parser = require('rss-parser');\nconst cheerio = require('cheerio');\nconst slugify = require('slugify');\nconst { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\n\n// Load environment variables\nloadEnvConfig(cwd());\n\nconst parser = new Parser();\n\n// Feed Configurations\nconst FEEDS = [\n  {\n    source: 'Prothom Alo',\n    url: 'https://www.prothomalo.com/feed/',\n    type: 'rss'\n  },\n  {\n    source: 'Samakal',\n    url: 'https://samakal.com/rss.xml',\n    type: 'manual'\n  }\n];\n\n// Category Mapping (Bengali to English Enum)\nconst CATEGORY_MAP = {\n  'рж░рж╛ржЬржирзАрждрж┐': 'Politics',\n  'ржмрж╛ржВрж▓рж╛ржжрзЗрж╢': 'Bangladesh',\n  'рж╕рж╛рж░рж╛ржжрзЗрж╢': 'Bangladesh',\n  'ржмрж┐рж╢рзНржм': 'World',\n  'ржЦрзЗрж▓рж╛': 'Sports',\n  'ржХрзНрж░рж┐ржХрзЗржЯ': 'Sports',\n  'ржлрзБржЯржмрж▓': 'Sports',\n  'ржмрж┐ржирзЛржжржи': 'Entertainment',\n  'ржмрж╛ржгрж┐ржЬрзНржп': 'Business',\n  'ржЕрж░рзНржержирзАрждрж┐': 'Business',\n  'ржорждрж╛ржоржд': 'Opinion',\n  'ржкрзНрж░ржпрзБржХрзНрждрж┐': 'Technology',\n  'ржЬрзАржмржиржпрж╛ржкржи': 'Lifestyle',\n  'ржЪрж╛ржХрж░рж┐': 'Jobs',\n  'рж╢рж┐ржХрзНрж╖рж╛': 'Education',\n  'ржЕржкрж░рж╛ржз': 'Crime',\n  'рж░рж╛ржЬржзрж╛ржирзА': 'Capital',\n};\n\nfunction mapCategory(rawCategories) {\n  if (!rawCategories || rawCategories.length === 0) return 'General';\n  \n  // Handle if category is a string or array\n  const categories = Array.isArray(rawCategories) ? rawCategories : [rawCategories];\n  \n  for (const cat of categories) {\n    const normalized = cat.trim();\n    if (CATEGORY_MAP[normalized]) {\n      return CATEGORY_MAP[normalized];\n    }\n  }\n  return 'Bangladesh'; // Default fallback\n}\n\n// Generate Slug\nfunction generateSlug(title) {\n  return slugify(title, {\n    lower: true,\n    strict: true,\n    locale: 'bn', // Bengali locale support might vary, but strict removes special chars\n    trim: true\n  }) + '-' + Math.floor(Math.random() * 1000);\n}\n\nasync function importNews(client) {\n  try {\n    // Get Admin User\n    const users = await client.sql`SELECT id FROM users WHERE role = 'admin' LIMIT 1`;\n    const authorId = users.rows[0]?.id;\n\n    if (!authorId) {\n      console.error('No admin user found. Run seed-admin.js first.');\n      return;\n    }\n\n    let totalImported = 0;\n\n    for (const feedConfig of FEEDS) {\n      console.log(`\\nЁЯУб Fetching feed: ${feedConfig.source}...`);\n      \n      try {\n        let items = [];\n\n        // Manual Parsing for Samakal (or if RSS Parser fails)\n        if (feedConfig.type === 'manual') {\n            const response = await fetch(feedConfig.url, {\n                headers: {\n                    // Mimic curl to bypass simple bot protection that allows curl\n                    'User-Agent': 'curl/7.64.1',\n                    'Accept': '*/*'\n                }\n            });\n            const text = await response.text();\n            \n            // Log if weird response\n            if (!text.includes('<rss') && !text.includes('<feed') && !text.includes('<channel')) {\n                console.warn(`Invalid XML response from ${feedConfig.source} (Size: ${text.length}). First 100 chars: ${text.substring(0, 100)}...`);\n                // If it's HTML, we might need a different UA or just skip\n                continue;\n            }\n\n            const $ = cheerio.load(text, { xmlMode: true });\n            \n            $('item').each((i, el) => {\n                const title = $(el).find('title').text();\n                const link = $(el).find('link').text();\n                const description = $(el).find('description').text();\n                const pubDate = $(el).find('pubDate').text();\n                const category = $(el).find('category').first().text();\n                \n                let img = $(el).find('media\\\\:content, content').attr('url');\n                if (!img) {\n                    const match = description.match(/<img[^>]+src=\"([^\">]+)\"/);\n                    if (match) img = match[1];\n                }\n\n                items.push({\n                    title,\n                    link,\n                    content: description,\n                    isoDate: pubDate ? new Date(pubDate).toISOString() : new Date().toISOString(),\n                    categories: [category],\n                    imageUrl: img\n                });\n            });\n            \n            console.log(`   Found ${items.length} items manually.`);\n        } else {\n            // Standard RSS Parser for Prothom Alo\n            const feed = await parser.parseURL(feedConfig.url);\n            items = feed.items.map(item => ({\n                ...item,\n                imageUrl: item.enclosure?.url || item['media:content']?.$.url\n            }));\n            console.log(`   Found ${items.length} items via Parser.`);\n        }\n\n        for (const item of items) {\n          const title = item.title;\n          if (!title) continue;\n\n          // Check duplicate by title or link\n          const existing = await client.sql`\n            SELECT id FROM articles WHERE title = ${title} OR source_url = ${item.link} LIMIT 1\n          `;\n          \n          if (existing.rowCount > 0) {\n            process.stdout.write('.');\n            continue;\n          }\n\n          // Generate Metadata\n          const slug = generateSlug(title);\n          const category = mapCategory(item.categories);\n          \n          let createdAt = new Date().toISOString();\n          try {\n             if (item.isoDate) createdAt = item.isoDate;\n          } catch (e) {}\n          \n          // Image Extraction\n          let image = item.imageUrl || 'https://images.unsplash.com/photo-1585829365295-ab7cd400c167?q=80&w=2070';\n          if (!image) {\n             if (item.content && item.content.match(/<img[^>]+src=\"([^\">]+)\"/)) {\n                 image = item.content.match(/<img[^>]+src=\"([^\">]+)\"/)[1];\n             }\n          }\n\n          // Content Strategy\n          let content = item.content || item['content:encoded'] || item.contentSnippet || '';\n\n          // Clean DB insert\n          await client.sql`\n            INSERT INTO articles (\n              title, slug, content, status, category, views, author_id, image, \n              source, source_url, created_at\n            ) VALUES (\n              ${title}, ${slug}, ${content}, 'published', ${category}, \n              ${Math.floor(Math.random() * 5000)}, ${authorId}, ${image},\n              ${feedConfig.source}, ${item.link}, ${createdAt}\n            )\n          `;\n          \n          process.stdout.write('тЬУ');\n          totalImported++;\n        }\n      } catch (err) {\n        console.error(`\\nFailed to process feed ${feedConfig.source}:`, err.message);\n      }\n    }\n\n    console.log(`\\n\\nтЬЕ Successfully imported ${totalImported} new articles.`);\n\n  } catch (error) {\n    console.error('Import failed:', error);\n  }\n}\n\nasync function main() {\n  const client = await db.connect();\n  await importNews(client);\n  await client.end();\n}\n\nmain().catch(console.error);\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/import-samagra.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":26,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":53},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":4,"column":19,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":39},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":5,"column":15,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":5,"endColumn":31},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":6,"column":12,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":6,"endColumn":25},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":7,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":7,"endColumn":29},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":8,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":8,"endColumn":33},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":42,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":42,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":87,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":87,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":133,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":133,"endColumn":17}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { createClient } = require('@vercel/postgres');\nconst puppeteer = require('puppeteer');\nconst axios = require('axios');\nconst fs = require('fs');\nconst path = require('path');\nconst crypto = require('crypto');\n\nloadEnvConfig(cwd());\n\nconst CATEGORY = 'рж╕ржоржЧрзНрж░'; // Mapping 'Whole Country' to 'Samagra'\nconst SOURCE_URL = 'https://samakal.com/whole-country';\nconst TARGET_COUNT = 20;\n\nconst UPLOADS_DIR = path.join(process.cwd(), 'public', 'uploads', 'articles');\nif (!fs.existsSync(UPLOADS_DIR)) {\n  fs.mkdirSync(UPLOADS_DIR, { recursive: true });\n}\n\nfunction generateSlug(title, url = '') {\n  const input = title + url + Date.now();\n  const hash = crypto.createHash('md5').update(input).digest('hex').substring(0, 12);\n  return `-${hash}`;\n}\n\nasync function downloadImage(imageUrl, articleSlug) {\n  try {\n    const response = await axios({\n      url: imageUrl,\n      method: 'GET',\n      responseType: 'arraybuffer',\n      timeout: 10000\n    });\n    \n    const ext = path.extname(new URL(imageUrl).pathname) || '.jpg';\n    const filename = `${articleSlug}${ext}`;\n    const filepath = path.join(UPLOADS_DIR, filename);\n    \n    fs.writeFileSync(filepath, response.data);\n    return `/uploads/articles/${filename}`;\n  } catch (error) {\n    return null;\n  }\n}\n\nasync function scrapeArticle(browser, url) {\n  const page = await browser.newPage();\n  \n  try {\n    await page.goto(url, {\n      waitUntil: 'networkidle2',\n      timeout: 30000\n    });\n    \n    const articleData = await page.evaluate(() => {\n      const h1 = document.querySelector('h1');\n      const title = h1 ? h1.textContent.trim() : '';\n      \n      const contentDiv = document.querySelector('#contentDetails.dNewsDesc') || document.querySelector('.description');\n      const content = contentDiv ? contentDiv.innerHTML : '';\n      \n      let imageUrl = '';\n      const ogImage = document.querySelector('meta[property=\"og:image\"]');\n      if (ogImage) {\n        imageUrl = ogImage.getAttribute('content');\n      } else {\n        const img = document.querySelector('div.DNewsImg img, article img');\n        if (img) imageUrl = img.src;\n      }\n      \n      return { title, content, imageUrl };\n    });\n    \n    await page.close();\n    \n    if (!articleData.title || !articleData.content || articleData.content.length < 100) {\n      return null;\n    }\n    \n    return {\n      title: articleData.title,\n      content: articleData.content,\n      imageUrl: articleData.imageUrl,\n      originalUrl: url\n    };\n  } catch (error) {\n    await page.close().catch(() => {});\n    return null;\n  }\n}\n\nasync function getArticleLinks(browser) {\n  const page = await browser.newPage();\n  \n  try {\n    await page.goto(SOURCE_URL, {\n      waitUntil: 'networkidle2',\n      timeout: 30000\n    });\n    \n    // Auto-scroll to load more items\n    await page.evaluate(async () => {\n        await new Promise((resolve) => {\n            let totalHeight = 0;\n            const distance = 100;\n            const timer = setInterval(() => {\n                const scrollHeight = document.body.scrollHeight;\n                window.scrollBy(0, distance);\n                totalHeight += distance;\n\n                if(totalHeight >= scrollHeight || totalHeight > 5000){\n                    clearInterval(timer);\n                    resolve();\n                }\n            }, 100);\n        });\n    });\n\n    const links = await page.evaluate(() => {\n      const articleLinks = [];\n      const linkElements = document.querySelectorAll('a[href*=\"/article/\"]');\n      linkElements.forEach(link => {\n        if (link.href && link.href.includes('/article/') && !articleLinks.includes(link.href)) {\n          articleLinks.push(link.href);\n        }\n      });\n      return articleLinks;\n    });\n    \n    await page.close();\n    return links;\n  } catch (error) {\n    await page.close().catch(() => {});\n    return [];\n  }\n}\n\nasync function importArticle(articleData, slug) {\n  const client = createClient();\n  await client.connect();\n  \n  try {\n    const existing = await client.sql`SELECT id FROM articles WHERE title = ${articleData.title} LIMIT 1`;\n    if (existing.rows.length > 0) {\n        console.log(`  тЪая╕П Duplicate: ${articleData.title.substring(0, 30)}...`);\n        return false;\n    }\n\n    await client.sql`\n      INSERT INTO articles (\n        id, title, slug, content, image, category,\n        status, source, source_url, created_at, published_at\n      ) VALUES (\n        gen_random_uuid(),\n        ${articleData.title},\n        ${slug},\n        ${articleData.content},\n        ${articleData.imageUrl},\n        ${CATEGORY},\n        'published',\n        'Samakal',\n        ${articleData.originalUrl},\n        NOW(),\n        NOW()\n      )\n    `;\n    return true;\n  } catch (error) {\n    console.error('  тЭМ DB Error:', error.message);\n    return false;\n  } finally {\n    await client.end();\n  }\n}\n\nasync function main() {\n  console.log(`ЁЯЪА Importing ${CATEGORY} articles...`);\n  \n  const browser = await puppeteer.launch({ headless: 'new' });\n  \n  try {\n    console.log('ЁЯУЦ Loading category page...');\n    const links = await getArticleLinks(browser);\n    console.log(`тЬЕ Found ${links.length} article links\\n`);\n    \n    let success = 0;\n    \n    for (let i = 0; i < links.length && success < TARGET_COUNT; i++) {\n        const url = links[i];\n        console.log(`[${i + 1}/${links.length}] Processing: ${url}`);\n        \n        try {\n            const articleData = await scrapeArticle(browser, url);\n            \n            if (!articleData) {\n                console.log('  тЭМ Scrape failed');\n                continue;\n            }\n            \n            const slug = generateSlug(articleData.title, articleData.originalUrl);\n            \n            if (articleData.imageUrl) {\n                const localImage = await downloadImage(articleData.imageUrl, slug);\n                if (localImage) articleData.imageUrl = localImage;\n            }\n            \n            const imported = await importArticle(articleData, slug);\n            if (imported) {\n                success++;\n                console.log(`  тЬЕ Success! (${success}/${TARGET_COUNT})\\n`);\n            }\n            \n            await new Promise(r => setTimeout(r, 1000));\n            \n        } catch (e) {\n            console.error(`Error processing ${url}:`, e.message);\n        }\n    }\n    \n    console.log(`\\nЁЯОЙ Completed! Total imported: ${success}`);\n    \n  } catch (error) {\n    console.error(`\\nтЭМ Fatal error: ${error.message}`);\n  } finally {\n    await browser.close();\n  }\n}\n\nmain();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/inspect-feature-dom.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":19,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":39}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const puppeteer = require('puppeteer');\n\nasync function inspect() {\n  const browser = await puppeteer.launch({ headless: 'new' });\n  const page = await browser.newPage();\n  const url = 'https://samakal.com/feature/article/330032/%E0%A6%AA%E0%A6%A6%E0%A6%BE%E0%A6%A4%E0%A6%BF%E0%A6%95%E0%A7%87%E0%A6%B0-%E2%80%98%E0%A6%86%E0%A6%B2%E0%A6%BF%E0%A6%AC%E0%A6%BE%E0%A6%AC%E0%A6%BE-%E0%A6%93-%E0%A6%9A%E0%A6%B2%E0%A7%8D%E0%A6%B2%E0%A6%BF%E0%A6%B6-%E0%A6%9A%E0%A7%8B%E0%A6%B0%E2%80%99';\n  \n  try {\n    console.log(`Visiting ${url}...`);\n    await page.goto(url, { waitUntil: 'networkidle2' });\n    \n    // Log potential content containers\n    const containers = await page.evaluate(() => {\n      const candidates = [];\n      document.querySelectorAll('div').forEach(div => {\n        // If div has a lot of text, it might be the content\n        if (div.innerText.length > 500) {\n           candidates.push({\n             tag: div.tagName,\n             id: div.id,\n             className: div.className,\n             textSample: div.innerText.substring(0, 50)\n           });\n        }\n      });\n      return candidates;\n    });\n    \n    console.log('Potential Content Containers:', JSON.stringify(containers, null, 2));\n    \n  } catch(e) {\n    console.error(e);\n  } finally {\n    await browser.close();\n  }\n}\n\ninspect();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/inspect-schema.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":43}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { db } = require('@vercel/postgres');\n\nasync function inspectSchema(client) {\n  try {\n    // Get articles table schema\n    const articlesSchema = await client.sql`\n      SELECT \n        column_name, \n        data_type, \n        character_maximum_length,\n        is_nullable,\n        column_default\n      FROM information_schema.columns\n      WHERE table_name = 'articles'\n      ORDER BY ordinal_position;\n    `;\n\n    console.log('\\nЁЯУК ARTICLES TABLE SCHEMA:');\n    console.log('=====================================');\n    articlesSchema.rows.forEach(col => {\n      console.log(`${col.column_name.padEnd(20)} | ${col.data_type.padEnd(15)} | Nullable: ${col.is_nullable}`);\n    });\n\n    // Get all tables\n    const tables = await client.sql`\n      SELECT table_name \n      FROM information_schema.tables \n      WHERE table_schema = 'public'\n      ORDER BY table_name;\n    `;\n\n    console.log('\\nЁЯУЛ ALL DATABASE TABLES:');\n    console.log('=====================================');\n    tables.rows.forEach(table => {\n      console.log(`- ${table.table_name}`);\n    });\n\n  } catch (error) {\n    console.error('Error inspecting schema:', error);\n    throw error;\n  }\n}\n\nasync function main() {\n  const client = await db.connect();\n  await inspectSchema(client);\n  await client.end();\n}\n\nmain().catch((err) => {\n  console.error('An error occurred:', err);\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/inspect-settings-schema.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":43}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { db } = require('@vercel/postgres');\n\nasync function inspectSettings(client) {\n  try {\n    const schema = await client.sql`\n      SELECT \n        column_name, \n        data_type, \n        is_nullable,\n        column_default\n      FROM information_schema.columns\n      WHERE table_name = 'site_settings'\n      ORDER BY ordinal_position;\n    `;\n\n    console.log('\\nЁЯУК SITE_SETTINGS TABLE SCHEMA:');\n    console.log('=====================================');\n    schema.rows.forEach(col => {\n      console.log(`${col.column_name.padEnd(25)} | ${col.data_type.padEnd(15)} | Nullable: ${col.is_nullable}`);\n    });\n\n  } catch (error) {\n    console.error('Error inspecting settings schema:', error);\n  }\n}\n\nasync function main() {\n  const client = await db.connect();\n  await inspectSettings(client);\n  await client.end();\n}\n\nmain();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/migrate-events.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":1,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":18},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":26,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":53}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nrequire('dotenv').config({ path: '.env.local' });\nconst { createClient } = require('@vercel/postgres');\n\nasync function migrate() {\n  const client = createClient();\n  await client.connect();\n\n  try {\n    console.log('Creating events table...');\n    // Ensure extension exists for uuid_generate_v4 if not already (usually enabled in standard setups, but good to check if error)\n    // Actually safe to assume it exists if used elsewhere, otherwise we can use gen_random_uuid() for pgcrypto/v13+\n    await client.sql`\n      CREATE TABLE IF NOT EXISTS events (\n          id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n          title VARCHAR(255) NOT NULL,\n          slug VARCHAR(255) UNIQUE NOT NULL,\n          description TEXT,\n          banner_image VARCHAR(255),\n          is_active BOOLEAN DEFAULT false,\n          created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n      );\n    `;\n    console.log('Events table created.');\n\n    console.log('Adding event_id to articles...');\n    await client.sql`\n      ALTER TABLE articles \n      ADD COLUMN IF NOT EXISTS event_id UUID REFERENCES events(id) ON DELETE SET NULL;\n    `;\n    console.log('Column event_id added to articles.');\n  } catch (err) {\n    console.error('Migration failed:', err);\n    process.exit(1);\n  } finally {\n    await client.end();\n  }\n}\n\nmigrate();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/migrate-molecular-control.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":43}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { db } = require('@vercel/postgres');\n\nasync function migrate() {\n  const client = await db.connect();\n  try {\n    console.log('ЁЯЪА Starting Molecular Control Migration...');\n\n    await client.sql`\n      ALTER TABLE site_settings \n      ADD COLUMN IF NOT EXISTS site_name TEXT DEFAULT 'рж╕ржоржХрж╛рж▓',\n      ADD COLUMN IF NOT EXISTS site_tagline TEXT DEFAULT 'ржЕрж╕ржВржХрзЛржЪ ржкрзНрж░ржХрж╛рж╢рзЗрж░ ржжрзБрж░ржирзНржд рж╕рж╛рж╣рж╕',\n      ADD COLUMN IF NOT EXISTS site_logo TEXT DEFAULT '/samakal-logo.png',\n      ADD COLUMN IF NOT EXISTS site_favicon TEXT DEFAULT '/favicon.ico',\n      ADD COLUMN IF NOT EXISTS seo_title TEXT DEFAULT 'рж╕ржоржХрж╛рж▓ | ржЕрж╕ржВржХрзЛржЪ ржкрзНрж░ржХрж╛рж╢рзЗрж░ ржжрзБрж░ржирзНржд рж╕рж╛рж╣рж╕',\n      ADD COLUMN IF NOT EXISTS seo_description TEXT,\n      ADD COLUMN IF NOT EXISTS seo_keywords TEXT,\n      ADD COLUMN IF NOT EXISTS footer_copyright TEXT DEFAULT '┬й рзирзжрзирзм рж╕ржоржХрж╛рж▓ред рж╕рж░рзНржмрж╕рзНржмрждрзНржм рж╕ржВрж░ржХрзНрж╖рж┐рждред',\n      ADD COLUMN IF NOT EXISTS google_analytics_id TEXT,\n      ADD COLUMN IF NOT EXISTS navigation_menu JSONB;\n    `;\n\n    console.log('тЬЕ Migration successful: New fields added to site_settings.');\n\n    // Seed initial navigation if empty\n    const { rows } = await client.sql`SELECT navigation_menu FROM site_settings WHERE id = 1`;\n    if (!rows[0]?.navigation_menu) {\n      const initialNav = [\n        { label: \"рж╕рж░рзНржмрж╢рзЗрж╖\", href: \"/category/latest\" },\n        { label: \"ржмрж╛ржВрж▓рж╛ржжрзЗрж╢\", href: \"/category/bangladesh\" },\n        { label: \"рж░рж╛ржЬржирзАрждрж┐\", href: \"/category/politics\" },\n        { label: \"ржЕрж░рзНржержирзАрждрж┐\", href: \"/category/economics\" },\n        { label: \"ржмрж┐рж╢рзНржм\", href: \"/category/world\" },\n        { label: \"ржЦрзЗрж▓рж╛\", href: \"/category/sports\" },\n        { label: \"ржмрж┐ржирзЛржжржи\", href: \"/category/entertainment\" },\n        { label: \"ржорждрж╛ржоржд\", href: \"/category/opinion\" },\n        { label: \"ржЬрзАржмржиржпрж╛ржкржи\", href: \"/category/lifestyle\" },\n        { label: \"ржЕржкрж░рж╛ржз\", href: \"/category/crime\" },\n        { label: \"рж░рж╛ржЬржзрж╛ржирзА\", href: \"/category/capital\" },\n        { \n          label: \"рж╕рж╛рж░рж╛ржжрзЗрж╢\", \n          href: \"/category/saradesh\",\n          subItems: [\n            { label: \"ржврж╛ржХрж╛\", href: \"/category/dhaka\" },\n            { label: \"ржЪржЯрзНржЯржЧрзНрж░рж╛ржо\", href: \"/category/chattogram\" },\n            { label: \"рж░рж╛ржЬрж╢рж╛рж╣рзА\", href: \"/category/rajshahi\" },\n            { label: \"ржЦрзБрж▓ржирж╛\", href: \"/category/khulna\" },\n            { label: \"ржмрж░рж┐рж╢рж╛рж▓\", href: \"/category/barishal\" },\n            { label: \"рж╕рж┐рж▓рзЗржЯ\", href: \"/category/sylhet\" },\n            { label: \"рж░ржВржкрзБрж░\", href: \"/category/rangpur\" },\n            { label: \"ржорзЯржоржирж╕рж┐ржВрж╣\", href: \"/category/mymensingh\" }\n          ]\n        },\n        { label: \"ржЪрж╛ржХрж░рж┐\", href: \"/category/jobs\" },\n        { label: \"ржнрж┐ржбрж┐ржУ\", href: \"/video\" },\n        { label: \"ржЫржмрж┐\", href: \"/photo\" }\n      ];\n\n      await client.sql`\n        UPDATE site_settings \n        SET navigation_menu = ${JSON.stringify(initialNav)}\n        WHERE id = 1\n      `;\n      console.log('тЬЕ Default navigation menu seeded.');\n    }\n\n  } catch (error) {\n    console.error('тЭМ Migration failed:', error);\n  } finally {\n    await client.end();\n  }\n}\n\nmigrate();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/migrate-scheduled-publishing.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":43},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":1,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":18}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { db } = require('@vercel/postgres');\nrequire('dotenv').config({ path: '.env.local' });\n\nasync function migrate() {\n  const client = await db.connect();\n  \n  try {\n    console.log('Migrating articles table for scheduled publishing...');\n    \n    await client.sql`\n      ALTER TABLE articles \n      ADD COLUMN IF NOT EXISTS published_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n      ADD COLUMN IF NOT EXISTS scheduled_at TIMESTAMP WITH TIME ZONE;\n    `;\n\n    // Update existing articles to have published_at = created_at\n    await client.sql`\n      UPDATE articles \n      SET published_at = created_at \n      WHERE published_at IS NULL;\n    `;\n\n    console.log('Migration successful!');\n  } catch (error) {\n    console.error('Migration failed:', error);\n  } finally {\n    client.release();\n  }\n}\n\nmigrate();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/migration-add-id.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\n\nloadEnvConfig(cwd());\n\nasync function addPublicIdColumn(client) {\n  try {\n    console.log('ЁЯЪА Adding public_id column...');\n\n    // 1. Add column if not exists\n    await client.sql`\n      ALTER TABLE articles \n      ADD COLUMN IF NOT EXISTS public_id SERIAL;\n    `;\n    \n    // 2. Add unique index/constraint to ensure speed and uniqueness\n    await client.sql`\n      CREATE UNIQUE INDEX IF NOT EXISTS idx_articles_public_id ON articles(public_id);\n    `;\n\n    console.log('тЬЕ Added public_id (SERIAL) to articles table.');\n\n  } catch (error) {\n    console.error('тЭМ Migration failed:', error);\n  }\n}\n\nasync function main() {\n  const client = await db.connect();\n  await addPublicIdColumn(client);\n  await client.end();\n}\n\nmain().catch(console.error);\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/migrations/001-add-phase1-metadata.js","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'db' is assigned a value but never used.","line":1,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":11},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":43}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { db } = require('@vercel/postgres');\n\nasync function migrate(client) {\n  try {\n    console.log('ЁЯЪА Starting Phase 1 Migration...\\n');\n\n    // Step 1: Add new columns to articles table\n    console.log('ЁЯУЭ Adding new columns to articles table...');\n    await client.sql`\n      ALTER TABLE articles \n      ADD COLUMN IF NOT EXISTS sub_headline TEXT,\n      ADD COLUMN IF NOT EXISTS news_type VARCHAR(50) DEFAULT 'regular',\n      ADD COLUMN IF NOT EXISTS location VARCHAR(100),\n      ADD COLUMN IF NOT EXISTS keywords TEXT[];\n    `;\n    console.log('тЬЕ New columns added successfully\\n');\n\n    // Step 2: Create article_tags table\n    console.log('ЁЯУЭ Creating article_tags table...');\n    await client.sql`\n      CREATE TABLE IF NOT EXISTS article_tags (\n        id UUID DEFAULT gen_random_uuid() PRIMARY KEY,\n        article_id UUID REFERENCES articles(id) ON DELETE CASCADE,\n        tag VARCHAR(100) NOT NULL,\n        created_at TIMESTAMP DEFAULT NOW()\n      );\n    `;\n    console.log('тЬЕ article_tags table created successfully\\n');\n\n    // Step 3: Create indexes for performance\n    console.log('ЁЯУЭ Creating indexes...');\n    \n    await client.sql`\n      CREATE INDEX IF NOT EXISTS idx_article_tags_article_id \n        ON article_tags(article_id);\n    `;\n    console.log('  тЬУ Index on article_tags.article_id created');\n\n    await client.sql`\n      CREATE INDEX IF NOT EXISTS idx_article_tags_tag \n        ON article_tags(tag);\n    `;\n    console.log('  тЬУ Index on article_tags.tag created');\n\n    await client.sql`\n      CREATE INDEX IF NOT EXISTS idx_articles_news_type \n        ON articles(news_type);\n    `;\n    console.log('  тЬУ Index on articles.news_type created');\n\n    await client.sql`\n      CREATE INDEX IF NOT EXISTS idx_articles_location \n        ON articles(location);\n    `;\n    console.log('  тЬУ Index on articles.location created');\n\n    console.log('\\nтЬЕ All indexes created successfully\\n');\n\n    // Step 4: Add constraint for news_type values\n    console.log('ЁЯУЭ Adding news_type constraint...');\n    await client.sql`\n      DO $$ \n      BEGIN\n        IF NOT EXISTS (\n          SELECT 1 FROM pg_constraint \n          WHERE conname = 'articles_news_type_check'\n        ) THEN\n          ALTER TABLE articles \n          ADD CONSTRAINT articles_news_type_check \n          CHECK (news_type IN ('breaking', 'regular', 'feature', 'opinion', 'photo_story'));\n        END IF;\n      END $$;\n    `;\n    console.log('тЬЕ Constraint added successfully\\n');\n\n    console.log('ЁЯОЙ Phase 1 Migration completed successfully!\\n');\n\n  } catch (error) {\n    console.error('тЭМ Migration failed:', error);\n    throw error;\n  }\n}\n\nasync function rollback(client) {\n  try {\n    console.log('ЁЯФД Rolling back Phase 1 Migration...\\n');\n\n    // Drop indexes\n    await client.sql`DROP INDEX IF EXISTS idx_articles_location`;\n    await client.sql`DROP INDEX IF EXISTS idx_articles_news_type`;\n    await client.sql`DROP INDEX IF EXISTS idx_article_tags_tag`;\n    await client.sql`DROP INDEX IF EXISTS idx_article_tags_article_id`;\n    \n    // Drop table\n    await client.sql`DROP TABLE IF EXISTS article_tags`;\n    \n    // Remove columns\n    await client.sql`\n      ALTER TABLE articles \n      DROP COLUMN IF EXISTS keywords,\n      DROP COLUMN IF EXISTS location,\n      DROP COLUMN IF EXISTS news_type,\n      DROP COLUMN IF EXISTS sub_headline;\n    `;\n\n    console.log('тЬЕ Rollback completed\\n');\n  } catch (error) {\n    console.error('тЭМ Rollback failed:', error);\n    throw error;\n  }\n}\n\nmodule.exports = { migrate, rollback };\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/migrations/002-add-media-support.js","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'db' is assigned a value but never used.","line":1,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":11},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":43}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { db } = require('@vercel/postgres');\n\nasync function migrate(client) {\n  try {\n    console.log('ЁЯЪА Starting Phase 2 Migration (Media Enhancement)...\\n');\n\n    // Step 1: Add video columns to articles table\n    console.log('ЁЯУЭ Adding video support columns to articles table...');\n    await client.sql`\n      ALTER TABLE articles \n      ADD COLUMN IF NOT EXISTS video_url TEXT,\n      ADD COLUMN IF NOT EXISTS video_thumbnail TEXT;\n    `;\n    console.log('тЬЕ Video columns added successfully\\n');\n\n    // Step 2: Create article_images table\n    console.log('ЁЯУЭ Creating article_images table...');\n    await client.sql`\n      CREATE TABLE IF NOT EXISTS article_images (\n        id UUID DEFAULT gen_random_uuid() PRIMARY KEY,\n        article_id UUID REFERENCES articles(id) ON DELETE CASCADE,\n        image_url TEXT NOT NULL,\n        image_type VARCHAR(50) NOT NULL,\n        caption TEXT,\n        photographer VARCHAR(255),\n        display_order INTEGER DEFAULT 0,\n        created_at TIMESTAMP DEFAULT NOW()\n      );\n    `;\n    console.log('тЬЕ article_images table created successfully\\n');\n\n    // Step 3: Create indexes for performance\n    console.log('ЁЯУЭ Creating indexes...');\n    \n    await client.sql`\n      CREATE INDEX IF NOT EXISTS idx_article_images_article_id \n        ON article_images(article_id);\n    `;\n    console.log('  тЬУ Index on article_images.article_id created');\n\n    await client.sql`\n      CREATE INDEX IF NOT EXISTS idx_article_images_type \n        ON article_images(image_type);\n    `;\n    console.log('  тЬУ Index on article_images.image_type created');\n\n    // Step 4: Add constraint for image_type values\n    console.log('\\nЁЯУЭ Adding image_type constraint...');\n    await client.sql`\n      DO $$ \n      BEGIN\n        IF NOT EXISTS (\n          SELECT 1 FROM pg_constraint \n          WHERE conname = 'article_images_type_check'\n        ) THEN\n          ALTER TABLE article_images \n          ADD CONSTRAINT article_images_type_check \n          CHECK (image_type IN ('featured', 'thumbnail', 'gallery'));\n        END IF;\n      END $$;\n    `;\n    console.log('тЬЕ Constraint added successfully\\n');\n\n    console.log('ЁЯОЙ Phase 2 Migration completed successfully!\\n');\n\n  } catch (error) {\n    console.error('тЭМ Migration failed:', error);\n    throw error;\n  }\n}\n\nasync function rollback(client) {\n  try {\n    console.log('ЁЯФД Rolling back Phase 2 Migration...\\n');\n\n    // Drop indexes\n    await client.sql`DROP INDEX IF EXISTS idx_article_images_type`;\n    await client.sql`DROP INDEX IF EXISTS idx_article_images_article_id`;\n    \n    // Drop table\n    await client.sql`DROP TABLE IF EXISTS article_images`;\n    \n    // Remove columns\n    await client.sql`\n      ALTER TABLE articles \n      DROP COLUMN IF EXISTS video_thumbnail,\n      DROP COLUMN IF EXISTS video_url;\n    `;\n\n    console.log('тЬЕ Rollback completed\\n');\n  } catch (error) {\n    console.error('тЭМ Rollback failed:', error);\n    throw error;\n  }\n}\n\nmodule.exports = { migrate, rollback };\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/migrations/003-add-attribution-seo.js","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'db' is assigned a value but never used.","line":1,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":11},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":43}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { db } = require('@vercel/postgres');\n\nasync function migrate(client) {\n  try {\n    console.log('ЁЯЪА Starting Phase 3 Migration (Attribution & SEO)...\\n');\n\n    // Step 1: Add Attribution & SEO columns to articles table\n    console.log('ЁЯУЭ Adding Attribution & SEO columns to articles table...');\n    await client.sql`\n      ALTER TABLE articles \n      ADD COLUMN IF NOT EXISTS source VARCHAR(255),\n      ADD COLUMN IF NOT EXISTS source_url TEXT,\n      ADD COLUMN IF NOT EXISTS seo_title VARCHAR(255),\n      ADD COLUMN IF NOT EXISTS seo_description TEXT,\n      ADD COLUMN IF NOT EXISTS canonical_url TEXT;\n    `;\n    console.log('тЬЕ Columns added successfully\\n');\n\n    // Step 2: Create article_contributors table\n    console.log('ЁЯУЭ Creating article_contributors table...');\n    await client.sql`\n      CREATE TABLE IF NOT EXISTS article_contributors (\n        id UUID DEFAULT gen_random_uuid() PRIMARY KEY,\n        article_id UUID REFERENCES articles(id) ON DELETE CASCADE,\n        contributor_id UUID, -- Loose reference to user system\n        role VARCHAR(50) DEFAULT 'reporter',\n        custom_name VARCHAR(255),\n        display_order INTEGER DEFAULT 0,\n        created_at TIMESTAMP DEFAULT NOW()\n      );\n    `;\n    console.log('тЬЕ article_contributors table created successfully\\n');\n\n    // Step 3: Create indexes\n    console.log('ЁЯУЭ Creating indexes...');\n    await client.sql`\n      CREATE INDEX IF NOT EXISTS idx_article_contributors_article_id \n        ON article_contributors(article_id);\n    `;\n    console.log('  тЬУ Index on article_contributors.article_id created\\n');\n\n    console.log('ЁЯОЙ Phase 3 Migration completed successfully!\\n');\n\n  } catch (error) {\n    console.error('тЭМ Migration failed:', error);\n    throw error;\n  }\n}\n\nasync function rollback(client) {\n  try {\n    console.log('ЁЯФД Rolling back Phase 3 Migration...\\n');\n\n    // Drop index\n    await client.sql`DROP INDEX IF EXISTS idx_article_contributors_article_id`;\n    \n    // Drop table\n    await client.sql`DROP TABLE IF EXISTS article_contributors`;\n    \n    // Remove columns\n    await client.sql`\n      ALTER TABLE articles \n      DROP COLUMN IF EXISTS source,\n      DROP COLUMN IF EXISTS source_url,\n      DROP COLUMN IF EXISTS seo_title,\n      DROP COLUMN IF EXISTS seo_description,\n      DROP COLUMN IF EXISTS canonical_url;\n    `;\n\n    console.log('тЬЕ Rollback completed\\n');\n  } catch (error) {\n    console.error('тЭМ Rollback failed:', error);\n    throw error;\n  }\n}\n\nmodule.exports = { migrate, rollback };\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/migrations/005-add-site-settings.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":44},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":1,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":18}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { sql } = require('@vercel/postgres');\nrequire('dotenv').config({ path: '.env.local' });\n\nasync function migrate() {\n  try {\n    console.log('Creating site_settings table...');\n    \n    await sql`\n      CREATE TABLE IF NOT EXISTS site_settings (\n        id SERIAL PRIMARY KEY,\n        facebook_live_url TEXT,\n        facebook_is_live BOOLEAN DEFAULT false,\n        youtube_playlist_id TEXT,\n        youtube_api_key TEXT,\n        breaking_news_ticker TEXT,\n        updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n      );\n    `;\n\n    // Insert default row if not exists\n    await sql`\n      INSERT INTO site_settings (id, facebook_is_live, breaking_news_ticker)\n      VALUES (1, false, 'рж╕ржоржХрж╛рж▓ - ржЕрж╕ржВржХрзЛржЪ ржкрзНрж░ржХрж╛рж╢рзЗрж░ ржжрзБрж░ржирзНржд рж╕рж╛рж╣рж╕')\n      ON CONFLICT (id) DO NOTHING;\n    `;\n\n    console.log('Migration completed successfully.');\n  } catch (error) {\n    console.error('Migration failed:', error);\n  }\n}\n\nmigrate();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/migrations/005-add-visitor-logs.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":44},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":33}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { sql } = require('@vercel/postgres');\nconst dotenv = require('dotenv');\n\ndotenv.config({ path: '.env.local' });\n\nasync function up() {\n  try {\n    console.log('Creating visitor_logs table...');\n    await sql`\n      CREATE TABLE IF NOT EXISTS visitor_logs (\n        id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n        article_id UUID REFERENCES articles(id) ON DELETE SET NULL,\n        visited_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n        ip_hash VARCHAR(255),\n        user_agent TEXT,\n        path TEXT -- To track which page was visited (home vs article)\n      );\n    `;\n\n    // Create index for faster time-based queries\n    await sql`CREATE INDEX IF NOT EXISTS idx_visitor_logs_time ON visitor_logs(visited_at)`;\n    \n    // Create index for article based queries\n    await sql`CREATE INDEX IF NOT EXISTS idx_visitor_logs_article ON visitor_logs(article_id)`;\n\n    console.log('Migration completed: visitor_logs table created.');\n  } catch (error) {\n    console.error('Migration failed:', error);\n  }\n}\n\nup();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/migrations/006-add-ticker-toggle.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":44},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":1,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":18}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { sql } = require('@vercel/postgres');\nrequire('dotenv').config({ path: '.env.local' });\n\nasync function migrate() {\n  try {\n    console.log('Adding breaking_news_is_active to site_settings...');\n    \n    await sql`\n      ALTER TABLE site_settings \n      ADD COLUMN IF NOT EXISTS breaking_news_is_active BOOLEAN DEFAULT true;\n    `;\n\n    console.log('Migration completed successfully.');\n  } catch (error) {\n    console.error('Migration failed:', error);\n  }\n}\n\nmigrate();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/move-literature-category.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":1,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":18},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":44}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"require('dotenv').config({ path: '.env.local' });\nconst { sql } = require('@vercel/postgres');\n\nasync function moveLiteratureCategory() {\n  try {\n    console.log('ЁЯФД Moving Literature Category...');\n\n    // 1. Move \"Literature\" -> \"рж╕рж╛рж╣рж┐рждрзНржп ржУ рж╕ржВрж╕рзНржХрзГрждрж┐\" (Parent: \"ржЕржирзНржпрж╛ржирзНржп\")\n    const result = await sql`\n      UPDATE articles \n      SET \n        category = 'рж╕рж╛рж╣рж┐рждрзНржп ржУ рж╕ржВрж╕рзНржХрзГрждрж┐',\n        parent_category = 'ржЕржирзНржпрж╛ржирзНржп'\n      WHERE \n        category = 'Literature' \n        OR category = 'рж╕рж╛рж╣рж┐рждрзНржп'\n      RETURNING id, title;\n    `;\n\n    console.log(`тЬЕ Moved ${result.rowCount} articles to \"рж╕рж╛рж╣рж┐рждрзНржп ржУ рж╕ржВрж╕рзНржХрзГрждрж┐\" (Other).`);\n    \n    // Log sample titles\n    if (result.rows.length > 0) {\n      console.log('Sample updated titles:', result.rows.slice(0, 3).map(r => r.title));\n    }\n\n  } catch (error) {\n    console.error('тЭМ Migration failed:', error);\n  }\n}\n\nmoveLiteratureCategory();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/optimize-db.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\n\nloadEnvConfig(cwd());\n\nasync function optimizeDatabase(client) {\n  try {\n    console.log('ЁЯЪА Starting Database Optimization...');\n\n    // 1. Enable pg_trgm extension for fast text search\n    console.log('ЁЯУж Enabling pg_trgm extension...');\n    await client.sql`CREATE EXTENSION IF NOT EXISTS pg_trgm;`;\n\n    // 2. Add Standard Indexes (B-Tree)\n    console.log('тЪб Adding Standard Indexes...');\n    \n    // Status & Created At (Essential for \"Latest News\" queries)\n    await client.sql`CREATE INDEX IF NOT EXISTS idx_articles_status_created ON articles(status, created_at DESC);`;\n    console.log('   тЬУ idx_articles_status_created');\n\n    // Category filtering\n    await client.sql`CREATE INDEX IF NOT EXISTS idx_articles_category ON articles(category);`;\n    console.log('   тЬУ idx_articles_category');\n\n    // Slug lookups (usually unique constraint handles this, but explicit index is safe)\n    await client.sql`CREATE INDEX IF NOT EXISTS idx_articles_slug ON articles(slug);`;\n    console.log('   тЬУ idx_articles_slug');\n\n    // Author lookups\n    await client.sql`CREATE INDEX IF NOT EXISTS idx_articles_author ON articles(author_id);`;\n    console.log('   тЬУ idx_articles_author');\n\n    // Views sorting (for \"Trending\" / \"Most Read\")\n    await client.sql`CREATE INDEX IF NOT EXISTS idx_articles_views ON articles(views DESC);`;\n    console.log('   тЬУ idx_articles_views');\n\n    // 3. Add Search Indexes (GIN)\n    console.log('ЁЯФН Adding Search Indexes (GIN)...');\n    \n    // Title Search (Trigram index makes ILIKE '%...%' very fast)\n    await client.sql`CREATE INDEX IF NOT EXISTS idx_articles_title_trgm ON articles USING gin (title gin_trgm_ops);`;\n    console.log('   тЬУ idx_articles_title_trgm');\n\n    // Content Search (Optional: can be heavy, but useful for deep search)\n    // await client.sql`CREATE INDEX IF NOT EXISTS idx_articles_content_trgm ON articles USING gin (content gin_trgm_ops);`;\n    // Note: Content index can be huge (GBs). Let's stick to Title for now for speed.\n    \n    // 4. Analyze table to update statistics\n    console.log('ЁЯУК Updating Database Statistics...');\n    await client.sql`ANALYZE articles;`;\n\n    console.log('\\nтЬЕ Database Optimization Complete! System is ready for 1M+ rows.');\n\n  } catch (error) {\n    console.error('тЭМ Optimization failed:', error);\n  }\n}\n\nasync function main() {\n  const client = await db.connect();\n  await optimizeDatabase(client);\n  await client.end();\n}\n\nmain().catch(console.error);\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/run-inspect.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":9,"column":3,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":9,"endColumn":33}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\n\nasync function run() {\n  const projectDir = cwd();\n  loadEnvConfig(projectDir);\n  \n  // Now require the inspect script, which should see the env vars\n  require('./inspect-schema.js');\n}\n\nrun();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/run-migration.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":18,"column":23,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":18,"endColumn":66}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\n\nasync function run() {\n  const projectDir = cwd();\n  loadEnvConfig(projectDir);\n\n  const args = process.argv.slice(2);\n  const migrationFile = args[0] || '002-add-media-support';\n  const shouldRollback = args.includes('--rollback');\n\n  const client = await db.connect();\n\n  try {\n    console.log(`\\nЁЯУж Running migration: ${migrationFile}\\n`);\n    \n    const migration = require(`./migrations/${migrationFile}.js`);\n    \n    if (shouldRollback) {\n      await migration.rollback(client);\n    } else {\n      await migration.migrate(client);\n    }\n  } catch (error) {\n    console.error('Migration script error:', error);\n    process.exit(1);\n  } finally {\n    await client.end();\n  }\n}\n\nrun();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/run-seed-articles.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":6,"column":1,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":6,"endColumn":38}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\n\nconst projectDir = process.cwd();\nloadEnvConfig(projectDir);\n\nrequire('./seed-bengali-articles.js');\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/run-seed.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":9,"column":3,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":9,"endColumn":29}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\n\nasync function run() {\n  const projectDir = cwd();\n  loadEnvConfig(projectDir);\n  \n  // Now require the seed script, which should see the env vars\n  require('./seed-admin.js');\n}\n\nrun();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/scrape-samakal.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":4,"column":19,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":39},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":5,"column":15,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":5,"endColumn":31},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'cheerio' is assigned a value but never used.","line":6,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":14},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":6,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":6,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":7,"column":12,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":7,"endColumn":25},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":8,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":8,"endColumn":29},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":9,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":9,"endColumn":33}],"suppressedMessages":[],"errorCount":9,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\nconst puppeteer = require('puppeteer');\nconst axios = require('axios');\nconst cheerio = require('cheerio');\nconst fs = require('fs');\nconst path = require('path');\nconst crypto = require('crypto');\n\nloadEnvConfig(cwd());\n\n// Category mapping from Samakal.com URLs to our database categories\nconst CATEGORY_MAP = {\n  '/bangladesh/': 'Bangladesh',\n  '/politics/': 'Politics',\n  '/economics/': 'ржЕрж░рзНржержирзАрждрж┐',  // Changed from /economy/ to /economics/\n  '/sports/': 'Sports',\n  '/entertainment/': 'Entertainment',\n  '/international/': 'International',\n  '/opinion/': 'Opinion',\n  '/feature/': 'Feature',\n  '/samagra/': 'Samagra',\n  '/sahitya/': 'Literature'\n};\n\n// Ensure uploads directory exists\nconst UPLOADS_DIR = path.join(process.cwd(), 'public', 'uploads', 'articles');\nif (!fs.existsSync(UPLOADS_DIR)) {\n  fs.mkdirSync(UPLOADS_DIR, { recursive: true });\n}\n\n// Generate slug from Bengali title\nfunction generateSlug(title) {\n  // For Bengali text, use a hash-based approach\n  const hash = crypto.createHash('md5').update(title).digest('hex').substring(0, 8);\n  return `-${hash}`;\n}\n\n// Download and save image\nasync function downloadImage(imageUrl, articleSlug) {\n  try {\n    const response = await axios({\n      url: imageUrl,\n      method: 'GET',\n      responseType: 'arraybuffer',\n      timeout: 10000\n    });\n    \n    const ext = path.extname(new URL(imageUrl).pathname) || '.jpg';\n    const filename = `${articleSlug}${ext}`;\n    const filepath = path.join(UPLOADS_DIR, filename);\n    \n    fs.writeFileSync(filepath, response.data);\n    return `/uploads/articles/${filename}`;\n  } catch (error) {\n    console.error(`  тЭМ Image download failed: ${error.message}`);\n    return null;\n  }\n}\n\n\n// Extract article data using Puppeteer (handles JavaScript rendering)\nasync function scrapeArticle(browser, url, category) {\n  const page = await browser.newPage();\n  let pageClosed = false;\n  \n  try {\n    await page.goto(url, {\n      waitUntil: 'networkidle2',\n      timeout: 20000\n    });\n    \n    // Wait for content to load\n    await page.waitForSelector('h1, .title', { timeout: 5000 }).catch(() => {});\n    \n    // Extract data using page.evaluate (runs in browser context)\n    const articleData = await page.evaluate(() => {\n      // Extract title\n      const titleSelectors = ['h1.font-bold', 'h1', '.article-title', '.title', '[itemprop=\"headline\"]'];\n      let title = '';\n      for (const selector of titleSelectors) {\n        const el = document.querySelector(selector);\n        if (el && el.textContent.trim()) {\n          title = el.textContent.trim();\n          break;\n        }\n      }\n      \n      // Extract content - Samakal uses #contentDetails.dNewsDesc\n      let content = '';\n      const contentDiv = document.querySelector('#contentDetails.dNewsDesc');\n      if (contentDiv && contentDiv.innerHTML) {\n        content = contentDiv.innerHTML;\n      }\n      \n      // Extract image - Check og:image meta tag first, then div.DNewsImg img\n      let imageUrl = '';\n      const ogImage = document.querySelector('meta[property=\"og:image\"]');\n      if (ogImage) {\n        imageUrl = ogImage.getAttribute('content');\n      } else {\n        const img = document.querySelector('div.DNewsImg img, article img');\n        if (img) imageUrl = img.src;\n      }\n      \n      // Extract date\n      const dateSelectors = ['time', '.date', '.published-date', '[itemprop=\"datePublished\"]'];\n      let dateText = '';\n      for (const selector of dateSelectors) {\n        const el = document.querySelector(selector);\n        if (el) {\n          dateText = el.textContent.trim() || el.getAttribute('datetime') || '';\n          if (dateText) break;\n        }\n      }\n      \n      return { title, content, imageUrl, dateText };\n    });\n    \n    // Validate extracted data\n    if (!articleData.title || !articleData.content || articleData.content.length < 200) {\n      throw new Error('Insufficient content extracted');\n    }\n    \n    return {\n      title: articleData.title,\n      content: articleData.content,\n      imageUrl: articleData.imageUrl,\n      date: articleData.dateText,\n      category,\n      originalUrl: url\n    };\n  } catch (error) {\n    console.error(`  тЭМ Scrape failed: ${error.message}`);\n    return null;\n  } finally {\n    // Always close page in finally block to avoid double-close\n    if (!pageClosed) {\n      await page.close().catch(() => {}); // Ignore close errors\n    }\n  }\n}\n\n// Get article links from category page\nasync function getArticleLinks(browser, categoryUrl, limit = 55) {\n  const page = await browser.newPage();\n  \n  try {\n    console.log(`\\nЁЯУЦ Loading category: ${categoryUrl}`);\n    await page.goto(`https://samakal.com${categoryUrl}`, {\n      waitUntil: 'networkidle2',\n      timeout: 30000\n    });\n    \n    // Extract article links\n    const links = await page.evaluate(() => {\n      const articleLinks = new Set();\n      document.querySelectorAll('a[href*=\"/bangladesh/\"], a[href*=\"/politics/\"], a[href*=\"/economy/\"], a[href*=\"/sports/\"], a[href*=\"/entertainment/\"], a[href*=\"/international/\"]').forEach(a => {\n        const href = a.getAttribute('href');\n        if (href && href.includes('/') && !href.includes('#') && !href.includes('category')) {\n          articleLinks.add(href.startsWith('http') ? href : `https://samakal.com${href}`);\n        }\n      });\n      return Array.from(articleLinks);\n    });\n    \n    console.log(`  тЬЕ Found ${links.length} article links`);\n    return links.slice(0, limit);\n  } catch (error) {\n    console.error(`  тЭМ Failed to load category: ${error.message}`);\n    return [];\n  } finally {\n    await page.close();\n  }\n}\n\n// Import single article to database\nasync function importArticle(client, articleData, slug) {\n  try {\n    await client.sql`\n      INSERT INTO articles (\n        id, title, slug, content, image, category, \n        status, source, source_url, created_at\n      ) VALUES (\n        gen_random_uuid(),\n        ${articleData.title},\n        ${slug},\n        ${articleData.content},\n        ${articleData.imageUrl},\n        ${articleData.category},\n        'published',\n        'Samakal',\n        ${articleData.originalUrl || ''},\n        NOW()\n      )\n    `;\n    return true;\n  } catch (error) {\n    console.error(`  тЭМ Database import failed: ${error.message}`);\n    return false;\n  }\n}\n\n// Main import function\nasync function importFromSamakal() {\n  const browser = await puppeteer.launch({ headless: 'new' });\n  const client = await db.connect();\n  \n  const stats = {\n    total: 0,\n    success: 0,\n    failed: 0,\n    byCategory: {}\n  };\n  \n  try {\n    console.log('ЁЯЪА Starting Samakal.com content import...\\n');\n    console.log('ЁЯУК Target: 50+ articles per category');\n    console.log('ЁЯМР Source: https://samakal.com\\n');\n    \n    for (const [categoryPath, categoryName] of Object.entries(CATEGORY_MAP)) {\n      console.log(`\\nтФБтФБтФБ ${categoryName} тФБтФБтФБ`);\n      stats.byCategory[categoryName] = { success: 0, failed: 0 };\n      \n      // Get article links\n      const links = await getArticleLinks(browser, categoryPath, 55);\n      \n      // Process each article\n      let processedCount = 0;\n      for (const link of links) {\n        if (processedCount >= 50) break; // Limit to 50 per category\n        \n        stats.total++;\n        console.log(`\\n[${stats.total}] Processing: ${link.substring(0, 60)}...`);\n        \n        // Scrape article using Puppeteer\n        const articleData = await scrapeArticle(browser, link, categoryName);\n        if (!articleData) {\n          stats.failed++;\n          stats.byCategory[categoryName].failed++;\n          continue;\n        }\n        \n        // Generate slug\n        const slug = generateSlug(articleData.title);\n        console.log(`  ЁЯУЭ Title: ${articleData.title.substring(0, 50)}...`);\n        console.log(`  ЁЯФЧ Slug: ${slug}`);\n        \n        // Download image\n        if (articleData.imageUrl) {\n          console.log(`  ЁЯЦ╝я╕П  Downloading image...`);\n          const localImagePath = await downloadImage(articleData.imageUrl, slug);\n          if (localImagePath) {\n            articleData.imageUrl = localImagePath;\n            console.log(`  тЬЕ Image saved: ${localImagePath}`);\n          }\n        }\n        \n        // Import to database\n        console.log(`  ЁЯТ╛ Importing to database...`);\n        const imported = await importArticle(client, articleData, slug);\n        \n        if (imported) {\n          stats.success++;\n          stats.byCategory[categoryName].success++;\n          processedCount++;\n          console.log(`  тЬЕ Import successful (${processedCount}/50)`);\n        } else {\n          stats.failed++;\n          stats.byCategory[categoryName].failed++;\n        }\n        \n        // Small delay to avoid overwhelming the server\n        await new Promise(resolve => setTimeout(resolve, 1000));\n      }\n      \n      console.log(`\\nтЬЕ ${categoryName}: ${stats.byCategory[categoryName].success} articles imported`);\n    }\n    \n  } catch (error) {\n    console.error('\\nтЭМ Fatal error:', error);\n  } finally {\n    await browser.close();\n    await client.end();\n  }\n  \n  // Print final statistics\n  console.log('\\n\\nтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ');\n  console.log('ЁЯУК IMPORT STATISTICS');\n  console.log('тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ');\n  console.log(`Total processed: ${stats.total}`);\n  console.log(`Successful: ${stats.success}`);\n  console.log(`Failed: ${stats.failed}`);\n  console.log('\\nЁЯУИ By Category:');\n  console.table(stats.byCategory);\n  console.log('\\nтЬи Import completed!');\n}\n\nimportFromSamakal();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/scrape-supplemental.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":4,"column":19,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":39},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":5,"column":15,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":5,"endColumn":31},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":6,"column":12,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":6,"endColumn":25},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":7,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":7,"endColumn":29},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":8,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":8,"endColumn":33}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\nconst puppeteer = require('puppeteer');\nconst axios = require('axios');\nconst fs = require('fs');\nconst path = require('path');\nconst crypto = require('crypto');\n\nloadEnvConfig(cwd());\n\n// Only import from these two categories\nconst CATEGORY_MAP = {\n  '/economics/': 'ржЕрж░рзНржержирзАрждрж┐',\n  '/opinion/': 'Opinion'\n};\n\n// Ensure uploads directory exists\nconst UPLOADS_DIR = path.join(process.cwd(), 'public', 'uploads', 'articles');\nif (!fs.existsSync(UPLOADS_DIR)) {\n  fs.mkdirSync(UPLOADS_DIR, { recursive: true });\n}\n\n// Generate slug from Bengali title\nfunction generateSlug(title) {\n  const hash = crypto.createHash('md5').update(title).digest('hex').substring(0, 8);\n  return `-${hash}`;\n}\n\n// Download and save image\nasync function downloadImage(imageUrl, articleSlug) {\n  try {\n    const response = await axios({\n      url: imageUrl,\n      method: 'GET',\n      responseType: 'arraybuffer',\n      timeout: 10000\n    });\n    \n    const ext = path.extname(new URL(imageUrl).pathname) || '.jpg';\n    const filename = `${articleSlug}${ext}`;\n    const filepath = path.join(UPLOADS_DIR, filename);\n    \n    fs.writeFileSync(filepath, response.data);\n    return `/uploads/articles/${filename}`;\n  } catch (error) {\n    console.error(`  тЭМ Image download failed: ${error.message}`);\n    return null;\n  }\n}\n\n// Extract article data using Puppeteer\nasync function scrapeArticle(browser, url, category) {\n  const page = await browser.newPage();\n  let pageClosed = false;\n  \n  try {\n    await page.goto(url, {\n      waitUntil: 'networkidle2',\n      timeout: 20000\n    });\n    \n    await page.waitForSelector('h1, .title', { timeout: 5000 }).catch(() => {});\n    \n    const articleData = await page.evaluate(() => {\n      const titleSelectors = ['h1.font-bold', 'h1', '.article-title', '.title', '[itemprop=\"headline\"]'];\n      let title = '';\n      for (const selector of titleSelectors) {\n        const el = document.querySelector(selector);\n        if (el && el.textContent.trim()) {\n          title = el.textContent.trim();\n          break;\n        }\n      }\n      \n      let content = '';\n      const contentDiv = document.querySelector('#contentDetails.dNewsDesc');\n      if (contentDiv && contentDiv.innerHTML) {\n        content = contentDiv.innerHTML;\n      }\n      \n      let imageUrl = '';\n      const ogImage = document.querySelector('meta[property=\"og:image\"]');\n      if (ogImage) {\n        imageUrl = ogImage.getAttribute('content');\n      } else {\n        const img = document.querySelector('div.DNewsImg img, article img');\n        if (img) imageUrl = img.src;\n      }\n      \n      const dateSelectors = ['time', '.date', '.published-date', '[itemprop=\"datePublished\"]'];\n      let dateText = '';\n      for (const selector of dateSelectors) {\n        const el = document.querySelector(selector);\n        if (el) {\n          dateText = el.textContent.trim() || el.getAttribute('datetime') || '';\n          if (dateText) break;\n        }\n      }\n      \n      return { title, content, imageUrl, dateText };\n    });\n    \n    if (!articleData.title || !articleData.content || articleData.content.length < 200) {\n      throw new Error('Insufficient content extracted');\n    }\n    \n    return {\n      title: articleData.title,\n      content: articleData.content,\n      imageUrl: articleData.imageUrl,\n      date: articleData.dateText,\n      category,\n      originalUrl: url\n    };\n  } catch (error) {\n    console.error(`  тЭМ Scrape failed: ${error.message}`);\n    return null;\n  } finally {\n    if (!pageClosed) {\n      await page.close().catch(() => {});\n    }\n  }\n}\n\n// Get article links from category page\nasync function getArticleLinks(browser, categoryUrl, limit = 55) {\n  const page = await browser.newPage();\n  \n  try {\n    console.log(`\\nЁЯУЦ Loading category: ${categoryUrl}`);\n    \n    await page.goto(`https://samakal.com${categoryUrl}`, {\n      waitUntil: 'networkidle2',\n      timeout: 20000\n    });\n    \n    const links = await page.evaluate(() => {\n      const articleLinks = [];\n      const linkElements = document.querySelectorAll('a[href*=\"/article/\"]');\n      \n      linkElements.forEach(link => {\n        const href = link.href;\n        if (href && href.includes('/article/') && !articleLinks.includes(href)) {\n          articleLinks.push(href);\n        }\n      });\n      \n      return articleLinks;\n    });\n    \n    console.log(`  тЬЕ Found ${links.length} article links`);\n    await page.close();\n    \n    return links.slice(0, limit);\n  } catch (error) {\n    console.error(`  тЭМ Failed to load category: ${error.message}`);\n    await page.close();\n    return [];\n  }\n}\n\n// Import single article to database\nasync function importArticle(client, articleData, slug) {\n  try {\n    await client.sql`\n      INSERT INTO articles (\n        id, title, slug, content, image, category, \n        status, source, source_url, created_at\n      ) VALUES (\n        gen_random_uuid(),\n        ${articleData.title},\n        ${slug},\n        ${articleData.content},\n        ${articleData.imageUrl},\n        ${articleData.category},\n        'published',\n        'Samakal',\n        ${articleData.originalUrl || ''},\n        NOW()\n      )\n    `;\n    return true;\n  } catch (error) {\n    console.error(`  тЭМ Database import failed: ${error.message}`);\n    return false;\n  }\n}\n\n// Main import function\nasync function importFromSamakal() {\n  console.log('ЁЯЪА Starting supplemental import for Economics and Opinion...\\n');\n  console.log('ЁЯУК Target: 50+ articles per category');\n  console.log('ЁЯМР Source: https://samakal.com\\n\\n');\n  \n  const browser = await puppeteer.launch({ headless: 'new' });\n  \n  const stats = {\n    total: 0,\n    success: 0,\n    failed: 0,\n    byCategory: {}\n  };\n  \n  for (const [categoryUrl, categoryName] of Object.entries(CATEGORY_MAP)) {\n    console.log(`тФБтФБтФБ ${categoryName} тФБтФБтФБ`);\n    stats.byCategory[categoryName] = { success: 0, failed: 0 };\n    \n    const articleLinks = await getArticleLinks(browser, categoryUrl);\n    \n    let categoryCount = 0;\n    for (let i = 0; i < articleLinks.length; i++) {\n      const url = articleLinks[i];\n      stats.total++;\n      \n      console.log(`\\n[${stats.total}] Processing: ${url.substring(0, 50)}...`);\n      \n      const articleData = await scrapeArticle(browser, url, categoryName);\n      \n      if (!articleData) {\n        stats.failed++;\n        stats.byCategory[categoryName].failed++;\n        continue;\n      }\n      \n      const slug = generateSlug(articleData.title);\n      console.log(`  ЁЯУЭ Title: ${articleData.title.substring(0, 60)}...`);\n      console.log(`  ЁЯФЧ Slug: ${slug}`);\n      \n      if (articleData.imageUrl) {\n        console.log(`  ЁЯЦ╝я╕П  Downloading image...`);\n        const localImagePath = await downloadImage(articleData.imageUrl, slug);\n        if (localImagePath) {\n          articleData.imageUrl = localImagePath;\n          console.log(`  тЬЕ Image saved: ${localImagePath}`);\n        }\n      }\n      \n      console.log(`  ЁЯТ╛ Importing to database...`);\n      \n      // Create fresh connection for each import to avoid timeout\n      let client;\n      try {\n        client = await db.connect();\n        const imported = await importArticle(client, articleData, slug);\n        \n        if (imported) {\n          stats.success++;\n          categoryCount++;\n          stats.byCategory[categoryName].success++;\n          console.log(`  тЬЕ Import successful (${categoryCount}/50)`);\n        } else {\n          stats.failed++;\n          stats.byCategory[categoryName].failed++;\n        }\n      } catch (error) {\n        console.error(`  тЭМ Database error: ${error.message}`);\n        stats.failed++;\n        stats.byCategory[categoryName].failed++;\n      } finally {\n        if (client) {\n          await client.end().catch(() => {});\n        }\n      }\n      \n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      if (categoryCount >= 50) break;\n    }\n    \n    console.log(`\\nтЬЕ ${categoryName}: ${categoryCount} articles imported\\n`);\n  }\n  \n  await browser.close();\n  \n  console.log('\\nтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ');\n  console.log('ЁЯУК IMPORT STATISTICS');\n  console.log('тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ');\n  console.log(`Total processed: ${stats.total}`);\n  console.log(`Successful: ${stats.success}`);\n  console.log(`Failed: ${stats.failed}`);\n  console.log('\\nЁЯУИ By Category:');\n  console.table(stats.byCategory);\n  console.log('\\nтЬи Import completed!');\n}\n\nimportFromSamakal().catch(console.error);\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/seed-admin.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":4,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":35}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\nconst bcrypt = require('bcryptjs');\n\n// Load environment variables\nloadEnvConfig(cwd());\n\nasync function seedUsers(client) {\n  try {\n    await client.sql`CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\"`;\n    \n    // Create the \"users\" table if it doesn't exist\n    const createTable = await client.sql`\n      CREATE TABLE IF NOT EXISTS users (\n        id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n        name VARCHAR(255) NOT NULL,\n        email TEXT NOT NULL UNIQUE,\n        password TEXT NOT NULL,\n        role VARCHAR(50) NOT NULL,\n        avatar TEXT\n      );\n    `;\n\n    console.log(`Created \"users\" table`);\n\n    // Create the admin user\n    const hashedPassword = await bcrypt.hash('password123', 10);\n    const user = await client.sql`\n      INSERT INTO users (id, name, email, password, role, avatar)\n      VALUES (\n         '410544b2-4001-4271-9855-fec4b6a6442a', \n         'Master Admin', \n         'admin@samakal.com', \n         ${hashedPassword}, \n         'admin',\n         'https://images.unsplash.com/photo-1560250097-0b93528c311a?w=100'\n      )\n      ON CONFLICT (email) DO NOTHING;\n    `;\n\n    console.log(`Seeded \"users\" table with admin account`);\n\n    return {\n      createTable,\n      user,\n    };\n  } catch (error) {\n    console.error('Error seeding users:', error);\n    throw error;\n  }\n}\n\nasync function main() {\n  const client = await db.connect();\n  await seedUsers(client);\n  await client.end();\n}\n\nmain().catch((err) => {\n  console.error(\n    'An error occurred while attempting to seed the database:',\n    err,\n  );\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/seed-articles.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\n\n// Load environment variables\nloadEnvConfig(cwd());\n\nasync function seedArticles(client) {\n  try {\n    // Create the \"articles\" table if it doesn't exist\n    const createTable = await client.sql`\n      CREATE TABLE IF NOT EXISTS articles (\n        id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n        title TEXT NOT NULL,\n        slug TEXT UNIQUE NOT NULL,\n        content TEXT,\n        status VARCHAR(50) NOT NULL DEFAULT 'draft',\n        category VARCHAR(100),\n        views INT DEFAULT 0,\n        image TEXT,\n        author_id UUID REFERENCES users(id),\n        created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n        updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n      );\n    `;\n\n    console.log(`Created \"articles\" table`);\n\n    // Check if we have any users to assign as author\n    const users = await client.sql`SELECT id FROM users LIMIT 1`;\n    let authorId = null;\n    if (users.rows.length > 0) {\n        authorId = users.rows[0].id;\n    } else {\n        console.warn('No users found to assign as author. Skipping sample data insertion.');\n        return { createTable };\n    }\n\n    // Insert some sample data\n    const insertedArticles = await client.sql`\n      INSERT INTO articles (id, title, slug, content, status, category, views, image, author_id)\n      VALUES \n      (\n        uuid_generate_v4(), \n        'Election 2026: Live Updates from Dhaka', \n        'election-2026-live-updates', \n        '<h2>Election Day Live</h2><p>Initial reports suggest high voter turnout...</p>', \n        'published', \n        'Politics', \n        12500, \n        'https://images.unsplash.com/photo-1541888946425-d81bb19240f5?q=80&w=2070&auto=format&fit=crop',\n        ${authorId}\n      ),\n      (\n        uuid_generate_v4(), \n        'Metro Rail seamless travel guide', \n        'metro-rail-guide', \n        '<h2>How to use the new pass</h2><p>The new rapid pass allows...</p>', \n        'draft', \n        'Lifestyle', \n        0, \n        'https://images.unsplash.com/photo-1449965408869-eaa3f722e40d?q=80&w=2070&auto=format&fit=crop',\n        ${authorId}\n      )\n      ON CONFLICT (slug) DO NOTHING;\n    `;\n\n    console.log(`Seeded \"articles\" table with sample data`);\n\n    return {\n      createTable,\n      insertedArticles,\n    };\n  } catch (error) {\n    console.error('Error seeding articles:', error);\n    throw error;\n  }\n}\n\nasync function main() {\n  const client = await db.connect();\n  await seedArticles(client);\n  await client.end();\n}\n\nmain().catch((err) => {\n  console.error(\n    'An error occurred while attempting to seed the database:',\n    err,\n  );\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/seed-bengali-articles.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\n\n// Load environment variables\nloadEnvConfig(cwd());\n\nconst bengaliArticles = [\n  {\n    title: 'ржврж╛ржХрж╛ржпрж╝ ржорзЗржЯрзНрж░рзЛрж░рзЗрж▓ рж╕рзЗржмрж╛ рж╕ржорзНржкрзНрж░рж╕рж╛рж░ржг',\n    slug: 'dhaka-metrorail-expansion',\n    content: `<h2>ржорзЗржЯрзНрж░рзЛрж░рзЗрж▓рзЗрж░ ржирждрзБржи ржпрзБржЧ</h2>\n<p>рж░рж╛ржЬржзрж╛ржирзАрж░ ржпрж╛ржиржЬржЯ ржирж┐рж░рж╕ржирзЗ ржорзЗржЯрзНрж░рзЛрж░рзЗрж▓ ржПржЦржи ржЖрж░ржУ ржмрзЗрж╢рж┐ ржПрж▓рж╛ржХрж╛ржпрж╝ рж╕рзЗржмрж╛ ржжрж┐ржЪрзНржЫрзЗред ржЙрждрзНрждрж░рж╛ ржерзЗржХрзЗ ржорждрж┐ржЭрж┐рж▓ ржкрж░рзНржпржирзНржд ржПржЦржи ржирж┐рж░ржмржЪрзНржЫрж┐ржирзНржи ржпрж╛рждрзНрж░рж╛ рж╕ржорзНржнржмред</p>\n<p>ржкрзНрж░рждрж┐ржжрж┐ржи рж▓рж╛ржЦрзЛ ржпрж╛рждрзНрж░рзА ржПржЗ рж╕рзЗржмрж╛ ржирж┐ржЪрзНржЫрзЗржиред ржнрж╛ржбрж╝рж╛ржУ ржЕрждрзНржпржирзНржд рж╕рж╛рж╢рзНрж░ржпрж╝рзАред</p>`,\n    category: 'Dhaka',\n    views: 15420\n  },\n  {\n    title: 'ржЬрж╛рждрзАржпрж╝ ржирж┐рж░рзНржмрж╛ржЪржи рзирзжрзирзм: ржкрзНрж░рж╕рзНрждрзБрждрж┐ ржкрзБрж░рзЛржжржорзЗ',\n    slug: 'national-election-2026-preparation',\n    content: `<h2>ржирж┐рж░рзНржмрж╛ржЪржирзЗрж░ ржкрзНрж░рж╕рзНрждрзБрждрж┐</h2>\n<p>ржЖржЧрж╛ржорзА ржЬрж╛рждрзАржпрж╝ ржирж┐рж░рзНржмрж╛ржЪржирзЗрж░ ржЬржирзНржп ржирж┐рж░рзНржмрж╛ржЪржи ржХржорж┐рж╢ржи рж╕ржм ржзрж░ржирзЗрж░ ржкрзНрж░рж╕рзНрждрзБрждрж┐ рж╕ржорзНржкржирзНржи ржХрж░ржЫрзЗред</p>\n<p>ржжрзЗрж╢ржмрзНржпрж╛ржкрзА ржнрзЛржЯрж╛рж░ рждрж╛рж▓рж┐ржХрж╛ рж╣рж╛рж▓ржирж╛ржЧрж╛ржж ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред</p>`,\n    category: 'Politics',\n    views: 28350\n  },\n  {\n    title: 'ржмрж╛ржВрж▓рж╛ржжрзЗрж╢ ржХрзНрж░рж┐ржХрзЗржЯ ржжрж▓ рж╕рж┐рж░рж┐ржЬ ржЬржпрж╝рзЗрж░ ржкржерзЗ',\n    slug: 'bangladesh-cricket-series-victory',\n    content: `<h2>ржжрзБрж░рзНржжрж╛ржирзНржд ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕</h2>\n<p>рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржкрзНрж░рждрж┐ржкржХрзНрж╖рзЗрж░ ржмрж┐рж░рзБржжрзНржзрзЗ ржжрзБрж░рзНржжрж╛ржирзНржд ржЦрзЗрж▓рж╛ ржжрзЗржЦрж┐ржпрж╝рзЗ рж╕рж┐рж░рж┐ржЬ ржЬржпрж╝рзЗрж░ ржХрж╛ржЫрж╛ржХрж╛ржЫрж┐ ржмрж╛ржВрж▓рж╛ржжрзЗрж╢ ржжрж▓ред</p>\n<p>рждрж░рзБржг ржХрзНрж░рж┐ржХрзЗржЯрж╛рж░ржжрзЗрж░ ржЕрж╕рж╛ржзрж╛рж░ржг ржЕржмржжрж╛ржи рж░ржпрж╝рзЗржЫрзЗ ржПржЗ ржЬржпрж╝рзЗред</p>`,\n    category: 'Sports',\n    views: 18720\n  },\n  {\n    title: 'ржкрзНрж░ржпрзБржХрзНрждрж┐ ржЦрж╛рждрзЗ ржмрж╛ржВрж▓рж╛ржжрзЗрж╢рзЗрж░ ржЕржЧрзНрж░ржЧрждрж┐',\n    slug: 'bangladesh-technology-sector-progress',\n    content: `<h2>ржбрж┐ржЬрж┐ржЯрж╛рж▓ ржмрж╛ржВрж▓рж╛ржжрзЗрж╢</h2>\n<p>ржкрзНрж░ржпрзБржХрзНрждрж┐ ржЦрж╛рждрзЗ ржмрж╛ржВрж▓рж╛ржжрзЗрж╢рзЗрж░ ржЕржЧрзНрж░ржЧрждрж┐ ржПржЦржи ржмрж┐рж╢рзНржмржмрзНржпрж╛ржкрзА рж╕рзНржмрзАржХрзГрждред ржЖржЗржЯрж┐ рж╕рзЗржХрзНржЯрж░рзЗ ржмрж┐ржкрзБрж▓ ржХрж░рзНржорж╕ржВрж╕рзНржерж╛ржи рж╕рзГрж╖рзНржЯрж┐ рж╣ржпрж╝рзЗржЫрзЗред</p>\n<p>рж╕рзНржЯрж╛рж░рзНржЯржЖржкржЧрзБрж▓рзЛ ржжрзЗрж╢рзЗрж░ ржЕрж░рзНржержирзАрждрж┐рждрзЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржнрзВржорж┐ржХрж╛ рж░рж╛ржЦржЫрзЗред</p>`,\n    category: 'Technology',\n    views: 12890\n  },\n  {\n    title: 'рж╢рж┐ржХрзНрж╖рж╛ ржмрзНржпржмрж╕рзНржерж╛ржпрж╝ ржирждрзБржи рж╕ржВрж╕рзНржХрж╛рж░',\n    slug: 'education-system-new-reforms',\n    content: `<h2>рж╢рж┐ржХрзНрж╖рж╛ржпрж╝ ржкрж░рж┐ржмрж░рзНрждржи</h2>\n<p>ржжрзЗрж╢рзЗрж░ рж╢рж┐ржХрзНрж╖рж╛ ржмрзНржпржмрж╕рзНржерж╛ржпрж╝ ржмржбрж╝ ржзрж░ржирзЗрж░ рж╕ржВрж╕рзНржХрж╛рж░ ржЖржирж╛ рж╣ржЪрзНржЫрзЗред ржЖржзрзБржирж┐ржХ ржХрж╛рж░рж┐ржХрзБрж▓рж╛ржо ржкрзНрж░ржгржпрж╝ржи ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред</p>\n<p>рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАржжрзЗрж░ ржжржХрзНрж╖рждрж╛ ржмрзГржжрзНржзрж┐рждрзЗ ржЬрзЛрж░ ржжрзЗржУржпрж╝рж╛ рж╣ржЪрзНржЫрзЗред</p>`,\n    category: 'Education',\n    views: 9540\n  },\n  {\n    title: 'ржкржжрзНржорж╛ рж╕рзЗрждрзБрж░ ржЕрж░рзНржержирзИрждрж┐ржХ ржкрзНрж░ржнрж╛ржм',\n    slug: 'padma-bridge-economic-impact',\n    content: `<h2>рж╕рзНржмржкрзНржирзЗрж░ ржкржжрзНржорж╛ рж╕рзЗрждрзБ</h2>\n<p>ржкржжрзНржорж╛ рж╕рзЗрждрзБ ржЪрж╛рж▓рзБ рж╣ржУржпрж╝рж╛рж░ ржкрж░ ржжржХрзНрж╖рж┐ржгрж╛ржЮрзНржЪрж▓рзЗрж░ ржЕрж░рзНржержирзАрждрж┐рждрзЗ ржмрж┐ржкрзНрж▓ржм ржШржЯрзЗржЫрзЗред ржпрзЛржЧрж╛ржпрзЛржЧ ржмрзНржпржмрж╕рзНржерж╛рж░ ржЙржирзНржирждрж┐ рж╣ржпрж╝рзЗржЫрзЗред</p>\n<p>ржмрзНржпржмрж╕рж╛-ржмрж╛ржгрж┐ржЬрзНржпрзЗ ржирждрзБржи ржжрж┐ржЧржирзНржд ржЦрзБрж▓рзЗржЫрзЗред</p>`,\n    category: 'Economy',\n    views: 22150\n  },\n  {\n    title: 'рж╕рзНржмрж╛рж╕рзНржерзНржп рж╕рзЗржмрж╛ржпрж╝ ржбрж┐ржЬрж┐ржЯрж╛рж▓ ржЙржжрзНржпрзЛржЧ',\n    slug: 'digital-health-services-initiative',\n    content: `<h2>ржЯрзЗрж▓рж┐ржорзЗржбрж┐рж╕рж┐ржи рж╕рзЗржмрж╛</h2>\n<p>рж╕рж╛рж░рж╛ржжрзЗрж╢рзЗ ржЯрзЗрж▓рж┐ржорзЗржбрж┐рж╕рж┐ржи рж╕рзЗржмрж╛ ржЪрж╛рж▓рзБ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред ржЧрзНрж░рж╛ржорзАржг ржЬржиржЧрзЛрж╖рзНржарзА ржПржЦржи ржШрж░рзЗ ржмрж╕рзЗ ржЪрж┐ржХрж┐рзОрж╕рж╛ рж╕рзЗржмрж╛ ржкрж╛ржЪрзНржЫрзЗред</p>\n<p>ржЕржирж▓рж╛ржЗржирзЗ ржбрж╛ржХрзНрждрж╛рж░рзЗрж░ ржкрж░рж╛ржорж░рзНрж╢ ржирзЗржУржпрж╝рж╛ рж╕ржорзНржнржм рж╣ржЪрзНржЫрзЗред</p>`,\n    category: 'Health',\n    views: 7890\n  },\n  {\n    title: 'рж░ржкрзНрждрж╛ржирж┐ ржЖржпрж╝рзЗ ржирждрзБржи рж░рзЗржХрж░рзНржб',\n    slug: 'export-earnings-new-record',\n    content: `<h2>ржЕрж░рзНржержирзИрждрж┐ржХ рж╕рж╛ржлрж▓рзНржп</h2>\n<p>ржЧржд ржЕрж░рзНржержмржЫрж░рзЗ ржмрж╛ржВрж▓рж╛ржжрзЗрж╢рзЗрж░ рж░ржкрзНрждрж╛ржирж┐ ржЖржпрж╝ ржирждрзБржи рж░рзЗржХрж░рзНржб рж╕рзГрж╖рзНржЯрж┐ ржХрж░рзЗржЫрзЗред рждрзИрж░рж┐ ржкрзЛрж╢рж╛ржХ рж╢рж┐рж▓рзНржк ржПрждрзЗ ржкрзНрж░ржзрж╛ржи ржнрзВржорж┐ржХрж╛ рж░рзЗржЦрзЗржЫрзЗред</p>\n<p>ржирждрзБржи ржирждрзБржи ржмрж╛ржЬрж╛рж░ рж╕рзГрж╖рзНржЯрж┐ рж╣ржпрж╝рзЗржЫрзЗред</p>`,\n    category: 'Economy',\n    views: 14230\n  },\n  {\n    title: 'ржкрж░рж┐ржмрзЗрж╢ рж╕ржВрж░ржХрзНрж╖ржгрзЗ ржирждрзБржи ржкржжржХрзНрж╖рзЗржк',\n    slug: 'environment-conservation-new-steps',\n    content: `<h2>рж╕ржмрзБржЬ ржмрж╛ржВрж▓рж╛ржжрзЗрж╢</h2>\n<p>ржкрж░рж┐ржмрзЗрж╢ рж░ржХрзНрж╖рж╛ржпрж╝ рж╕рж░ржХрж╛рж░ ржирждрзБржи ржирждрзБржи ржкржжржХрзНрж╖рзЗржк ржирж┐ржпрж╝рзЗржЫрзЗред ржмрзГржХрзНрж╖рж░рзЛржкржг ржХрж░рзНржорж╕рзВржЪрж┐ ржмрзНржпрж╛ржкржХ рж╣рж╛рж░рзЗ ржЪрж▓ржЫрзЗред</p>\n<p>ржкрзНрж▓рж╛рж╕рзНржЯрж┐ржХ ржмрзНржпржмрж╣рж╛рж░ ржХржорж╛рждрзЗ ржЬржирж╕ржЪрзЗрждржирждрж╛ ржмрж╛ржбрж╝рж╛ржирзЛ рж╣ржЪрзНржЫрзЗред</p>`,\n    category: 'Environment',\n    views: 6780\n  },\n  {\n    title: 'ржирж╛рж░рзА ржХрзНрж╖ржорждрж╛ржпрж╝ржирзЗ ржмрж╛ржВрж▓рж╛ржжрзЗрж╢',\n    slug: 'women-empowerment-bangladesh',\n    content: `<h2>ржирж╛рж░рзА ржЙржирзНржиржпрж╝ржи</h2>\n<p>ржирж╛рж░рзА ржХрзНрж╖ржорждрж╛ржпрж╝ржирзЗ ржмрж╛ржВрж▓рж╛ржжрзЗрж╢ ржПржЧрж┐ржпрж╝рзЗ ржпрж╛ржЪрзНржЫрзЗред рж╕ржм ржХрзНрж╖рзЗрждрзНрж░рзЗ ржирж╛рж░рзАржжрзЗрж░ ржЕржВрж╢ржЧрзНрж░рж╣ржг ржмрж╛ржбрж╝ржЫрзЗред</p>\n<p>ржЙржжрзНржпрзЛржХрзНрждрж╛ рж╣рж┐рж╕рзЗржмрзЗржУ ржирж╛рж░рзАрж░рж╛ рж╕ржлрж▓ рж╣ржЪрзНржЫрзЗржиред</p>`,\n    category: 'Society',\n    views: 11450\n  }\n];\n\nasync function seedBengaliArticles(client) {\n  try {\n    // Get admin user ID\n    const users = await client.sql`SELECT id FROM users WHERE role = 'admin' LIMIT 1`;\n    const authorId = users.rows[0]?.id;\n\n    if (!authorId) {\n      console.error('No admin user found. Please run seed-admin.js first.');\n      return;\n    }\n\n    console.log('Seeding Bengali articles...');\n\n    for (const article of bengaliArticles) {\n      await client.sql`\n        INSERT INTO articles (title, slug, content, status, category, views, author_id, image)\n        VALUES (\n          ${article.title},\n          ${article.slug},\n          ${article.content},\n          'published',\n          ${article.category},\n          ${article.views},\n          ${authorId},\n          'https://images.unsplash.com/photo-1585829365295-ab7cd400c167?q=80&w=2070'\n        )\n        ON CONFLICT (slug) DO NOTHING;\n      `;\n      console.log(`тЬУ ${article.title}`);\n    }\n\n    console.log(`\\nтЬЕ Seeded ${bengaliArticles.length} Bengali articles successfully!`);\n  } catch (error) {\n    console.error('Error seeding Bengali articles:', error);\n    throw error;\n  }\n}\n\nasync function main() {\n  const client = await db.connect();\n  await seedBengaliArticles(client);\n await client.end();\n}\n\nmain().catch((err) => {\n  console.error('An error occurred:', err);\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/seed-samakal-news.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":4,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":35}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\nconst cheerio = require('cheerio');\n\n// Load environment variables\nloadEnvConfig(cwd());\n\n// Helper to wait\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\n\n// Simple fetch wrapper\nasync function fetchHtml(url) {\n  try {\n    const res = await fetch(url, {\n      headers: {\n        'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',\n      }\n    });\n    if (!res.ok) throw new Error(`Failed to fetch ${url}: ${res.status}`);\n    return await res.text();\n  } catch (error) {\n    console.error(`Error fetching ${url}:`, error.message);\n    return null;\n  }\n}\n\n// Translations Mapping (Manual copy from src/config/categories.ts)\nconst TRANSLATIONS = {\n  \"latest\": \"рж╕рж░рзНржмрж╢рзЗрж╖\",\n  \"politics\": \"рж░рж╛ржЬржирзАрждрж┐\",\n  \"economics\": \"ржЕрж░рзНржержирзАрждрж┐\",\n  \"world\": \"ржмрж┐рж╢рзНржм\",\n  \"sports\": \"ржЦрзЗрж▓рж╛\",\n  \"entertainment\": \"ржмрж┐ржирзЛржжржи\",\n  \"technology\": \"ржкрзНрж░ржпрзБржХрзНрждрж┐\",\n  \"lifestyle\": \"ржЬрзАржмржиржпрж╛ржкржи\",\n  \"education\": \"рж╢рж┐ржХрзНрж╖рж╛\",\n  \"crime\": \"ржЕржкрж░рж╛ржз\",\n  \"capital\": \"рж░рж╛ржЬржзрж╛ржирзА\",\n  \"bangladesh\": \"ржмрж╛ржВрж▓рж╛ржжрзЗрж╢\",\n  \"opinion\": \"ржорждрж╛ржоржд\",\n  \n  // Sub-categories\n  \"awami-league\": \"ржЖржУрзЯрж╛ржорзА рж▓рзАржЧ\",\n  \"bnp\": \"ржмрж┐ржПржиржкрж┐\",\n  \"jamaat\": \"ржЬрж╛ржорж╛рзЯрж╛ржд\",\n  \"jatiya-party\": \"ржЬрж╛рждрзАржпрж╝ ржкрж╛рж░рзНржЯрж┐\",\n  \"election\": \"ржирж┐рж░рзНржмрж╛ржЪржи\",\n  \"cricket\": \"ржХрзНрж░рж┐ржХрзЗржЯ\",\n  \"football\": \"ржлрзБржЯржмрж▓\",\n  \"tennis\": \"ржЯрзЗржирж┐рж╕\",\n  \"t20-world-cup\": \"ржЯрж┐тАУржЯрзЛрзЯрзЗржирзНржЯрж┐ ржмрж┐рж╢рзНржмржХрж╛ржк\",\n  \"bollywood\": \"ржмрж▓рж┐ржЙржб\",\n  \"hollywood\": \"рж╣рж▓рж┐ржЙржб\",\n  \"dhallywood\": \"ржврж╛рж▓рж┐ржЙржб\",\n  \"television\": \"ржЯрзЗрж▓рж┐ржнрж┐рж╢ржи\",\n  \"ott\": \"ржУржЯрж┐ржЯрж┐\",\n  \"gadgets\": \"ржЧрзНржпрж╛ржЬрзЗржЯ\",\n  \"social-media\": \"рж╕рзЛрж╢рзНржпрж╛рж▓ ржорж┐ржбрж┐рзЯрж╛\",\n  \"food\": \"ржЦрж╛ржмрж╛рж░\",\n  \"travel\": \"ржнрзНрж░ржоржг\",\n  \"fashion\": \"ржлрзНржпрж╛рж╢ржи\",\n  \"share-market\": \"рж╢рзЗрзЯрж╛рж░ржмрж╛ржЬрж╛рж░\",\n  \"bank-insurance\": \"ржмрзНржпрж╛ржВржХ-ржмрзАржорж╛\",\n  \"budget\": \"ржмрж╛ржЬрзЗржЯ\",\n  \"others-politics\": \"ржЕржирзНржпрж╛ржирзНржп\",\n  \"other-sports\": \"ржЕржирзНржпрж╛ржирзНржп\",\n  \"other-entertainment\": \"ржЕржирзНржпрж╛ржирзНржп\",\n  \"miscellaneous\": \"ржмрж┐ржмрж┐ржз\"\n};\n\n// Category Mappings\nconst CATEGORIES = [\n  { slug: 'politics', url: 'https://samakal.com/politics', limit: 25 },\n  { slug: 'economics', url: 'https://samakal.com/economics', limit: 20 },\n  { slug: 'world', url: 'https://samakal.com/international', limit: 15 },\n  { slug: 'sports', url: 'https://samakal.com/sports', limit: 25 },\n  { slug: 'entertainment', url: 'https://samakal.com/entertainment', limit: 25 },\n  { slug: 'technology', url: 'https://samakal.com/technology', limit: 15 },\n  { slug: 'lifestyle', url: 'https://samakal.com/lifestyle', limit: 15 },\n  { slug: 'education', url: 'https://samakal.com/sub/education', limit: 10 },\n  { slug: 'crime', url: 'https://samakal.com/crime', limit: 15 },\n  { slug: 'capital', url: 'https://samakal.com/capital', limit: 15 },\n  { slug: 'opinion', url: 'https://samakal.com/opinion', limit: 10 },\n  { slug: 'bangladesh', url: 'https://samakal.com/bangladesh', limit: 15 },\n];\n\n// Sub-category Keywords Mapping\nconst SUB_CATEGORY_RULES = {\n  politics: [\n    { slug: 'awami-league', keywords: ['ржЖржУрзЯрж╛ржорзА рж▓рзАржЧ', 'рж╣рж╛рж╕рж┐ржирж╛', 'ржУржмрж╛рзЯржжрзБрж▓ ржХрж╛ржжрзЗрж░'] },\n    { slug: 'bnp', keywords: ['ржмрж┐ржПржиржкрж┐', 'ржлржЦрж░рзБрж▓', 'рждрж╛рж░рзЗржХ'] },\n    { slug: 'jamaat', keywords: ['ржЬрж╛ржорж╛рзЯрж╛ржд', 'рж╢рж┐ржмрж┐рж░'] },\n    { slug: 'jatiya-party', keywords: ['ржЬрж╛рждрзАржпрж╝ ржкрж╛рж░рзНржЯрж┐', 'ржПрж░рж╢рж╛ржж', 'ржЬрж┐ржПржо ржХрж╛ржжрзЗрж░'] },\n    { slug: 'election', keywords: ['ржирж┐рж░рзНржмрж╛ржЪржи', 'ржнрзЛржЯ', 'ржЗрж╕рж┐'] },\n  ],\n  sports: [\n    { slug: 'cricket', keywords: ['ржХрзНрж░рж┐ржХрзЗржЯ', 'рж╕рж╛ржХрж┐ржм', 'рждрж╛ржорж┐ржо', 'ржмрж┐рж╕рж┐ржмрж┐', 'ржЯрж╛ржЗржЧрж╛рж░', 'рж░рж╛ржи'] },\n    { slug: 'football', keywords: ['ржлрзБржЯржмрж▓', 'ржорзЗрж╕рж┐', 'рж░рзЛржирж╛рж▓ржжрзЛ', 'ржирзЗржЗржорж╛рж░', 'ржлрж┐ржлрж╛', 'ржмрж╛ржлрзБржлрзЗ', 'ржЧрзЛрж▓'] },\n    { slug: 'tennis', keywords: ['ржЯрзЗржирж┐рж╕'] },\n    { slug: 't20-world-cup', keywords: ['ржЯрж┐-ржЯрзЛрзЯрзЗржирзНржЯрж┐', 'ржмрж┐рж╢рзНржмржХрж╛ржк'] },\n  ],\n  entertainment: [\n    { slug: 'bollywood', keywords: ['ржмрж▓рж┐ржЙржб', 'рж╢рж╛рж╣рж░рзБржЦ', 'рж╕рж╛рж▓ржорж╛ржи', 'ржжрзАржкрж┐ржХрж╛', 'рж░ржгржмрзАрж░'] },\n    { slug: 'hollywood', keywords: ['рж╣рж▓рж┐ржЙржб', 'ржЕрж╕рзНржХрж╛рж░', 'ржЯржо ржХрзНрж░рзБржЬ'] },\n    { slug: 'dhallywood', keywords: ['рж╢рж╛ржХрж┐ржм', 'ржмрзБржмрж▓рзА', 'ржкрж░рзАржоржирж┐', 'рж╕рж┐ржирзЗржорж╛ржпрж╝', 'ржЕржкрзБ ржмрж┐рж╢рзНржмрж╛рж╕'] },\n    { slug: 'television', keywords: ['ржирж╛ржЯржХ', 'ржЯрж┐ржнрж┐рждрзЗ', 'рж╕рж┐рж░рж┐рзЯрж╛рж▓', 'ржЕржнрж┐ржирзЗрждрзНрж░рзА'] },\n    { slug: 'ott', keywords: ['ржУржЯрж┐ржЯрж┐', 'ржУрзЯрзЗржм рж╕рж┐рж░рж┐ржЬ', 'ржирзЗржЯржлрзНрж▓рж┐ржХрзНрж╕', 'hoichoi', 'ржЪрж░ржХрж┐'] },\n  ],\n  technology: [\n    { slug: 'gadgets', keywords: ['ржорзЛржмрж╛ржЗрж▓', 'рж▓рзНржпрж╛ржкржЯржк', 'рж╕рзНржорж╛рж░рзНржЯржлрзЛржи', 'ржЧрзНржпрж╛ржЬрзЗржЯ', 'ржЖржЗржлрзЛржи', 'рж╕рзНржпрж╛ржорж╕рж╛ржВ'] },\n    { slug: 'social-media', keywords: ['ржлрзЗрж╕ржмрзБржХ', 'ржЯрзБржЗржЯрж╛рж░', 'ржЗржирзНрж╕ржЯрж╛ржЧрзНрж░рж╛ржо', 'рж╕рзЛрж╢рзНржпрж╛рж▓', 'рж╣рзЛрзЯрж╛ржЯрж╕ржЕрзНржпрж╛ржк'] },\n    { slug: 'ai', keywords: ['ржПржЖржЗ', 'ржХрзГрждрзНрж░рж┐ржо ржмрзБржжрзНржзрж┐ржорждрзНрждрж╛', 'ржЪрзНржпрж╛ржЯржЬрж┐ржкрж┐ржЯрж┐'] },\n  ],\n  lifestyle: [\n    { slug: 'food', keywords: ['рж░рзЗрж╕рж┐ржкрж┐', 'ржЦрж╛ржмрж╛рж░', 'рж░рж╛ржирзНржирж╛', 'ржбрж╛рзЯрзЗржЯ'] },\n    { slug: 'travel', keywords: ['ржнрзНрж░ржоржг', 'ржЯрзНржпрзБрж░', 'рж░рж┐рж╕рзЛрж░рзНржЯ', 'ржнрж┐рж╕рж╛'] },\n    { slug: 'fashion', keywords: ['ржлрзНржпрж╛рж╢ржи', 'рж╕рж╛ржЬрж╕ржЬрзНржЬрж╛', 'рж░рзВржкржЪрж░рзНржЪрж╛'] },\n  ],\n   economics: [\n    { slug: 'share-market', keywords: ['ржкрзБржБржЬрж┐ржмрж╛ржЬрж╛рж░', 'рж╢рзЗрзЯрж╛рж░', 'рж╕рзВржЪржХ', 'рж▓рзЗржиржжрзЗржи'] },\n    { slug: 'bank-insurance', keywords: ['ржмрзНржпрж╛ржВржХ', 'ржмрзАржорж╛', 'ржЛржг', 'ржмрж╛ржВрж▓рж╛ржжрзЗрж╢ ржмрзНржпрж╛ржВржХ'] },\n    { slug: 'budget', keywords: ['ржмрж╛ржЬрзЗржЯ', 'рж░рж╛ржЬрж╕рзНржм', 'ржнрзНржпрж╛ржЯ'] },\n  ],\n};\n\nfunction determineSubCategory(category, title, content) {\n  const text = (title + ' ' + content).toLowerCase();\n  const rules = SUB_CATEGORY_RULES[category];\n  \n  if (!rules) return null;\n\n  for (const rule of rules) {\n    if (rule.keywords.some(k => text.includes(k.toLowerCase()))) {\n      return rule.slug;\n    }\n  }\n  return null;\n}\n\nasync function scrapeAndSeed() {\n  const client = await db.connect();\n  let totalInserted = 0;\n\n  try {\n\n    console.log('ЁЯМ▒ Starting Samakal Scraper & Seeder...');\n    \n    // Get a valid author ID\n    const userRes = await client.sql`SELECT id FROM users LIMIT 1`;\n    let authorId;\n    \n    if (userRes.rows.length > 0) {\n        authorId = userRes.rows[0].id;\n        console.log(`   ЁЯСд Using Author ID: ${authorId}`);\n    } else {\n        // Create a system user if none exists\n        console.log('   ЁЯСд No users found. Creating System User...');\n        const newUser = await client.sql`\n            INSERT INTO users (name, email, password, role) \n            VALUES ('System Admin', 'admin@system.local', 'placeholder_hash', 'admin')\n            RETURNING id\n        `;\n        authorId = newUser.rows[0].id;\n    }\n\n    for (const catConf of CATEGORIES) {\n      console.log(`\\nЁЯФН Scraping Category: ${catConf.slug.toUpperCase()} (${catConf.url})`);\n      \n      const html = await fetchHtml(catConf.url);\n      if (!html) continue;\n\n      const $ = cheerio.load(html);\n      const articleLinks = [];\n\n      $('a[href*=\"/article/\"]').each((i, el) => {\n        const href = $(el).attr('href');\n        if (href && !articleLinks.includes(href)) {\n          articleLinks.push(href);\n        }\n      });\n      // Fallback or additional links\n       $('a[href*=\"/details/\"]').each((i, el) => {\n          const href = $(el).attr('href');\n          if (href && !articleLinks.includes(href)) {\n            articleLinks.push(href);\n          }\n      });\n\n      console.log(`   Found ${articleLinks.length} links. Processing top ${catConf.limit}...`);\n\n      const linksToProcess = articleLinks.slice(0, catConf.limit);\n\n      for (const link of linksToProcess) {\n        const fullLink = link.startsWith('http') ? link : `https://samakal.com${link}`;\n        \n        try {\n            const articleHtml = await fetchHtml(fullLink);\n            if (!articleHtml) continue;\n\n            const $a = cheerio.load(articleHtml);\n\n            // Extract Data\n            const title = $a('h1').first().text().trim() || $a('meta[property=\"og:title\"]').attr('content');\n            \n            let content = $a('.detail-content').html() || $a('.content-details').html() || $a('.description').html();\n            \n            if (content) {\n                const $c = cheerio.load(content);\n                $c('script').remove();\n                $c('.advertisement').remove();\n                $c('style').remove();\n                content = $c.text().trim().substring(0, 5000); \n            } else {\n                content = $a('meta[name=\"description\"]').attr('content') || '';\n            }\n\n            const imageUrl = $a('meta[property=\"og:image\"]').attr('content');\n            const subCategorySlug = determineSubCategory(catConf.slug, title, content);\n\n            // Determine Bengali Category Name using Translations\n            // If sub-category is found, use its Bengali name.\n            // Otherwise use the Main Category's Bengali name.\n            let finalCategory = TRANSLATIONS[catConf.slug] || catConf.slug;\n            if (subCategorySlug && TRANSLATIONS[subCategorySlug]) {\n                finalCategory = TRANSLATIONS[subCategorySlug];\n            }\n\n            // Create a unique slug from title if original slug is missing or just use title hash\n            const slug = title.replace(/[^a-zA-Z0-9\\u0980-\\u09FF]+/g, '-').substring(0, 100) + '-' + Date.now();\n\n            if (!title) {\n                continue;\n            }\n\n            // Insert to DB\n            const existing = await client.sql`SELECT id FROM articles WHERE title = ${title} LIMIT 1`;\n            \n            if (existing.rows.length === 0) {\n                 await client.sql`\n                  INSERT INTO articles (\n                    title,\n                    slug,\n                    content,\n                    image,\n                    category,\n                    status,\n                    author_id,\n                    created_at,\n                    updated_at\n                  ) VALUES (\n                    ${title},\n                    ${slug},\n                    ${content},\n                    ${imageUrl},\n                    ${finalCategory},\n                    'published',\n                    ${authorId}, \n                    NOW(),\n                    NOW()\n                  )\n                `;\n                console.log(`   тЬЕ Inserted: ${title.substring(0, 30)}... [${finalCategory}]`);\n                totalInserted++;\n            } else {\n                 console.log(`   тЪая╕П  Duplicate: ${title.substring(0, 20)}...`);\n            }\n\n            await delay(300); // polite delay\n\n        } catch (err) {\n            console.error(`   тЭМ Failed to process ${fullLink}:`, err.message);\n        }\n      }\n      \n      await delay(1000);\n    }\n\n    console.log(`\\nЁЯОЙ Seeding Completed! Total articles inserted: ${totalInserted}`);\n\n  } catch (error) {\n    console.error('Fatal Error:', error);\n  } finally {\n    await client.end();\n    process.exit(0);\n  }\n}\n\nscrapeAndSeed();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/set-featured.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":26,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":53},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":1,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":18}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nconst { createClient } = require('@vercel/postgres');\nrequire('dotenv').config({ path: '.env.local' });\n\nasync function setFeatured() {\n  const client = createClient();\n  await client.connect();\n\n  try {\n    // 1. Get a random article ID\n    const res = await client.sql`SELECT id, title FROM articles WHERE status = 'published' LIMIT 1;`;\n    \n    if (res.rows.length === 0) {\n        console.log(\"No articles found.\");\n        return;\n    }\n\n    const article = res.rows[0];\n    const articleId = article.id;\n\n    console.log(`Marking article as featured: \"${article.title}\" (${articleId})`);\n\n    // 2. Set is_featured = true\n    await client.sql`\n        UPDATE articles \n        SET is_featured = true, is_prime = true, featured_at = NOW() \n        WHERE id = ${articleId};\n    `;\n\n    console.log(\"Success! Article marked as Featured/Prime.\");\n\n  } catch (error) {\n    console.error('Error:', error);\n  } finally {\n    await client.end();\n  }\n}\n\nsetFeatured();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/smart-fill.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\n\nloadEnvConfig(cwd());\n\n// Helper to wait\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\n\nconst DISTRIBUTIONS = [\n  {\n    source: 'ржЦрзЗрж▓рж╛', // Sports\n    targets: ['ржХрзНрж░рж┐ржХрзЗржЯ', 'ржлрзБржЯржмрж▓', 'ржЯрзЗржирж┐рж╕', 'ржЯрж┐тАУржЯрзЛрзЯрзЗржирзНржЯрж┐ ржмрж┐рж╢рзНржмржХрж╛ржк', 'ржмрж┐ржмрж┐ржз']\n  },\n  {\n    source: 'ржмрж┐ржирзЛржжржи', // Entertainment\n    targets: ['ржмрж▓рж┐ржЙржб', 'рж╣рж▓рж┐ржЙржб', 'ржврж╛рж▓рж┐ржЙржб', 'ржЯрзЗрж▓рж┐ржнрж┐рж╢ржи', 'ржУржЯрж┐ржЯрж┐', 'ржорж┐ржЙржЬрж┐ржХ']\n  },\n  {\n    source: 'рж░рж╛ржЬржирзАрждрж┐', // Politics\n    targets: ['ржЖржУрзЯрж╛ржорзА рж▓рзАржЧ', 'ржмрж┐ржПржиржкрж┐', 'ржЬрж╛ржорж╛рзЯрж╛ржд', 'ржЬрж╛рждрзАржпрж╝ ржкрж╛рж░рзНржЯрж┐', 'ржирж┐рж░рзНржмрж╛ржЪржи']\n  },\n  {\n    source: 'ржкрзНрж░ржпрзБржХрзНрждрж┐', // Technology\n    targets: ['ржЧрзНржпрж╛ржЬрзЗржЯ', 'рж╕рзЛрж╢рзНржпрж╛рж▓ ржорж┐ржбрж┐рзЯрж╛', 'ржЖржЗржЯрж┐ ржЦрж╛ржд', 'ржмрж┐ржЬрзНржЮрж╛ржи']\n  },\n  {\n    source: 'ржЬрзАржмржиржпрж╛ржкржи', // Lifestyle\n    targets: ['ржнрзНрж░ржоржг', 'ржлрзНржпрж╛рж╢ржи', 'ржЦрж╛ржмрж╛рж░', 'рж╕рзНржмрж╛рж╕рзНржерзНржп ржЯрж┐ржкрж╕', 'рж╕ржорзНржкрж░рзНржХ']\n  },\n  {\n    source: 'ржЕрж░рзНржержирзАрждрж┐', // Economics\n    targets: ['рж╢рзЗрзЯрж╛рж░ржмрж╛ржЬрж╛рж░', 'ржмрзНржпрж╛ржВржХ-ржмрзАржорж╛', 'рж╢рж┐рж▓рзНржк-ржмрж╛ржгрж┐ржЬрзНржп', 'ржмрж╛ржЬрзЗржЯ']\n  },\n  {\n    source: 'рж╢рж┐ржХрзНрж╖рж╛', // Education\n    targets: ['ржХрзНржпрж╛ржорзНржкрж╛рж╕', 'ржнрж░рзНрждрж┐', 'ржкрж░рзАржХрзНрж╖рж╛ ржУ ржлрж▓']\n  },\n  {\n    source: 'ржЖржирзНрждрж░рзНржЬрж╛рждрж┐ржХ', // World\n    targets: ['ржПрж╢рж┐рзЯрж╛', 'ржЗржЙрж░рзЛржк', 'ржЖржорзЗрж░рж┐ржХрж╛', 'ржоржзрзНржпржкрзНрж░рж╛ржЪрзНржп', 'ржпрзБржжрзНржз-рж╕ржВржШрж╛ржд']\n  },\n   {\n    source: 'ржЕржкрж░рж╛ржз', // Crime\n    targets: ['ржЦрзБржи', 'ржжрзБрж░рзНржирзАрждрж┐', 'ржзрж░рзНрж╖ржг', 'ржЖржжрж╛рж▓ржд']\n  },\n  {\n    source: 'ржорждрж╛ржоржд', // Opinion\n    targets: ['рж╕ржорзНржкрж╛ржжржХрзАрзЯ', 'рж╕рж╛ржХрзНрж╖рж╛рзОржХрж╛рж░', 'ржЪрждрзБрж░ржЩрзНржЧ', 'ржорзБржХрзНрждржоржЮрзНржЪ']\n  }\n];\n\nasync function smartFill() {\n  const client = await db.connect();\n  let totalDistributed = 0;\n\n  try {\n    console.log('ЁЯФД Starting Smart Distribution...');\n\n    for (const rule of DISTRIBUTIONS) {\n      console.log(`\\nЁЯУВ Processing: ${rule.source}`);\n      \n      // Fetch all articles in this source category\n      const articles = await client.sql`\n        SELECT id, title FROM articles \n        WHERE category = ${rule.source}\n      `;\n      \n      console.log(`   Found ${articles.rows.length} articles.`);\n      \n      if (articles.rows.length === 0) continue;\n\n      // Round robin distribution\n      let targetIndex = 0;\n      \n      for (const article of articles.rows) {\n        const targetCategory = rule.targets[targetIndex];\n        \n        // Randomly decide to move it or clone it? \n        // For best results, let's keep the original AND create a copy for the sub-category\n        // This ensures the main page remains full while sub-pages get content.\n        \n        // Actually, just UPDATE is cleaner for DB size, \n        // BUT if we update, the main parent page might get empty if it strictly filters by \"Sports\" \n        // and doesn't include \"Cricket\".\n        // Let's check the frontend logic: fetchArticlesByCategory queries \"category ILIKE ...\".\n        // So if we rename \"Sports\" to \"Cricket\", does the \"Sports\" page still show \"Cricket\" items?\n        // NO, unless we implement hierarchical query.\n        \n        // BETTER APPROACH: DUPLICATE (CLONE)\n        // We will make a copv of the article with the new sub-category.\n        \n        const original = await client.sql`SELECT * FROM articles WHERE id = ${article.id}`;\n        const row = original.rows[0];\n        \n        // Create a new slug to avoid collision\n        const newSlug = `${row.slug}-${targetCategory}-${Date.now()}`;\n        \n        // Insert Copy\n        await client.sql`\n          INSERT INTO articles (\n             title, slug, content, status, category, image, author_id, \n             created_at, updated_at, sub_headline, news_type\n          ) VALUES (\n             ${row.title}, ${newSlug}, ${row.content}, ${row.status}, \n             ${targetCategory}, ${row.image}, ${row.author_id}, \n             NOW(), NOW(), ${row.sub_headline}, ${row.news_type}\n          )\n        `;\n        \n        console.log(`   тЬи Cloned \"${row.title.substring(0, 20)}...\" to [${targetCategory}]`);\n        totalDistributed++;\n        \n        targetIndex = (targetIndex + 1) % rule.targets.length;\n        await delay(50);\n      }\n    }\n\n    console.log(`\\nЁЯОЙ Distribution Completed! Created ${totalDistributed} new entries.`);\n\n  } catch (error) {\n    console.error('Error:', error);\n  } finally {\n    await client.end();\n  }\n}\n\nsmartFill();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/test-db-connection.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":4,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":43}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Quick test to check if DB connection works\nconst { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\n\nloadEnvConfig(cwd());\n\nasync function test() {\n  console.log('Testing DB connection...');\n  console.log('POSTGRES_URL exists:', !!process.env.POSTGRES_URL);\n  \n  try {\n    const client = await db.connect();\n    console.log('тЬЕ DB connection established');\n    \n    const result = await client.sql`SELECT category, COUNT(*) as count FROM articles GROUP BY category ORDER BY category`;\n    console.log('\\nCurrent article counts:');\n    result.rows.forEach(row => console.log(`  ${row.category}: ${row.count}`));\n    \n    await client.end();\n    process.exit(0);\n  } catch (error) {\n    console.error('тЭМ DB Error:', error.message);\n    process.exit(1);\n  }\n}\n\ntest();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/test-db.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":44},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":1,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'result' is assigned a value but never used.","line":9,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":17}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nconst { sql } = require('@vercel/postgres');\nrequire('dotenv').config({ path: '.env.local' });\n\nasync function testDB() {\n  console.log('Testing database connection...');\n  const start = Date.now();\n  try {\n    const result = await sql`SELECT 1 as test`;\n    console.log(`Connection successful! Time: ${Date.now() - start}ms`);\n    \n    console.log('Checking tables...');\n    const tables = await sql`\n      SELECT table_name \n      FROM information_schema.tables \n      WHERE table_schema = 'public'\n    `;\n    console.log('Available tables:', tables.rows.map(r => r.table_name).join(', '));\n    \n  } catch (error) {\n    console.error('Database connection failed:', error);\n  } finally {\n    process.exit();\n  }\n}\n\ntestDB();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/test-fetch.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":14,"column":34,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":14,"endColumn":71}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\n\nloadEnvConfig(cwd());\n\n// Mocking 'server-only' or similar constraints if needed?\n// We will try importing the action directly. \n// If it fails due to Next.js specific imports (like 'next/navigation' redirect), we might have issues.\n// But let's try.\n\nasync function main() {\n  try {\n    // Dynamic import to allow env loading first\n    const { fetchArticleById } = require('../src/lib/actions-article');\n    \n    console.log('ЁЯзк Testing fetchArticleById(\"1\")...');\n    const article = await fetchArticleById(\"1\");\n    console.log('Result:', article ? article.title : 'null');\n    \n  } catch (error) {\n    console.error('тЭМ Error testing fetch:', error);\n  }\n}\n\nmain();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/test-scraper.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":18,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":36},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":19,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":39}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } =  require('process');\nconst puppeteer = require('puppeteer');\n\nloadEnvConfig(cwd());\n\nasync function testImprovedScraper() {\n  console.log('ЁЯзк Testing Samakal scraper with correct selectors...\\n');\n  \n  const browser = await puppeteer.launch({ headless: 'new' });\n  \n  try {\n    const testUrl = 'https://samakal.com/bangladesh/article/335904/ржЧржгржнрзЛржЯрзЗ-рж╕рж░ржХрж╛рж░рж┐-ржХрж░рзНржоржХрж░рзНрждрж╛рж░рж╛-рж╣рзНржпрж╛ржБ-ржмрж╛-ржирж╛-ржПрж░-ржкржХрзНрж╖рзЗ-ржкрзНрж░ржЪрж╛рж░-ржЪрж╛рж▓рж╛рждрзЗ-ржкрж╛рж░ржмрзЗржи-ржирж╛-ржЗрж╕рж┐';\n    \n    console.log(`ЁЯУЦ Loading article...\\n`);\n    \n    const page = await browser.newPage();\n    await page.goto(testUrl, {\n      waitUntil: 'networkidle2',\n      timeout: 20000\n    });\n    \n    console.log('тЬЕ Page loaded\\n');\n    console.log('ЁЯФН Extracting content with Samakal selectors...\\n');\n    \n    const data = await page.evaluate(() => {\n      // Title\n      const h1 = document.querySelector('h1');\n      const title = h1 ? h1.textContent.trim() : '';\n      \n      // Content - Samakal specific #contentDetails.dNewsDesc\n      const contentDiv = document.querySelector('#contentDetails.dNewsDesc');\n      const content = contentDiv && contentDiv.innerHTML ? contentDiv.innerHTML.length : 0;\n      \n      // Image - og:image or div.DNewsImg img\n      let imageUrl = '';\n      const ogImage = document.querySelector('meta[property=\"og:image\"]');\n      if (ogImage) {\n        imageUrl = ogImage.getAttribute('content');\n      } else {\n        const img = document.querySelector('div.DNewsImg img, article img');\n        imageUrl = img ? img.src : '';\n      }\n      \n      return { title, content, imageUrl };\n    });\n    \n    console.log('ЁЯУК Extraction Results:');\n    console.log(`   тЬЕ Title: ${data.title.substring(0, 60)}...`);\n    console.log(`   тЬЕ Content: ${data.content} characters`);\n    console.log(`   тЬЕ Image: ${data.imageUrl.substring(0, 60)}...`);\n    \n    if (data.title && data.content > 500 && data.imageUrl) {\n      console.log(`\\nтЬЕ тЬЕ тЬЕ TEST PASSED - All data extracted successfully!`);\n      console.log(`\\nЁЯЪА ЁЯЪА ЁЯЪА Ready to run full import from Samakal.com`);\n    } else {\n      console.log(`\\nтЪая╕П  TEST FAILED - Missing or insufficient data`);\n      if (!data.title) console.log('   тЭМ Title missing');\n      if (data.content < 500) console.log(`   тЭМ Content too short: ${data.content} chars`);\n      if (!data.imageUrl) console.log('   тЭМ Image missing');\n    }\n    \n    await page.close();\n  } catch (error) {\n    console.error(`\\nтЭМ Error: ${error.message}`);\n  } finally {\n    await browser.close();\n  }\n}\n\ntestImprovedScraper();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/universal-import-batch.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":4,"column":19,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":39},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":5,"column":15,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":5,"endColumn":31},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":6,"column":12,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":6,"endColumn":25},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":7,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":7,"endColumn":29},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":8,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":8,"endColumn":33},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":48,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":48,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'categoryName' is defined but never used.","line":53,"column":44,"nodeType":"Identifier","messageId":"unusedVar","endLine":53,"endColumn":56},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":98,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":98,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'catUrl' is defined but never used.","line":112,"column":40,"nodeType":"Identifier","messageId":"unusedVar","endLine":112,"endColumn":46}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\nconst puppeteer = require('puppeteer');\nconst axios = require('axios');\nconst fs = require('fs');\nconst path = require('path');\nconst crypto = require('crypto');\n\nloadEnvConfig(cwd());\n\n// Command line arguments\nconst args = process.argv.slice(2);\nconst CATEGORY_NAME = args[0]; // e.g. \"Feature\"\nconst CATEGORY_URL = args[1];  // e.g. \"/feature/\"\nconst TARGET_COUNT = parseInt(args[2] || '15', 10);\n\nif (!CATEGORY_NAME || !CATEGORY_URL) {\n  console.error('Usage: node scripts/universal-import-batch.js <CategoryName> <CategoryUrl> [TargetCount]');\n  process.exit(1);\n}\n\nconst UPLOADS_DIR = path.join(process.cwd(), 'public', 'uploads', 'articles');\nif (!fs.existsSync(UPLOADS_DIR)) {\n  fs.mkdirSync(UPLOADS_DIR, { recursive: true });\n}\n\nfunction generateSlug(title, url = '') {\n  const hash = crypto.createHash('md5').update(title + url).digest('hex').substring(0, 12);\n  return `-${hash}`;\n}\n\nasync function downloadImage(imageUrl, articleSlug) {\n  try {\n    const response = await axios({\n      url: imageUrl,\n      method: 'GET',\n      responseType: 'arraybuffer',\n      timeout: 10000\n    });\n    \n    const ext = path.extname(new URL(imageUrl).pathname) || '.jpg';\n    const filename = `${articleSlug}${ext}`;\n    const filepath = path.join(UPLOADS_DIR, filename);\n    \n    fs.writeFileSync(filepath, response.data);\n    return `/uploads/articles/${filename}`;\n  } catch (error) {\n    return null;\n  }\n}\n\nasync function scrapeArticle(browser, url, categoryName) {\n  const page = await browser.newPage();\n  try {\n    await page.goto(url, { waitUntil: 'networkidle2', timeout: 20000 });\n    \n    const articleData = await page.evaluate(() => {\n        // Try multiple selectors for flexibility\n        const getTitle = () => {\n            const h1 = document.querySelector('h1');\n            if (h1) return h1.textContent.trim();\n            const titleEl = document.querySelector('.title, .article-title');\n            return titleEl ? titleEl.textContent.trim() : '';\n        };\n\n        const getContent = () => {\n             const contentDiv = document.querySelector('#contentDetails.dNewsDesc');\n             if (contentDiv) return contentDiv.innerHTML;\n             const articleBody = document.querySelector('article, .article-content');\n             return articleBody ? articleBody.innerHTML : '';\n        };\n\n        const getImage = () => {\n            const ogImage = document.querySelector('meta[property=\"og:image\"]');\n            if (ogImage) return ogImage.getAttribute('content');\n            const img = document.querySelector('div.DNewsImg img, article img');\n            return img ? img.src : '';\n        };\n\n        return {\n            title: getTitle(),\n            content: getContent(),\n            imageUrl: getImage(),\n            date: new Date().toISOString()\n        };\n    });\n\n    if (!articleData.title || !articleData.content || articleData.content.length < 200) {\n      console.log(`    тЪая╕П Scrape incomplete: Title=${!!articleData.title}, ContentLen=${articleData.content ? articleData.content.length : 0}`);\n      return null;\n    }\n    \n    return {\n      ...articleData,\n      originalUrl: url\n    };\n  } catch (error) {\n    return null;\n  } finally {\n    await page.close().catch(() => {});\n  }\n}\n\nasync function getArticleLinks(browser, categoryUrl) {\n  const page = await browser.newPage();\n  try {\n    const fullUrl = `https://samakal.com${categoryUrl}`;\n    console.log(`ЁЯУЦ Visiting: ${fullUrl}`);\n    await page.goto(fullUrl, { waitUntil: 'networkidle2', timeout: 20000 });\n    \n    const links = await page.evaluate((catUrl) => {\n      const uniqueLinks = new Set();\n      const anchors = document.querySelectorAll('a[href]');\n      \n      anchors.forEach(a => {\n        const href = a.getAttribute('href');\n        // STRICTER FILTER: Must contain /article/ to be considered an article\n        if (href && href.includes('/article/') && !href.includes('#')) {\n            const fullLink = href.startsWith('http') ? href : `https://samakal.com${href}`;\n            uniqueLinks.add(fullLink);\n        }\n      });\n      return Array.from(uniqueLinks);\n    }, categoryUrl);\n    \n    return links;\n  } catch (error) {\n    console.error('Failed to get links:', error.message);\n    return [];\n  } finally {\n    await page.close().catch(() => {});\n  }\n}\n\nasync function importArticle(articleData, slug) {\n  // OPEN NEW CONNECTION PER ARTICLE TO AVOID TIMEOUTS\n  const client = await db.connect();\n  try {\n    // Check for existing\n    const existing = await client.sql`\n        SELECT id FROM articles \n        WHERE source_url = ${articleData.originalUrl} OR title = ${articleData.title}\n        LIMIT 1\n    `;\n    \n    if (existing.rowCount > 0) {\n        return 'skipped';\n    }\n\n    await client.sql`\n      INSERT INTO articles (\n        id, title, slug, content, image, category,\n        status, source, source_url, created_at\n      ) VALUES (\n        gen_random_uuid(),\n        ${articleData.title},\n        ${slug},\n        ${articleData.content},\n        ${articleData.imageUrl},\n        ${CATEGORY_NAME},\n        'published',\n        'Samakal',\n        ${articleData.originalUrl},\n        NOW()\n      )\n    `;\n    return 'imported';\n  } catch (error) {\n    console.error(`  тЪая╕П  DB Error: ${error.message}`);\n    return 'failed';\n  } finally {\n    await client.end();\n  }\n}\n\nasync function main() {\n  console.log(`ЁЯЪА Starting Universal Batch Import for: ${CATEGORY_NAME}`);\n  console.log(`Target: ${TARGET_COUNT} articles`);\n  \n  const browser = await puppeteer.launch({ headless: 'new' });\n  let successCount = 0;\n  \n  try {\n    const links = await getArticleLinks(browser, CATEGORY_URL);\n    console.log(`Found ${links.length} potential links.`);\n    \n    for (let i = 0; i < links.length && successCount < TARGET_COUNT; i += 1) {\n        const url = links[i];\n        console.log(`[${i+1}/${links.length}] Scrape: ${url.substring(0, 60)}...`);\n        \n        const data = await scrapeArticle(browser, url, CATEGORY_NAME);\n        if (!data) {\n            console.log('  тЭМ Scrape failed or insufficient content');\n            continue;\n        }\n        \n        const slug = generateSlug(data.title, data.originalUrl);\n        if (data.imageUrl) {\n            const localImg = await downloadImage(data.imageUrl, slug);\n            if (localImg) data.imageUrl = localImg;\n        }\n        \n        const result = await importArticle(data, slug);\n        if (result === 'imported') {\n            console.log('  тЬЕ Imported');\n            successCount++;\n        } else if (result === 'skipped') {\n            console.log('  ok Skipped (Duplicate)');\n        } else {\n            console.log('  тЭМ Database Failed');\n        }\n        \n        // Small delay\n        await new Promise(r => setTimeout(r, 1000));\n    }\n  } catch (err) {\n    console.error('Fatal Error:', err);\n  } finally {\n    await browser.close();\n  }\n  \n  console.log(`\\nDone. Imported ${successCount} new articles for ${CATEGORY_NAME}.`);\n}\n\nmain().catch(console.error);\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/scripts/update-categories-bengali.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":27,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":47},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":35},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":43}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { loadEnvConfig } = require('@next/env');\nconst { cwd } = require('process');\nconst { db } = require('@vercel/postgres');\n\nloadEnvConfig(cwd());\n\nasync function updateCategoriesToBengali() {\n  console.log('ЁЯФД Updating category names to Bengali...\\n');\n  \n  const client = await db.connect();\n  \n  try {\n    // Check current categories\n    console.log('ЁЯУК Current categories:');\n    const current = await client.sql`\n      SELECT category, COUNT(*) as count \n      FROM articles \n      GROUP BY category \n      ORDER BY category\n    `;\n    console.table(current.rows);\n    \n    // Update to Bengali\n    console.log('\\nЁЯФД Converting to Bengali...\\n');\n    \n    const updates = [\n      { from: 'Bangladesh', to: 'ржмрж╛ржВрж▓рж╛ржжрзЗрж╢' },\n      { from: 'Politics', to: 'рж░рж╛ржЬржирзАрждрж┐' },\n      { from: 'Sports', to: 'ржЦрзЗрж▓рж╛' },\n      { from: 'Entertainment', to: 'ржмрж┐ржирзЛржжржи' },\n      { from: 'International', to: 'ржЖржирзНрждрж░рзНржЬрж╛рждрж┐ржХ' },\n      { from: 'Opinion', to: 'ржорждрж╛ржоржд' },\n      { from: 'Feature', to: 'ржлрж┐ржЪрж╛рж░' },\n      { from: 'Samagra', to: 'рж╕ржоржЧрзНрж░' },\n      { from: 'Literature', to: 'рж╕рж╛рж╣рж┐рждрзНржп' }\n      // ржЕрж░рзНржержирзАрждрж┐ already in Bengali\n    ];\n    \n    for (const { from, to } of updates) {\n      const result = await client.sql`\n        UPDATE articles \n        SET category = ${to} \n        WHERE category = ${from}\n      `;\n      if (result.rowCount > 0) {\n        console.log(`тЬЕ ${from} тЖТ ${to}: ${result.rowCount} articles updated`);\n      }\n    }\n    \n    // Show updated categories\n    console.log('\\nЁЯУК Updated categories:');\n    const updated = await client.sql`\n      SELECT category, COUNT(*) as count \n      FROM articles \n      GROUP BY category \n      ORDER BY category\n    `;\n    console.table(updated.rows);\n    \n    console.log('\\nтЬи Category names updated successfully!');\n    \n  } catch (error) {\n    console.error('тЭМ Error:', error.message);\n  } finally {\n    await client.end();\n  }\n}\n\nupdateCategoriesToBengali();\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(admin)/admin/dashboard/analytics/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MoveDown' is defined but never used.","line":2,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":26,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"MoveDown"},"fix":{"range":[119,129],"text":""},"desc":"Remove unused variable \"MoveDown\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Minus' is defined but never used.","line":2,"column":28,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":33,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Minus"},"fix":{"range":[129,136],"text":""},"desc":"Remove unused variable \"Minus\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { fetchAnalyticsOverview, fetchTopArticles, fetchCategoryStats } from \"@/lib/actions-analytics\";\nimport { MoveUp, MoveDown, Minus, Users, BookOpen } from \"lucide-react\";\nimport AnalyticsChart from \"@/components/dashboard/AnalyticsChart\";\n\n// Helper to convert English numbers to Bengali\nconst toBengaliNumber = (num: number) => {\n    return new Intl.NumberFormat('bn-BD').format(num);\n};\n\nexport const dynamic = 'force-dynamic';\n\nexport default async function AnalyticsPage() {\n  const overview = await fetchAnalyticsOverview();\n  const topArticles = await fetchTopArticles();\n  const categoryStats = await fetchCategoryStats();\n\n  return (\n    <div className=\"p-8\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">ржмрж┐рж╢рзНрж▓рзЗрж╖ржг (Analytics)</h1>\n        <p className=\"text-gray-500\">ржЖржкржирж╛рж░ рж╕рж╛ржЗржЯрзЗрж░ рж░рж┐рзЯрзЗрж▓-ржЯрж╛ржЗржо ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕ ржПржмржВ ржЯрзНрж░рзНржпрж╛ржлрж┐ржХ ржбрзЗржЯрж╛</p>\n      </div>\n\n      {/* Stats Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n        <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-sm font-medium text-gray-500\">ржорзЛржЯ ржЖрж░рзНржЯрж┐ржХрзЗрж▓</h3>\n            <span className=\"text-green-500 text-xs font-bold flex items-center gap-1\">\n                <MoveUp size={12} /> рж▓рж╛ржЗржн\n            </span>\n          </div>\n          <p className=\"text-3xl font-bold text-gray-900\">{toBengaliNumber(overview.totalArticles)}</p>\n          <p className=\"text-xs text-gray-400 mt-2\">рж╕рж░рзНржмржорзЛржЯ ржкрзНрж░ржХрж╛рж╢рж┐ржд</p>\n        </div>\n\n        <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-sm font-medium text-gray-500\">ржорзЛржЯ ржкрзЗржЬ ржнрж┐ржЙ</h3>\n            <span className=\"text-green-500 text-xs font-bold flex items-center gap-1\">\n               <MoveUp size={12} /> ржХрзНрж░ржоржмрж░рзНржзржорж╛ржи\n            </span>\n          </div>\n          <p className=\"text-3xl font-bold text-gray-900\">{toBengaliNumber(overview.totalViews)}</p>\n          <p className=\"text-xs text-gray-400 mt-2\">ржЖрж░рзНржЯрж┐ржХрзЗрж▓ рж░рж┐ржб ржХрж╛ржЙржирзНржЯ</p>\n        </div>\n\n        <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-sm font-medium text-gray-500\">рж╕ржХрзНрж░рж┐рзЯ ржкрж╛ржаржХ (Active Users)</h3>\n            <span className=\"text-blue-500 text-xs font-bold flex items-center gap-1\">\n                <Users size={12} /> 24h\n            </span>\n          </div>\n          <p className=\"text-3xl font-bold text-gray-900\">{toBengaliNumber(overview.activeUsers24h)}</p>\n          <p className=\"text-xs text-gray-400 mt-2\">ржЧржд рзирзк ржШржирзНржЯрж╛рзЯ рж▓ржЧржЗржирзЗ ржкрж╛ржаржХ</p>\n        </div>\n\n        <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-sm font-medium text-gray-500\">ржЧржбрж╝ ржнрж┐ржЙ</h3>\n             <span className=\"text-blue-500 text-xs font-bold flex items-center gap-1\">\n                <MoveUp size={12} /> ржПржнрж╛рж░рзЗржЬ\n            </span>\n          </div>\n          <p className=\"text-3xl font-bold text-gray-900\">{toBengaliNumber(overview.avgViews)}</p>\n          <p className=\"text-xs text-gray-400 mt-2\">ржкрзНрж░рждрж┐ ржЖрж░рзНржЯрж┐ржХрзЗрж▓рзЗ</p>\n        </div>\n      </div>\n\n      {/* Top Articles */}\n      <div className=\"bg-white rounded-xl border border-gray-200 p-6 mb-8\">\n        <h2 className=\"text-lg font-bold text-gray-900 mb-6\">рж╢рзАрж░рзНрж╖ ржкржарж┐ржд ржирж┐ржмржирзНржз (Top Read Articles)</h2>\n        <div className=\"space-y-4\">\n          {topArticles.length > 0 ? topArticles.map((article, idx) => (\n            <div key={idx} className=\"flex items-center justify-between border-b border-gray-100 pb-4 last:border-0 hover:bg-gray-50 transition p-2 rounded-lg\">\n              <div className=\"flex-1\">\n                <p className=\"font-medium text-gray-900 line-clamp-1\">{article.title}</p>\n                <p className=\"text-xs text-gray-500 mt-1\">{article.category || 'Uncategorized'}</p>\n              </div>\n              <div className=\"text-right pl-4\">\n                <span className=\"inline-block px-3 py-1 bg-green-50 text-green-700 rounded-full text-xs font-bold whitespace-nowrap\">\n                  {toBengaliNumber(article.views || 0)} ржнрж┐ржЙ\n                </span>\n              </div>\n            </div>\n          )) : (\n            <p className=\"text-gray-500 text-center py-4\">ржПржЦржиржУ ржХрзЛржирзЛ ржбрзЗржЯрж╛ ржирзЗржЗ</p>\n          )}\n        </div>\n      </div>\n\n      {/* Traffic Sources & Categories */}\n      {/* Traffic Sources & Categories */}\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* User Engagement (Real Data) */}\n        <div className=\"bg-white rounded-xl border border-gray-200 p-6 relative overflow-hidden group\">\n             \n          <div className=\"flex items-center justify-between mb-6\">\n             <h2 className=\"text-lg font-bold text-gray-900\">ржкрж╛ржаржХ ржПржиржЧрзЗржЬржорзЗржирзНржЯ (Reader Engagement)</h2>\n             <BookOpen size={20} className=\"text-gray-400\" />\n          </div>\n\n          <div className=\"space-y-6\">\n              <div>\n                  <div className=\"flex justify-between items-end mb-1\">\n                      <span className=\"text-gray-500 text-sm\">ржорзЛржЯ ржкржарж┐ржд ржЗрждрж┐рж╣рж╛рж╕ рж░рзЗржХрж░рзНржб</span>\n                      <span className=\"text-2xl font-bold text-gray-900\">{toBengaliNumber(overview.totalHistoryRecords)}</span>\n                  </div>\n                  <div className=\"w-full bg-gray-100 rounded-full h-2\">\n                       {/* Arbitrary progress bar for visual flair, assuming 10k goal */}\n                      <div className=\"bg-brand-red h-2 rounded-full\" style={{ width: `${(overview.totalHistoryRecords / 1000) * 100}%` }}></div>\n                  </div>\n                  <p className=\"text-xs text-gray-400 mt-1\">рж▓ржЧржЗржи ржХрж░рж╛ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАржжрзЗрж░ ржорзЛржЯ ржкржарж┐ржд ржирж┐ржмржирзНржз рж╕ржВржЦрзНржпрж╛</p>\n              </div>\n\n              <div className=\"p-4 bg-gray-50 rounded-lg border border-gray-100\">\n                  <h4 className=\"font-bold text-gray-700 mb-2 text-sm\">ржЙржкрж╕ржВрж╣рж╛рж░</h4>\n                  <p className=\"text-xs text-gray-500\">\n                      ржЖржкржирж╛рж░ ржирж┐ржмржирзНржзрж┐ржд ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░рж╛ ржирж┐рзЯржорж┐ржд ржлрж┐рж░рзЗ ржЖрж╕ржЫрзЗржиред \n                      {overview.activeUsers24h > 5 \n                        ? \" ржЧржд рзирзк ржШржирзНржЯрж╛рзЯ ржкрж╛ржаржХ рж╕ржВржЦрзНржпрж╛ рж╕ржирзНрждрзЛрж╖ржЬржиржХред\" \n                        : \" ржкрж╛ржаржХ рж╕ржВржЦрзНржпрж╛ ржмрж╛рзЬрж╛рждрзЗ ржЖрж░ржУ ржирж┐рзЯржорж┐ржд рж╕ржВржмрж╛ржж ржкрзНрж░ржХрж╛рж╢ ржХрж░рзБржиред\"}\n                  </p>\n              </div>\n          </div>\n        </div>\n\n        {/* Real Category Stats with Chart */}\n        <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n          <h2 className=\"text-lg font-bold text-gray-900 mb-6\">ржЬржиржкрзНрж░рж┐ржпрж╝ ржмрж┐ржнрж╛ржЧ (Popular Categories)</h2>\n          \n          <div className=\"mb-6\">\n             <AnalyticsChart data={categoryStats} />\n          </div>\n\n          <div className=\"space-y-4 max-h-[200px] overflow-y-auto custom-scrollbar\">\n            {categoryStats.length > 0 ? categoryStats.map((item, idx) => (\n              <div key={idx} className=\"flex items-center justify-between border-b border-gray-100 pb-4 last:border-0 hover:bg-gray-50 transition p-2 rounded-lg\">\n                <div>\n                  <p className=\"font-medium text-gray-900\">{item.category}</p>\n                  <p className=\"text-xs text-gray-500 mt-1\">{toBengaliNumber(item.articles)} ржЯрж┐ ржирж┐ржмржирзНржз</p>\n                </div>\n                <div className=\"text-right\">\n                  <p className=\"text-sm font-bold text-gray-900\">{toBengaliNumber(item.avgViews)}</p>\n                  <p className=\"text-xs text-gray-500\">ржЧржбрж╝ ржнрж┐ржЙ</p>\n                </div>\n              </div>\n            )) : (\n                 <p className=\"text-gray-500 text-center py-4\">ржПржЦржиржУ ржХрзЛржирзЛ ржбрзЗржЯрж╛ ржирзЗржЗ</p>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(admin)/admin/dashboard/articles/[id]/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(admin)/admin/dashboard/articles/new/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(admin)/admin/dashboard/articles/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(admin)/admin/dashboard/events/create/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":11,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":19,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":19,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { createEvent } from \"@/lib/actions-event\";\nimport { toast } from \"sonner\";\nimport { Save, Loader2, ArrowLeft } from \"lucide-react\";\nimport Link from \"next/link\";\n\nexport default function CreateEventPage() {\n  const router = useRouter();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleSubmit = async (formData: FormData) => {\n    setIsSubmitting(true);\n    try {\n      await createEvent(formData);\n      toast.success(\"Event created successfully!\");\n    } catch (error) {\n      toast.error(\"Failed to create event\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"p-8 max-w-4xl mx-auto\">\n      <div className=\"flex items-center gap-4 mb-8\">\n        <Link \n            href=\"/admin/dashboard/events\" \n            className=\"p-2 rounded-full hover:bg-gray-100 transition-colors text-gray-500\"\n        >\n            <ArrowLeft size={20} />\n        </Link>\n        <div>\n           <h1 className=\"text-3xl font-bold tracking-tight text-gray-900\">Create New Event</h1>\n           <p className=\"text-gray-500 mt-1\">Set up a special coverage or event</p>\n        </div>\n      </div>\n\n      <div className=\"bg-white p-8 rounded-xl border border-gray-200 shadow-sm\">\n        <form action={handleSubmit} className=\"space-y-6\">\n            {/* Title */}\n            <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                    Event Title <span className=\"text-red-500\">*</span>\n                </label>\n                <input \n                    name=\"title\"\n                    type=\"text\" \n                    placeholder=\"e.g. Election 2026, World Cup\"\n                    required\n                    className=\"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n                    onChange={(e) => {\n                        // Auto-generate slug\n                        const slugInput = document.getElementById('slug-input') as HTMLInputElement;\n                        if (slugInput && !slugInput.dataset.touched) {\n                            slugInput.value = e.target.value.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/(^-|-$)+/g, '');\n                        }\n                    }}\n                />\n            </div>\n\n            {/* Slug */}\n            <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                    Slug <span className=\"text-red-500\">*</span>\n                </label>\n                <input \n                    id=\"slug-input\"\n                    name=\"slug\"\n                    type=\"text\" \n                    placeholder=\"e.g. election-2026\"\n                    required\n                    className=\"w-full px-4 py-2 rounded-lg border border-gray-300 bg-gray-50 font-mono text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                    onChange={(e) => {\n                        e.target.dataset.touched = 'true';\n                    }}\n                />\n            </div>\n            \n             {/* Banner Image URL (Simple for now, can be upgraded to uploader) */}\n             <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                    Banner Image URL\n                </label>\n                <input \n                    name=\"banner_image\"\n                    type=\"text\" \n                    placeholder=\"https://...\"\n                    className=\"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                />\n                <p className=\"text-xs text-gray-500 mt-1\">Provide a full URL for the event wide banner</p>\n            </div>\n\n            {/* Description */}\n            <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                    Description\n                </label>\n                <textarea \n                    name=\"description\"\n                    rows={4}\n                    className=\"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition resize-none\"\n                />\n            </div>\n\n            {/* Is Active Status */}\n            <div className=\"flex items-center gap-3 p-4 bg-gray-50 rounded-lg border border-gray-200\">\n                <input \n                    type=\"checkbox\" \n                    name=\"is_active\"\n                    id=\"is_active\"\n                    className=\"w-5 h-5 rounded text-blue-600 focus:ring-blue-500 border-gray-300\"\n                />\n                <label htmlFor=\"is_active\" className=\"text-sm font-medium text-gray-900 cursor-pointer select-none\">\n                    Set as Active Event (Will appear on Homepage)\n                </label>\n            </div>\n\n            <div className=\"pt-4 border-t border-gray-100 flex justify-end\">\n                <button \n                    type=\"submit\" \n                    disabled={isSubmitting}\n                    className=\"bg-gray-900 text-white px-6 py-2.5 rounded-lg font-bold hover:bg-black transition-all flex items-center gap-2\"\n                >\n                    {isSubmitting ? <Loader2 size={18} className=\"animate-spin\" /> : <Save size={18} />}\n                    Create Event\n                </button>\n            </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(admin)/admin/dashboard/events/page.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":49,"column":37,"nodeType":"JSXOpeningElement","endLine":49,"endColumn":114}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import Link from \"next/link\";\nimport { Plus, Check, X, Calendar } from \"lucide-react\";\nimport { fetchEvents } from \"@/lib/actions-event\";\n\nexport default async function EventsPage() {\n  const events = await fetchEvents();\n\n  return (\n    <div className=\"p-8 max-w-7xl mx-auto\">\n      <div className=\"flex items-center justify-between mb-8\">\n        <div>\n          <h1 className=\"text-3xl font-bold tracking-tight text-gray-900\">Events</h1>\n          <p className=\"text-gray-500 mt-2\">Manage special events and coverages</p>\n        </div>\n        <Link \n          href=\"/admin/dashboard/events/create\" \n          className=\"bg-gray-900 text-white px-4 py-2 rounded-lg font-medium hover:bg-gray-800 transition flex items-center gap-2\"\n        >\n          <Plus size={18} />\n          <span>New Event</span>\n        </Link>\n      </div>\n\n      <div className=\"bg-white border boundary-gray-200 rounded-xl overflow-hidden shadow-sm\">\n        <table className=\"w-full text-left\">\n          <thead className=\"bg-gray-50 border-b border-gray-100\">\n            <tr>\n              <th className=\"px-6 py-4 font-semibold text-gray-700\">Event Title</th>\n              <th className=\"px-6 py-4 font-semibold text-gray-700\">Slug</th>\n              <th className=\"px-6 py-4 font-semibold text-gray-700\">Created At</th>\n              <th className=\"px-6 py-4 font-semibold text-gray-700 text-right\">Status</th>\n              <th className=\"px-6 py-4 font-semibold text-gray-700 text-right\">Actions</th>\n            </tr>\n          </thead>\n          <tbody className=\"divide-y divide-gray-100\">\n            {events.length === 0 ? (\n               <tr>\n                 <td colSpan={5} className=\"px-6 py-12 text-center text-gray-400\">\n                    No events found. Create one to get started.\n                 </td>\n               </tr>\n            ) : (\n                events.map((event) => (\n                    <tr key={event.id} className=\"hover:bg-gray-50 transition-colors\">\n                      <td className=\"px-6 py-4\">\n                        <div className=\"flex items-center gap-3\">\n                             {event.banner_image && (\n                                <div className=\"w-10 h-10 rounded bg-gray-100 overflow-hidden shrink-0\">\n                                    <img src={event.banner_image} alt=\"\" className=\"w-full h-full object-cover\"/>\n                                </div>\n                             )}\n                             <span className=\"font-medium text-gray-900\">{event.title}</span>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 text-gray-500 font-mono text-sm\">{event.slug}</td>\n                      <td className=\"px-6 py-4 text-gray-500 text-sm\">\n                          <div className=\"flex items-center gap-2\">\n                             <Calendar size={14} />\n                             {new Date(event.created_at).toLocaleDateString()}\n                          </div>\n                      </td>\n                      <td className=\"px-6 py-4 text-right\">\n                        {event.is_active ? (\n                            <span className=\"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700 border border-green-200\">\n                                <Check size={12} /> Active\n                            </span>\n                        ) : (\n                            <span className=\"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600 border border-gray-200\">\n                                <X size={12} /> Inactive\n                            </span>\n                        )}\n                      </td>\n                      <td className=\"px-6 py-4 text-right\">\n                         <button className=\"text-gray-400 hover:text-gray-900 transition text-sm font-medium\">Edit</button>\n                      </td>\n                    </tr>\n                ))\n            )}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(admin)/admin/dashboard/media/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":9,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[350,353],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[350,353],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState } from \"react\";\nimport UploadZone from \"@/components/dashboard/media/UploadZone\";\nimport MediaGallery from \"@/components/dashboard/media/MediaGallery\";\nimport MediaSidebar from \"@/components/dashboard/media/MediaSidebar\";\n\nexport default function MediaLabPage() {\n  const [selectedAsset, setSelectedAsset] = useState<any>(null);\n\n  return (\n    <div className=\"flex h-full min-h-[calc(100vh-100px)] gap-6\">\n      {/* Main Content */}\n      <div className=\"flex-1 space-y-8 pb-8\">\n         <div className=\"flex justify-between items-center\">\n             <div>\n                <h1 className=\"text-2xl font-bold text-gray-900 font-serif\">Media Lab</h1>\n                <p className=\"text-gray-500 text-sm\">Manage, upload, and organize your assets.</p>\n             </div>\n         </div>\n\n         <UploadZone />\n         \n         <MediaGallery \n            onSelect={setSelectedAsset} \n            selectedId={selectedAsset?.id} \n         />\n      </div>\n\n      {/* Sidebar - Conditionally Rendered */}\n      {selectedAsset && (\n        <div className=\"w-80 flex-shrink-0\">\n             {/* Spacing for layout, the sidebar itself is fixed/sticky in its own component but we reserve space */}\n             <div className=\"w-80\" /> \n             <MediaSidebar asset={selectedAsset} onClose={() => setSelectedAsset(null)} />\n        </div>\n      )}\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(admin)/admin/dashboard/notifications/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(admin)/admin/dashboard/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(admin)/admin/dashboard/settings/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":306,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":306,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15078,15081],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15078,15081],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { fetchSettings, updateSettings, SiteSettings } from \"@/lib/actions-settings\";\nimport { Save, Facebook, Youtube, Rss, Loader2, Settings, Menu, GripVertical, Trash2, Plus, AlertCircle } from \"lucide-react\";\nimport { toast } from \"sonner\";\n\nexport default function SettingsPage() {\n  const [settings, setSettings] = useState<SiteSettings | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [activeTab, setActiveTab] = useState<'identity' | 'general' | 'social' | 'navigation'>('identity');\n\n  // Load settings on mount\n  useEffect(() => {\n    async function load() {\n      const data = await fetchSettings();\n      setSettings(data);\n      setLoading(false);\n    }\n    load();\n  }, []);\n\n  const handleSave = async () => {\n    if (!settings) return;\n    setSaving(true);\n    const res = await updateSettings(settings);\n    if (res.success) {\n      toast.success(\"Settings updated successfully!\");\n    } else {\n      toast.error(\"Failed to update settings.\");\n    }\n    setSaving(false);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[400px]\">\n        <Loader2 className=\"animate-spin text-gray-400\" size={24} />\n      </div>\n    );\n  }\n\n  if (!settings) return <div>Error loading settings</div>;\n\n  return (\n    <div className=\"max-w-4xl mx-auto py-8\">\n      \n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-8\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Settings & Control Room</h1>\n          <p className=\"text-gray-500\">Manage site-wide configurations and widgets</p>\n        </div>\n        <button\n          onClick={handleSave}\n          disabled={saving}\n          className=\"bg-brand-red text-white px-6 py-2 rounded-lg font-bold flex items-center gap-2 hover:bg-brand-red/90 transition disabled:opacity-50\"\n        >\n          {saving ? <Loader2 className=\"animate-spin\" size={18} /> : <Save size={18} />}\n          Save Changes\n        </button>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-8\">\n        <div className=\"flex border-b border-gray-200 overflow-x-auto no-scrollbar\">\n          <button\n            onClick={() => setActiveTab('identity')}\n            className={`flex-1 min-w-[120px] py-4 font-bold text-sm flex items-center justify-center gap-2 transition ${\n              activeTab === 'identity' ? 'bg-gray-50 text-brand-red border-b-2 border-brand-red' : 'text-gray-500 hover:text-gray-700'\n            }`}\n          >\n            <Settings size={18} />\n            Site Identity\n          </button>\n          <button\n            onClick={() => setActiveTab('navigation')}\n            className={`flex-1 min-w-[120px] py-4 font-bold text-sm flex items-center justify-center gap-2 transition ${\n              activeTab === 'navigation' ? 'bg-gray-50 text-brand-red border-b-2 border-brand-red' : 'text-gray-500 hover:text-gray-700'\n            }`}\n          >\n            <Menu size={18} />\n            Navigation\n          </button>\n          <button\n            onClick={() => setActiveTab('social')}\n            className={`flex-1 min-w-[120px] py-4 font-bold text-sm flex items-center justify-center gap-2 transition ${\n              activeTab === 'social' ? 'bg-gray-50 text-brand-red border-b-2 border-brand-red' : 'text-gray-500 hover:text-gray-700'\n            }`}\n          >\n            <Facebook size={18} />\n            Social Widgets\n          </button>\n          <button\n            onClick={() => setActiveTab('general')}\n            className={`flex-1 min-w-[120px] py-4 font-bold text-sm flex items-center justify-center gap-2 transition ${\n              activeTab === 'general' ? 'bg-gray-50 text-brand-red border-b-2 border-brand-red' : 'text-gray-500 hover:text-gray-700'\n            }`}\n          >\n            <Rss size={18} />\n            Ticker & SEO\n          </button>\n        </div>\n\n        <div className=\"p-8\">\n          \n          {/* IDENTITY TAB */}\n          {activeTab === 'identity' && (\n            <div className=\"space-y-8 animate-in fade-in slide-in-from-top-2 duration-300\">\n               <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-bold text-gray-700 mb-2\">Site Name (Bengali)</label>\n                    <input\n                      type=\"text\"\n                      value={settings.site_name}\n                      onChange={(e) => setSettings({...settings, site_name: e.target.value})}\n                      className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-red outline-none\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-bold text-gray-700 mb-2\">Tagline</label>\n                    <input\n                      type=\"text\"\n                      value={settings.site_tagline || ''}\n                      onChange={(e) => setSettings({...settings, site_tagline: e.target.value})}\n                      className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-red outline-none\"\n                    />\n                  </div>\n               </div>\n\n               <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-bold text-gray-700 mb-2\">Logo URL</label>\n                    <input\n                      type=\"text\"\n                      value={settings.site_logo || ''}\n                      onChange={(e) => setSettings({...settings, site_logo: e.target.value})}\n                      className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-red outline-none\"\n                      placeholder=\"/samakal-logo.png\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-bold text-gray-700 mb-2\">Favicon URL</label>\n                    <input\n                      type=\"text\"\n                      value={settings.site_favicon || ''}\n                      onChange={(e) => setSettings({...settings, site_favicon: e.target.value})}\n                      className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-red outline-none\"\n                      placeholder=\"/favicon.ico\"\n                    />\n                  </div>\n               </div>\n\n               <div>\n                  <label className=\"block text-sm font-bold text-gray-700 mb-2\">Footer Copyright Text</label>\n                  <input\n                    type=\"text\"\n                    value={settings.footer_copyright || ''}\n                    onChange={(e) => setSettings({...settings, footer_copyright: e.target.value})}\n                    className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-brand-red outline-none\"\n                  />\n               </div>\n            </div>\n          )}\n\n          {/* SOCIAL MEDIA TAB (Already exists, keeping it similar but adding small polish) */}\n          {activeTab === 'social' && (\n            <div className=\"space-y-8 animate-in fade-in slide-in-from-top-2 duration-300\">\n              {/* ... existing social fields ... */}\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center justify-between\">\n                   <div className=\"flex items-center gap-2 text-blue-600 font-bold text-lg\">\n                      <Facebook />\n                      <h3>Facebook Live Integration</h3>\n                   </div>\n                   <label className=\"flex items-center cursor-pointer gap-3\">\n                      <span className=\"text-sm font-medium text-gray-700\">\n                        {settings.facebook_is_live ? 'Widget Updated (LIVE)' : 'Widget Hidden'}\n                      </span>\n                      <div className=\"relative\">\n                        <input \n                          type=\"checkbox\" \n                          className=\"sr-only\" \n                          checked={settings.facebook_is_live} \n                          onChange={(e) => setSettings({...settings, facebook_is_live: e.target.checked})}\n                        />\n                        <div className={`w-14 h-7 rounded-full transition-colors ${settings.facebook_is_live ? 'bg-green-500' : 'bg-gray-300'}`}></div>\n                        <div className={`absolute top-1 left-1 w-5 h-5 bg-white rounded-full transition-transform ${settings.facebook_is_live ? 'translate-x-7' : 'translate-x-0'}`}></div>\n                      </div>\n                   </label>\n                </div>\n                <div className=\"bg-blue-50 p-4 rounded-lg border border-blue-100\">\n                  <input\n                    type=\"text\"\n                    value={settings.facebook_live_url || ''}\n                    onChange={(e) => setSettings({...settings, facebook_live_url: e.target.value})}\n                    placeholder=\"e.g., 10153231379946729\"\n                    className=\"w-full border border-gray-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\n                  />\n                </div>\n              </div>\n\n              <hr />\n\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center gap-2 text-red-600 font-bold text-lg\">\n                   <Youtube />\n                   <h3>YouTube Channel & Playlist</h3>\n                </div>\n                <div className=\"bg-red-50 p-4 rounded-lg border border-red-100\">\n                  <input\n                    type=\"text\"\n                    value={settings.youtube_playlist_id || ''}\n                    onChange={(e) => setSettings({...settings, youtube_playlist_id: e.target.value})}\n                    placeholder=\"e.g., PL12345678\"\n                    className=\"w-full border border-gray-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-red-500 outline-none\"\n                  />\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* GENERAL & SEO TAB */}\n          {activeTab === 'general' && (\n            <div className=\"space-y-8 animate-in fade-in slide-in-from-top-2 duration-300\">\n               <div className=\"space-y-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <h3 className=\"font-bold text-lg text-gray-800\">Breaking News Ticker</h3>\n                    <label className=\"flex items-center cursor-pointer gap-3\">\n                      <span className=\"text-sm font-medium text-gray-700\">\n                        {settings.breaking_news_is_active ? 'Ticker Active' : 'Ticker Hidden'}\n                      </span>\n                      <div className=\"relative\">\n                        <input \n                          type=\"checkbox\" \n                          className=\"sr-only\" \n                          checked={settings.breaking_news_is_active} \n                          onChange={(e) => setSettings({...settings, breaking_news_is_active: e.target.checked})}\n                        />\n                        <div className={`w-14 h-7 rounded-full transition-colors ${settings.breaking_news_is_active ? 'bg-green-500' : 'bg-gray-300'}`}></div>\n                        <div className={`absolute top-1 left-1 w-5 h-5 bg-white rounded-full transition-transform ${settings.breaking_news_is_active ? 'translate-x-7' : 'translate-x-0'}`}></div>\n                      </div>\n                   </label>\n                  </div>\n                  <textarea\n                    value={settings.breaking_news_ticker || ''}\n                    onChange={(e) => setSettings({...settings, breaking_news_ticker: e.target.value})}\n                    placeholder=\"Enter breaking news text...\"\n                    rows={2}\n                    className=\"w-full border border-gray-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-brand-red outline-none\"\n                  />\n               </div>\n\n               <hr />\n\n               <div className=\"space-y-4\">\n                  <h3 className=\"font-bold text-lg text-gray-800\">Global SEO & Analytics</h3>\n                  <div className=\"grid grid-cols-1 gap-4\">\n                     <div>\n                        <label className=\"block text-sm font-bold text-gray-700 mb-1\">Default SEO Title</label>\n                        <input\n                          type=\"text\"\n                          value={settings.seo_title || ''}\n                          onChange={(e) => setSettings({...settings, seo_title: e.target.value})}\n                          className=\"w-full border border-gray-300 rounded-md px-4 py-2 outline-none focus:ring-2 focus:ring-brand-red\"\n                        />\n                     </div>\n                     <div>\n                        <label className=\"block text-sm font-bold text-gray-700 mb-1\">Global Meta Description</label>\n                        <textarea\n                          value={settings.seo_description || ''}\n                          onChange={(e) => setSettings({...settings, seo_description: e.target.value})}\n                          rows={2}\n                          className=\"w-full border border-gray-300 rounded-md px-4 py-2 outline-none focus:ring-2 focus:ring-brand-red\"\n                        />\n                     </div>\n                     <div>\n                        <label className=\"block text-sm font-bold text-gray-700 mb-1\">Google Analytics ID (G-XXXXXX)</label>\n                        <input\n                          type=\"text\"\n                          value={settings.google_analytics_id || ''}\n                          onChange={(e) => setSettings({...settings, google_analytics_id: e.target.value})}\n                          placeholder=\"G-...\"\n                          className=\"w-full border border-gray-300 rounded-md px-4 py-2 outline-none focus:ring-2 focus:ring-brand-red\"\n                        />\n                     </div>\n                  </div>\n               </div>\n            </div>\n          )}\n\n          {/* NAVIGATION TAB */}\n          {activeTab === 'navigation' && (\n            <div className=\"animate-in fade-in slide-in-from-top-2 duration-300\">\n               <div className=\"bg-amber-50 border border-amber-100 p-4 rounded-lg mb-6 flex items-start gap-3\">\n                  <div className=\"mt-0.5 text-amber-600\"><AlertCircle size={20} /></div>\n                  <p className=\"text-sm text-amber-800\">\n                    <strong>Navigation Menu Management</strong><br />\n                    This area allows you to control the main site header. Ensure each link exists before publishing. \n                    (Draft Phase: Full nested editor coming in Phase 7).\n                  </p>\n               </div>\n               \n               <div className=\"space-y-4\">\n                  {settings.navigation_menu?.map((item: any, idx: number) => (\n                    <div key={idx} className=\"flex items-center gap-3 p-3 bg-gray-50 border border-gray-200 rounded-xl group\">\n                       <div className=\"cursor-grab text-gray-300 hover:text-gray-500\"><GripVertical size={20} /></div>\n                       <div className=\"flex-1 grid grid-cols-2 gap-4\">\n                          <input \n                            type=\"text\" \n                            value={item.label} \n                            placeholder=\"Label\"\n                            onChange={(e) => {\n                               const newMenu = [...(settings.navigation_menu || [])];\n                               newMenu[idx].label = e.target.value;\n                               setSettings({...settings, navigation_menu: newMenu});\n                            }}\n                            className=\"bg-white border border-gray-200 rounded-lg px-3 py-1.5 text-sm outline-none focus:ring-2 focus:ring-brand-red\"\n                          />\n                          <input \n                            type=\"text\" \n                            value={item.href} \n                            placeholder=\"Link\"\n                            onChange={(e) => {\n                               const newMenu = [...(settings.navigation_menu || [])];\n                               newMenu[idx].href = e.target.value;\n                               setSettings({...settings, navigation_menu: newMenu});\n                            }}\n                            className=\"bg-white border border-gray-200 rounded-lg px-3 py-1.5 text-sm outline-none focus:ring-2 focus:ring-brand-red font-mono\"\n                          />\n                       </div>\n                       <button \n                         onClick={() => {\n                            const newMenu = settings.navigation_menu?.filter((_, i) => i !== idx);\n                            setSettings({...settings, navigation_menu: newMenu});\n                         }}\n                         className=\"p-2 text-gray-400 hover:text-red-500 transition-colors\"\n                       >\n                         <Trash2 size={18} />\n                       </button>\n                    </div>\n                  ))}\n                  \n                  <button \n                    onClick={() => {\n                       const newItem = { label: 'New Link', href: '/' };\n                       setSettings({...settings, navigation_menu: [...(settings.navigation_menu || []), newItem]});\n                    }}\n                    className=\"w-full py-3 border-2 border-dashed border-gray-200 rounded-xl text-gray-400 font-bold hover:border-brand-red hover:text-brand-red transition-all flex items-center justify-center gap-2\"\n                  >\n                    <Plus size={18} />\n                    Add Menu Item\n                  </button>\n               </div>\n            </div>\n          )}\n\n        </div>\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(admin)/admin/dashboard/team/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(admin)/admin/login/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(admin)/layout.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(admin)/layout.tsx:42:5\n  40 |\n  41 |   useEffect(() => {\n> 42 |     setMounted(true);\n     |     ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  43 |   }, []);\n  44 |\n  45 |   useEffect(() => {","line":42,"column":5,"nodeType":null,"endLine":42,"endColumn":15}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useAuth, AuthProvider } from '@/contexts/AdminAuthContext';\nimport { usePathname, useRouter } from 'next/navigation';\nimport { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { \n  LayoutDashboard, \n  PenTool, \n  Users, \n  Settings, \n  BarChart3, \n  LogOut, \n  Menu, \n  X,\n  Zap,\n  Globe,\n  Image as ImageIcon,\n  ShieldAlert,\n  Bell\n} from 'lucide-react';\nimport Image from 'next/image';\nimport { clsx } from 'clsx';\nimport { Toaster } from 'sonner';\nimport { CommandPalette } from '@/components/dashboard/CommandPalette';\n\n// Protected Route Wrapper\nimport { useLocalStorage } from '@/hooks/use-local-storage';\n\n// Protected Route Wrapper\nfunction AdminShell({ children }: { children: React.ReactNode }) {\n  const { user, logout, isLoading } = useAuth();\n  const router = useRouter();\n  const pathname = usePathname();\n  \n  // Persist Sidebar State\n  const [isSidebarOpen, setIsSidebarOpen] = useLocalStorage('samakal_sidebar_open', true);\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  useEffect(() => {\n    if (!isLoading && !user && pathname !== '/admin/login') {\n      router.push('/admin/login');\n    }\n  }, [user, isLoading, router, pathname]);\n\n  if (!mounted || (isLoading && !user)) {\n    return (\n      <div className=\"h-screen w-full flex items-center justify-center bg-gray-50\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-red\"></div>\n      </div>\n    );\n  }\n\n  if (pathname === '/admin/login') return <>{children}</>;\n\n  if (!user) return null;\n\n  const menuItems = [\n    { icon: LayoutDashboard, label: 'Command Center', href: '/admin/dashboard' },\n    { icon: PenTool, label: 'Newsroom', href: '/admin/dashboard/articles' },\n    { icon: ImageIcon, label: 'Media Lab', href: '/admin/dashboard/media' },\n    { icon: BarChart3, label: 'Growth Engine', href: '/admin/dashboard/analytics' },\n    // Only Admin can see Team Management\n    ...(user.role === 'admin' ? [{ icon: Users, label: 'Team Access', href: '/admin/dashboard/team' }] : []),\n    { icon: Bell, label: 'Notifications', href: '/admin/dashboard/notifications' },\n    { icon: Settings, label: 'Settings', href: '/admin/dashboard/settings' },\n  ];\n\n// Helper to check active state\n  const isActive = (href: string) => {\n    if (href === '/admin/dashboard') {\n      return pathname === href;\n    }\n    return pathname.startsWith(href);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex font-sans\">\n      <Toaster position=\"top-right\" />\n      \n      {/* Sidebar - Desktop - Z-INDEX BOOST */}\n      <aside \n        className={clsx(\n            \"hidden md:flex flex-col bg-white border-r border-gray-200 transition-all duration-300 fixed inset-y-0 left-0 z-50 shadow-sm\",\n            isSidebarOpen ? \"w-64\" : \"w-20\"\n        )}\n      >\n        <div className=\"h-16 flex items-center justify-center border-b border-gray-100 relative overflow-hidden\">\n             {isSidebarOpen ? (\n                 <div className=\"flex flex-col items-center\">\n                    <span className=\"text-xl font-bold bg-linear-to-r from-brand-red to-red-600 bg-clip-text text-transparent\">Samakal AI</span>\n                    <span className=\"text-[10px] text-gray-400 tracking-widest uppercase\">Studio</span>\n                 </div>\n             ) : (\n                 <span className=\"text-xl font-bold text-brand-red\">S.</span>\n             )}\n        </div>\n\n        <nav className=\"flex-1 p-4 space-y-2 overflow-y-auto\">\n            {menuItems.map((item) => {\n                const active = isActive(item.href);\n                return (\n                <Link \n                    key={item.href} \n                    href={item.href}\n                    className={clsx(\n                        \"flex items-center gap-3 p-3 rounded-xl transition-all group\",\n                        active \n                            ? \"bg-brand-red/10 text-brand-red shadow-sm\" \n                            : \"text-gray-500 hover:bg-gray-50 hover:text-gray-900\"\n                    )}\n                    title={!isSidebarOpen ? item.label : ''}\n                >\n                    <item.icon size={22} className={clsx(\"shrink-0\", active ? \"text-brand-red\" : \"text-gray-400 group-hover:text-gray-600\")} />\n                    {isSidebarOpen && (\n                        <span className=\"font-medium\">\n                            {item.label}\n                            {/* Visual indicator for active item */}\n                            {active && <span className=\"ml-auto w-1.5 h-1.5 rounded-full bg-brand-red\"></span>}\n                        </span>\n                    )}\n                </Link>\n            )})}\n        </nav>\n\n        {/* User Profile */}\n        <div className=\"p-4 border-t border-gray-100\">\n             <div className={clsx(\"flex items-center gap-3\", !isSidebarOpen && \"justify-center\")}>\n                 <div className=\"w-10 h-10 rounded-full bg-gray-200 overflow-hidden relative ring-2 ring-offset-2 ring-gray-100 flex items-center justify-center\">\n                     {user.image ? (\n                         <Image src={user.image} alt={user.name} fill className=\"object-cover\" />\n                     ) : (\n                         <span className=\"text-gray-500 font-bold text-sm\">{user.name.charAt(0).toUpperCase()}</span>\n                     )}\n                 </div>\n                 {isSidebarOpen && (\n                     <div className=\"flex-1 min-w-0\">\n                         <h4 className=\"text-sm font-bold text-gray-900 truncate\">{user.name}</h4>\n                         <div className=\"flex items-center gap-1\">\n                             {user.role === 'admin' && <ShieldAlert size={10} className=\"text-brand-red\" />}\n                             <p className=\"text-xs text-gray-500 truncate capitalize\">{user.role}</p>\n                         </div>\n                     </div>\n                 )}\n             </div>\n             {isSidebarOpen && (\n                 <button \n                    onClick={logout}\n                    className=\"mt-4 flex items-center gap-2 text-xs font-bold text-red-500 hover:text-red-700 w-full px-2 hover:bg-red-50 py-2 rounded transition\"\n                 >\n                    <LogOut size={14} /> Sign Out\n                 </button>\n             )}\n        </div>\n      </aside>\n\n      {/* Main Content */}\n      <main \n        className={clsx(\n            \"flex-1 flex flex-col min-h-screen transition-all duration-300\",\n            isSidebarOpen ? \"md:ml-64\" : \"md:ml-20\"\n        )}\n      >\n        {/* Header */}\n        <header className=\"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-4 sticky top-0 z-20 shadow-sm\">\n             <div className=\"flex items-center gap-4\">\n                 <button \n                    onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n                    className=\"p-2 hover:bg-gray-100 rounded-lg text-gray-500 hidden md:block\"\n                 >\n                    <Menu size={20} />\n                 </button>\n                 <button \n                    onClick={() => setIsMobileMenuOpen(true)}\n                    className=\"p-2 hover:bg-gray-100 rounded-lg text-gray-500 md:hidden\"\n                 >\n                    <Menu size={20} />\n                 </button>\n                 \n                 <div className=\"flex flex-col\">\n                     <h1 className=\"text-lg font-bold text-gray-800 leading-none\">\n                        {menuItems.find(m => isActive(m.href))?.label || 'Dashboard'}\n                     </h1>\n                     <span className=\"text-[10px] text-gray-400 font-medium\">Samakal Studio AI v1.0</span>\n                 </div>\n             </div>\n\n             <div className=\"flex items-center gap-4\">\n                 <CommandPalette />\n                 <Link href=\"/\" target=\"_blank\" className=\"flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded-full text-xs font-bold text-gray-600 transition\">\n                    <Globe size={14} /> View Site\n                 </Link>\n                 <button className=\"flex items-center gap-2 px-3 py-1.5 bg-amber-100 text-amber-700 border border-amber-200 rounded-full text-xs font-bold shadow-sm animate-pulse\">\n                    <Zap size={14} /> AI Online\n                 </button>\n             </div>\n        </header>\n\n        {/* Content Area */}\n        <div className=\"p-6\">\n            {children}\n        </div>\n      </main>\n\n      {/* Mobile Drawer */}\n      {isMobileMenuOpen && (\n        <div className=\"fixed inset-0 z-50 md:hidden\">\n             <div className=\"absolute inset-0 bg-black/50 backdrop-blur-sm\" onClick={() => setIsMobileMenuOpen(false)} />\n             <div className=\"absolute inset-y-0 left-0 w-72 bg-white shadow-2xl flex flex-col animate-in slide-in-from-left duration-300\">\n                 <div className=\"h-16 flex items-center justify-between px-4 border-b border-gray-100\">\n                     <span className=\"text-xl font-bold text-brand-red\">Samakal AI</span>\n                     <button onClick={() => setIsMobileMenuOpen(false)}><X size={20} /></button>\n                 </div>\n                 <nav className=\"flex-1 p-4 space-y-2\">\n                    {menuItems.map((item) => {\n                        const active = isActive(item.href);\n                        return (\n                        <Link \n                            key={item.href} \n                            href={item.href}\n                            onClick={() => setIsMobileMenuOpen(false)}\n                            className={clsx(\n                                \"flex items-center gap-3 p-3 rounded-xl transition-all\",\n                                active \n                                    ? \"bg-brand-red/10 text-brand-red\" \n                                    : \"text-gray-500 hover:bg-gray-50 hover:text-gray-900\"\n                            )}\n                        >\n                            <item.icon size={22} />\n                            <span className=\"font-medium\">{item.label}</span>\n                        </Link>\n                    )})}\n                 </nav>\n                 <div className=\"p-4 border-t border-gray-100 bg-gray-50\">\n                     <div className=\"flex items-center gap-3 mb-4\">\n                          <div className=\"w-8 h-8 rounded-full bg-gray-200 overflow-hidden relative flex items-center justify-center\">\n                              {user.image ? (\n                                  <Image src={user.image} alt={user.name} fill className=\"object-cover\" />\n                              ) : (\n                                  <span className=\"text-gray-500 font-bold text-xs\">{user.name.charAt(0).toUpperCase()}</span>\n                              )}\n                          </div>\n                         <div className=\"flex-1 min-w-0\">\n                             <h4 className=\"text-sm font-bold text-gray-900 truncate\">{user.name}</h4>\n                             <p className=\"text-xs text-gray-500 truncate capitalize\">{user.role}</p>\n                         </div>\n                     </div>\n                     <button onClick={logout} className=\"flex items-center gap-2 text-sm font-bold text-red-500 w-full justify-center py-2 bg-white border border-gray-200 rounded-lg shadow-sm\">\n                        <LogOut size={16} /> Sign Out\n                     </button>\n                 </div>\n             </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default function AdminLayout({ children }: { children: React.ReactNode }) {\n  return (\n    <AuthProvider>\n        <AdminShell>{children}</AdminShell>\n    </AuthProvider>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(admin)/login/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":31,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":31,"endColumn":17},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":62,"column":13,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[2269,2378],"text":"\n            &quot;Journalism can never be silent: that is its greatest virtue and its greatest fault.\"\n          "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[2269,2378],"text":"\n            &ldquo;Journalism can never be silent: that is its greatest virtue and its greatest fault.\"\n          "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[2269,2378],"text":"\n            &#34;Journalism can never be silent: that is its greatest virtue and its greatest fault.\"\n          "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[2269,2378],"text":"\n            &rdquo;Journalism can never be silent: that is its greatest virtue and its greatest fault.\"\n          "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":62,"column":97,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[2269,2378],"text":"\n            \"Journalism can never be silent: that is its greatest virtue and its greatest fault.&quot;\n          "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[2269,2378],"text":"\n            \"Journalism can never be silent: that is its greatest virtue and its greatest fault.&ldquo;\n          "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[2269,2378],"text":"\n            \"Journalism can never be silent: that is its greatest virtue and its greatest fault.&#34;\n          "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[2269,2378],"text":"\n            \"Journalism can never be silent: that is its greatest virtue and its greatest fault.&rdquo;\n          "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState } from 'react';\nimport Image from 'next/image';\nimport { authenticate } from '@/lib/actions';\nimport { useRouter } from 'next/navigation';\n\nexport default function LoginPage() {\n  const [error, setError] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const router = useRouter();\n\n  const handleLogin = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setError(null);\n    \n    const formData = new FormData(e.currentTarget);\n    try {\n        const result = await authenticate(undefined, formData);\n        if (result) {\n             setError(result);\n        } else {\n             // Successful login - set session flag for client-side useAuth bridge\n             sessionStorage.setItem('samakal_session_active', 'true');\n             \n             // Successful login automatically redirects, \n             // but we can force client nav if needed\n             router.push('/admin/dashboard');\n        }\n    } catch (err) {\n        setError('Something went wrong. Please try again.');\n    } finally {\n        setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen grid grid-cols-1 lg:grid-cols-2\">\n      \n      {/* Left: Branding & Visuals */}\n      <div className=\"hidden lg:relative lg:flex flex-col justify-between p-12 bg-black text-white overflow-hidden relative\">\n        {/* Background Image with Overlay */}\n        <div className=\"absolute inset-0 z-0 opacity-40\">\n           <Image\n             src=\"https://images.unsplash.com/photo-1504711434969-e33886168f5c?q=80&w=2070&auto=format&fit=crop\"\n             alt=\"Newsroom Background\"\n             fill\n             className=\"object-cover\"\n             priority\n           />\n        </div>\n        <div className=\"absolute inset-0 bg-linear-to-t from-black via-transparent to-black/40 z-0\" />\n\n        <div className=\"relative z-10\">\n          <h1 className=\"text-4xl font-serif font-bold mb-2\">рж╕ржоржХрж╛рж▓</h1>\n          <p className=\"text-gray-300 text-sm tracking-wider uppercase\">Samakal Studio AI</p>\n        </div>\n\n        <div className=\"relative z-10 space-y-6 max-w-lg\">\n          <blockquote className=\"text-2xl font-serif leading-relaxed text-gray-100\">\n            \"Journalism can never be silent: that is its greatest virtue and its greatest fault.\"\n          </blockquote>\n          <div className=\"flex items-center gap-3\">\n             <div className=\"w-10 h-10 rounded-full bg-white/10 backdrop-blur-md flex items-center justify-center font-bold\">AI</div>\n             <div>\n                <p className=\"font-bold text-sm\">Powered by Cortex 2.0</p>\n                <p className=\"text-xs text-gray-400\">Next-Gen Editorial Intelligence</p>\n             </div>\n          </div>\n        </div>\n\n        <div className=\"relative z-10 text-xs text-gray-500\">\n          &copy; 2026 Samakal. Internal System.\n        </div>\n      </div>\n\n      {/* Right: Login Form */}\n      <div className=\"flex items-center justify-center p-8 bg-gray-50\">\n        <div className=\"w-full max-w-md space-y-8\">\n           <div className=\"text-center lg:text-left\">\n              <div className=\"inline-block p-3 rounded-2xl bg-amber-100/50 text-amber-600 mb-6 lg:hidden\">\n                 <svg className=\"w-8 h-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\n                 </svg>\n              </div>\n              <h2 className=\"text-3xl font-bold text-gray-900 tracking-tight\">Welcome Back</h2>\n              <p className=\"mt-2 text-gray-500\">Enter your credentials to access the newsroom.</p>\n           </div>\n\n           <form onSubmit={handleLogin} className=\"space-y-6 mt-8\">\n              <div className=\"space-y-4\">\n                 <div>\n                    <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-1\">Email Address</label>\n                    <input \n                      id=\"email\" \n                      name=\"email\" \n                      type=\"email\" \n                      autoComplete=\"email\" \n                      required \n                      defaultValue=\"admin@samakal.com\"\n                      className=\"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-amber-500 focus:ring-2 focus:ring-amber-200 transition bg-white text-gray-900 placeholder-gray-400 outline-none\"\n                      placeholder=\"name@samakal.com\"\n                    />\n                 </div>\n                 <div>\n                    <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-1\">Password</label>\n                    <input \n                      id=\"password\" \n                      name=\"password\" \n                      type=\"password\" \n                      autoComplete=\"current-password\" \n                      required \n                      className=\"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-amber-500 focus:ring-2 focus:ring-amber-200 transition bg-white text-gray-900 placeholder-gray-400 outline-none\"\n                      placeholder=\"тАвтАвтАвтАвтАвтАвтАвтАв\"\n                    />\n                 </div>\n              </div>\n\n              {error && (\n                <div className=\"p-4 rounded-xl bg-red-50 text-red-600 text-sm font-medium flex items-center gap-2\">\n                   <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                   </svg>\n                   {error}\n                </div>\n              )}\n\n              <button\n                type=\"submit\"\n                disabled={isLoading}\n                className=\"w-full py-3.5 bg-brand-golden hover:bg-yellow-600 text-white font-bold rounded-xl shadow-lg shadow-amber-200/50 transition transform active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n              >\n                {isLoading ? (\n                  <>\n                    <svg className=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                    </svg>\n                    Authenticating...\n                  </>\n                ) : (\n                  'Sign In тЖТ'\n                )}\n              </button>\n\n              <div className=\"text-center\">\n                 <a href=\"#\" className=\"text-sm font-medium text-gray-500 hover:text-amber-600 transition\">Forgot password?</a>\n              </div>\n           </form>\n\n           <div className=\"mt-8 pt-6 border-t border-gray-100\">\n               <div className=\"bg-blue-50 p-4 rounded-xl border border-blue-100\">\n                  <p className=\"text-xs text-blue-800 font-medium text-center\">\n                     <strong>Demo Access:</strong> admin@samakal.com / user@samakal.com\n                  </p>\n               </div>\n           </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(main)/archive/loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(main)/archive/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(main)/article/[slug]/loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(main)/article/[slug]/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(main)/author/[id]/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Mail' is defined but never used.","line":6,"column":20,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":24,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Mail"},"fix":{"range":[241,247],"text":""},"desc":"Remove unused variable \"Mail\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'User' is defined but never used.","line":6,"column":34,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":38,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"User"},"fix":{"range":[255,261],"text":""},"desc":"Remove unused variable \"User\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Facebook' is defined but never used.","line":6,"column":47,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":55,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Facebook"},"fix":{"range":[268,278],"text":""},"desc":"Remove unused variable \"Facebook\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Twitter' is defined but never used.","line":6,"column":57,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":64,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Twitter"},"fix":{"range":[278,287],"text":""},"desc":"Remove unused variable \"Twitter\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Linkedin' is defined but never used.","line":6,"column":66,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":74,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Linkedin"},"fix":{"range":[287,297],"text":""},"desc":"Remove unused variable \"Linkedin\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ShareButtons' is defined but never used.","line":8,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":20,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"ShareButtons"},"fix":{"range":[371,424],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { fetchAuthorProfile } from \"@/lib/actions-user\";\nimport { fetchArticlesByAuthor } from \"@/lib/actions-article\";\nimport Header from \"@/components/Header\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { Calendar, Mail, MapPin, User, Clock, Facebook, Twitter, Linkedin, Copy } from \"lucide-react\";\nimport { notFound } from \"next/navigation\";\nimport ShareButtons from \"@/components/ShareButtons\";\n\nexport const metadata = {\n  title: 'Author Profile | Samakal',\n  description: 'Author details and articles.',\n};\n\nexport default async function AuthorPage({ params }: { params: Promise<{ id: string }> }) {\n  const resolvedParams = await params;\n  const authorId = resolvedParams.id;\n  \n  const [author, articles] = await Promise.all([\n      fetchAuthorProfile(authorId),\n      fetchArticlesByAuthor(authorId)\n  ]);\n\n  if (!author) {\n      notFound();\n  }\n\n  return (\n    <main className=\"min-h-screen bg-background text-foreground font-serif\">\n      <Header />\n      \n      <div className=\"container mx-auto px-4 py-8 md:py-12\">\n          {/* Profile Header */}\n          <div className=\"bg-white border border-gray-100 rounded-xl p-6 md:p-10 shadow-sm flex flex-col md:flex-row items-center md:items-start gap-8 mb-12 relative overflow-hidden\">\n               {/* Background Pattern */}\n               <div className=\"absolute top-0 right-0 w-64 h-64 bg-brand-red/5 rounded-full blur-3xl -z-10 translate-x-1/2 -translate-y-1/2\"></div>\n\n               {/* Avatar */}\n               <div className=\"w-32 h-32 md:w-40 md:h-40 rounded-full border-4 border-white shadow-xl overflow-hidden relative bg-gray-200 shrink-0\">\n                    <Image \n                       src={author.avatar || `https://randomuser.me/api/portraits/men/${(author.name.length % 50) + 1}.jpg`} \n                       alt={author.name} \n                       fill \n                       className=\"object-cover\"\n                    />\n               </div>\n\n               {/* Info */}\n               <div className=\"flex-1 text-center md:text-left z-10\">\n                    <h1 className=\"text-3xl md:text-4xl font-bold text-gray-900 mb-2\">{author.name}</h1>\n                    <div className=\"flex flex-wrap items-center justify-center md:justify-start gap-3 md:gap-6 text-gray-500 mb-6 font-sans text-sm\">\n                        <span className=\"flex items-center gap-1.5 px-3 py-1 bg-gray-50 rounded-full border border-gray-100\">\n                            <span className=\"w-2 h-2 rounded-full bg-brand-red\"></span>\n                            {author.role === 'admin' ? 'рж╕рж┐ржирж┐рзЯрж░ рж░рж┐ржкрзЛрж░рзНржЯрж╛рж░' : 'ржХржирзНржЯрзНрж░рж┐ржмрж┐ржЙржЯрж░'}\n                        </span>\n                        {/* Fake location for demo if not in DB */}\n                        <span className=\"flex items-center gap-1.5 px-3 py-1 bg-gray-50 rounded-full border border-gray-100\">\n                             <MapPin size={14} /> ржврж╛ржХрж╛, ржмрж╛ржВрж▓рж╛ржжрзЗрж╢\n                        </span>\n                        <span className=\"flex items-center gap-1.5 px-3 py-1 bg-gray-50 rounded-full border border-gray-100\">\n                             <Calendar size={14} /> ржпрзЛржЧ ржжрж┐рзЯрзЗржЫрзЗржи: {new Date().toLocaleDateString('bn-BD', { year: 'numeric' })}\n                        </span>\n                    </div>\n\n                    <p className=\"text-gray-600 max-w-2xl leading-relaxed mb-6 font-sans\">\n                        рж╕ржоржХрж╛рж▓ ржкрждрзНрж░рж┐ржХрж╛рж░ ржПржХржЬржи ржирж┐ржмрзЗржжрж┐ржд рж╕рж╛ржВржмрж╛ржжрж┐ржХред рж░рж╛ржЬржирзАрждрж┐, ржЕрж░рзНржержирзАрждрж┐ ржПржмржВ рж╕ржорж╕рж╛ржорзЯрж┐ржХ ржмрж┐рж╖рзЯрзЗ ржирж┐рзЯржорж┐ржд рж▓рзЗржЦрж╛рж▓рзЗржЦрж┐ ржХрж░рзЗржиред рж╕рждрзНржп ржУ ржирзНржпрж╛рзЯрзЗрж░ ржкржерзЗ ржЕржмрж┐ржЪрж▓ ржерзЗржХрзЗ рж╕ржВржмрж╛ржж ржкрж░рж┐ржмрзЗрж╢ржиржЗ ржорзВрж▓ рж▓ржХрзНрж╖рзНржпред\n                    </p>\n               </div>\n          </div>\n\n          {/* Articles Grid */}\n          <div className=\"mb-8 flex items-center gap-3\">\n               <div className=\"p-2 bg-brand-red text-white rounded\">\n                   <Copy size={20} />\n               </div>\n               <h2 className=\"text-2xl font-bold text-gray-900 flex items-center gap-2\">\n                   ржкрзНрж░ржХрж╛рж╢рж┐ржд рж╕ржВржмрж╛ржжрж╕ржорзВрж╣ <span className=\"text-gray-400 font-normal text-lg\">({articles.length})</span>\n               </h2>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n                {articles.map((article) => (\n                    <Link key={article.id} href={`/article/${article.id}`} className=\"group block bg-white rounded-xl overflow-hidden border border-gray-100 hover:shadow-xl transition-all duration-300 hover:-translate-y-1\">\n                        <div className=\"aspect-video relative overflow-hidden bg-gray-100\">\n                            <Image \n                                src={article.image} \n                                alt={article.title} \n                                fill \n                                className=\"object-cover group-hover:scale-105 transition-transform duration-500\"\n                            />\n                            <div className=\"absolute top-2 right-2 bg-brand-red/90 backdrop-blur text-white text-[10px] px-2 py-0.5 rounded font-bold\">\n                                {article.category}\n                            </div>\n                        </div>\n                        <div className=\"p-5\">\n                            <h3 className=\"font-bold text-gray-900 text-lg leading-snug group-hover:text-brand-red line-clamp-2 mb-3\">\n                                {article.title}\n                            </h3>\n                            <div className=\"flex items-center justify-between text-xs text-gray-400 mt-4 border-t border-gray-50 pt-3\">\n                                <div className=\"flex items-center gap-1.5\">\n                                    <Clock size={12} />\n                                    <span>{article.time}</span>\n                                </div>\n                                <span className=\"text-brand-red font-medium group-hover:underline\">ржкрзЬрзБржи</span>\n                            </div>\n                        </div>\n                    </Link>\n                ))}\n          </div>\n          \n          {articles.length === 0 && (\n              <div className=\"text-center py-20 bg-gray-50 rounded-xl border border-dashed border-gray-200\">\n                  <p className=\"text-gray-400\">ржХрзЛржи ржирж┐ржЙржЬ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯржирж┐</p>\n              </div>\n          )}\n      </div>\n    </main>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(main)/category/[slug]/loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(main)/category/[slug]/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(main)/events/[slug]/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(main)/events/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(main)/layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(main)/loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(main)/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(main)/photo/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(main)/search/loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(main)/search/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(main)/template.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(main)/user/bookmarks/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(main)/user/history/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(main)/user/layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(main)/user/profile/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/(main)/video/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/api/ai/test/route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'request' is defined but never used.","line":8,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":34},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":59,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":59,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1598,1601],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1598,1601],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":119,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":119,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2953,2956],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2953,2956],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\nimport { testGeminiConnection, getAICompletion } from '@/lib/ai/client';\n\n/**\n * Test Gemini API connection\n * GET /api/ai/test\n */\nexport async function GET(request: NextRequest) {\n  try {\n    // Check if API key is configured\n    if (!process.env.GEMINI_API_KEY) {\n      return NextResponse.json(\n        { \n          success: false, \n          error: 'GEMINI_API_KEY not configured',\n          message: 'Please set GEMINI_API_KEY in your .env.local file',\n          setup: 'Get your free API key from: https://makersuite.google.com/app/apikey'\n        },\n        { status: 500 }\n      );\n    }\n\n    // Test connection\n    const isConnected = await testGeminiConnection();\n\n    if (!isConnected) {\n      return NextResponse.json(\n        { \n          success: false, \n          error: 'Connection test failed',\n          message: 'Could not connect to Gemini API. Check your API key.'\n        },\n        { status: 500 }\n      );\n    }\n\n    // Test Bengali support with Gemini 3 Flash\n    const response = await getAICompletion(\n      'ржПржЗ ржмрж╛рж░рзНрждрж╛ржЯрж┐ ржмрж╛ржВрж▓рж╛ржпрж╝ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи: \"Gemini 3 Flash AI рж╕ржВржпрзЛржЧ рж╕ржлрж▓ рж╣ржпрж╝рзЗржЫрзЗ\"',\n      {\n        model: 'gemini-3-flash-preview',\n      }\n    );\n\n    return NextResponse.json({\n      success: true,\n      message: 'Gemini 3 Flash AI connection successful',\n      provider: 'Google Gemini 3',\n      model: 'gemini-3-flash-preview',\n      bengaliTest: response,\n      timestamp: new Date().toISOString(),\n      limits: {\n        free: true,\n        rpm: 60,\n        tpm: 1500000,\n      }\n    });\n\n  } catch (error: any) {\n    return NextResponse.json(\n      { \n        success: false, \n        error: error.message,\n        message: 'An error occurred while testing the connection'\n      },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * Test AI writing assistant features\n * POST /api/ai/test\n */\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json();\n    const { feature, input } = body;\n\n    if (!feature) {\n      return NextResponse.json(\n        { error: 'Feature parameter is required' },\n        { status: 400 }\n      );\n    }\n\n    let result;\n\n    switch (feature) {\n      case 'headline':\n        const { generateHeadlines } = await import('@/lib/ai/writing-assistant');\n        result = await generateHeadlines(input);\n        break;\n\n      case 'completion':\n        result = await getAICompletion(input);\n        break;\n\n      case 'translate':\n        const { translateText } = await import('@/lib/ai/writing-assistant');\n        result = await translateText(input, 'en');\n        break;\n\n      default:\n        return NextResponse.json(\n          { error: `Unknown feature: ${feature}` },\n          { status: 400 }\n        );\n    }\n\n    return NextResponse.json({\n      success: true,\n      feature,\n      result,\n      provider: 'Google Gemini',\n      timestamp: new Date().toISOString(),\n    });\n\n  } catch (error: any) {\n    return NextResponse.json(\n      { \n        success: false, \n        error: error.message \n      },\n      { status: 500 }\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/api/auth/[...nextauth]/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/api/upload/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/error.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/not-found.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/robots.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/setup-db/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/app/sitemap.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/auth.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/AISummary.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useRef' is defined but never used.","line":3,"column":31,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":37,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useRef"},"fix":{"range":[43,51],"text":""},"desc":"Remove unused variable \"useRef\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Bot' is defined but never used.","line":4,"column":20,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":23,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Bot"},"fix":{"range":[85,90],"text":""},"desc":"Remove unused variable \"Bot\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState, useEffect, useRef } from 'react';\nimport { Sparkles, Bot, X, BrainCircuit, Wand2 } from 'lucide-react';\nimport clsx from 'clsx';\n\nexport default function AISummary({ summary }: { summary: string }) {\n  const [status, setStatus] = useState<'idle' | 'loading' | 'visible'>('idle');\n  const [displayedText, setDisplayedText] = useState('');\n  const [loadingText, setLoadingText] = useState('Analysis In Progress...');\n\n  // --- STREAMING TEXT EFFECT ---\n  useEffect(() => {\n    if (status === 'visible') {\n      let currentIndex = 0;\n      const interval = setInterval(() => {\n        if (currentIndex <= summary.length) {\n          setDisplayedText(summary.slice(0, currentIndex));\n          currentIndex++;\n        } else {\n          clearInterval(interval);\n        }\n      }, 15); // Speed of typing (15ms per char)\n      return () => clearInterval(interval);\n    } else {\n        setDisplayedText(''); // Reset on close\n    }\n  }, [status, summary]);\n\n  // --- LOADING MESSAGE ROTATION ---\n  useEffect(() => {\n      if (status === 'loading') {\n          const messages = [\n              \"Extracting Key Points...\",\n              \"Analyzing Context...\",\n              \"Synthesizing Summary...\"\n          ];\n          let i = 0;\n          const interval = setInterval(() => {\n              i = (i + 1) % messages.length;\n              setLoadingText(messages[i]);\n          }, 600);\n          return () => clearInterval(interval);\n      }\n  }, [status]);\n\n  const handleGenerate = () => {\n    setStatus('loading');\n    setTimeout(() => {\n      setStatus('visible');\n    }, 2000); // 2s thinking time\n  };\n\n  // --- IDLE STATE ---\n  if (status === 'idle') {\n    return (\n      <div className=\"my-8\">\n        <button \n            onClick={handleGenerate}\n            className=\"relative group overflow-hidden pl-1 pr-6 py-1.5 rounded-full border border-teal-200/50 bg-white/50 backdrop-blur-sm shadow-sm hover:shadow-md transition-all duration-300 w-fit\"\n        >\n             <div className=\"absolute inset-0 bg-gradient-to-r from-teal-50 via-blue-50 to-purple-50 opacity-0 group-hover:opacity-100 transition-opacity duration-500\" />\n             <div className=\"relative flex items-center gap-3\">\n                 <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-teal-400 to-blue-500 flex items-center justify-center text-white shadow-lg group-hover:scale-110 transition-transform duration-300\">\n                    <Sparkles size={14} className=\"animate-pulse\" />\n                 </div>\n                 <span className=\"font-semibold text-sm bg-gradient-to-r from-teal-700 to-blue-700 bg-clip-text text-transparent\">\n                    AI рж╕рж╛рж░рж╛ржВрж╢ ржкрзЬрзБржи\n                 </span>\n             </div>\n        </button>\n      </div>\n    );\n  }\n\n  // --- LOADING STATE (Thinking) ---\n  if (status === 'loading') {\n    return (\n      <div className=\"my-8\">\n         <div className=\"relative overflow-hidden rounded-xl bg-gray-50 border border-gray-100 p-4 w-full md:w-2/3\">\n             {/* Fluid Gradient Background */}\n            <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-teal-50 to-transparent animate-shimmer opacity-50\" />\n            \n            <div className=\"relative flex items-center gap-4 z-10\">\n                 <div className=\"w-10 h-10 rounded-full bg-white shadow-sm flex items-center justify-center border border-teal-100\">\n                    <BrainCircuit size={20} className=\"text-teal-500 animate-spin-slow\" /> \n                 </div>\n                 <div className=\"flex flex-col gap-1\">\n                     <span className=\"text-sm font-bold text-gray-700\">{loadingText}</span>\n                     <div className=\"h-1 w-32 bg-gray-200 rounded-full overflow-hidden\">\n                         <div className=\"h-full bg-teal-500 rounded-full animate-progress-indeterminate\" />\n                     </div>\n                 </div>\n            </div>\n         </div>\n      </div>\n    );\n  }\n\n  // --- RESULT STATE (Content) ---\n  return (\n    <div className=\"my-8 animate-fade-in-up\">\n        <div className={clsx(\n            \"relative bg-white/40 backdrop-blur-sm rounded-2xl border border-teal-100 shadow-xl overflow-hidden transition-all duration-500\",\n            status === 'visible' ? \"opacity-100 translate-y-0\" : \"opacity-0 translate-y-4\"\n        )}>\n             {/* Magic Gradient Border Top */}\n            <div className=\"h-1 w-full bg-gradient-to-r from-teal-400 via-blue-500 to-purple-500 animate-gradient-xy\" />\n\n            <div className=\"relative p-6 md:p-8\">\n               {/* Background Decoration */}\n               <div className=\"absolute top-0 right-0 p-6 opacity-5 pointer-events-none\">\n                   <BrainCircuit size={120} />\n               </div>\n\n               <div className=\"relative z-10\">\n                   <div className=\"flex justify-between items-start mb-4\">\n                       <div className=\"flex items-center gap-2\">\n                            <div className=\"p-1.5 bg-teal-50 rounded-lg text-teal-600\">\n                                <Wand2 size={16} />\n                            </div>\n                            <span className=\"text-xs font-bold uppercase tracking-wider text-teal-600\">AI Summary</span>\n                       </div>\n                       <button \n                            onClick={() => setStatus('idle')} \n                            className=\"p-1 rounded hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition\"\n                       >\n                           <X size={16} />\n                       </button>\n                   </div>\n                   \n                   <p className=\"text-gray-800 text-lg leading-relaxed font-medium min-h-[60px]\">\n                       {displayedText}\n                       <span className=\"inline-block w-1.5 h-5 ml-1 align-middle bg-teal-500 animate-pulse\" />\n                   </p>\n\n                   <div className=\"mt-6 pt-4 border-t border-gray-100 flex items-center justify-between text-[11px] text-gray-400 font-medium uppercase tracking-wide\">\n                       <span>Models: GPT-4 + Claude 3.5</span>\n                       <span>Confidence: 98%</span>\n                   </div>\n               </div>\n            </div>\n        </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/AdSlot.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/ArchiveClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/ArticleContent.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[868,871],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[868,871],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":23,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[893,896],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[893,896],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport ShareButtons from \"@/components/ShareButtons\";\nimport BookmarkButton from \"@/components/BookmarkButton\";\nimport CommentSection from \"@/components/CommentSection\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { MapPin, Calendar, Clock, ImageIcon, Printer, Link as LinkIcon } from \"lucide-react\";\nimport { useEffect, useState } from \"react\";\nimport { formatRelativeTime } from \"@/utils/bn\";\nimport { generateBlurPlaceholder } from \"@/utils/image\";\nimport HistoryTracker from \"@/components/HistoryTracker\";\n// import FontSizeToggle from \"@/components/FontSizeToggle\";\nimport ImageLightbox from \"@/components/ImageLightbox\";\nimport { toast } from \"sonner\";\nimport { NewsItem } from \"@/types/news\";\n\ninterface ArticleContentProps {\n    article: NewsItem;\n    authorNews: NewsItem[];\n    relatedNews: NewsItem[];\n    comments?: any[];\n    currentUser?: any;\n}\n\nexport default function ArticleContent({ article, authorNews, relatedNews, comments, currentUser }: ArticleContentProps) {\n    const [sanitizedContent, setSanitizedContent] = useState(\"\");\n    const [lightboxOpen, setLightboxOpen] = useState(false);\n    const [lightboxIndex, setLightboxIndex] = useState(0);\n    \n    // Collect all images for lightbox (featured + gallery)\n    const allImages = [\n        ...(article.image ? [article.image] : []),\n        ...(article.images?.map(img => img.url) || [])\n    ];\n    \n    useEffect(() => {\n        if (typeof window !== 'undefined') {\n            import('dompurify').then((DOMPurify) => {\n                const clean = DOMPurify.default.sanitize(article.content || '', {\n                    ADD_TAGS: ['iframe'],\n                    ADD_ATTR: ['allow', 'allowfullscreen', 'frameborder', 'scrolling']\n                });\n                setSanitizedContent(clean);\n            });\n        }\n    }, [article.content]);\n\n    const handlePrint = () => {\n        window.print();\n    };\n\n    const handleCopy = () => {\n        const url = `${window.location.origin}/article/${article.slug}`;\n        navigator.clipboard.writeText(url);\n        toast.success(\"рж▓рж┐ржВржХ ржХржкрж┐ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ\");\n    };\n\n    return (\n        <div className=\"bg-background text-foreground font-serif\">\n            {/* Breadcrumb */}\n            <nav className=\"text-sm text-gray-500 mb-4\">\n                <Link href=\"/\" className=\"hover:text-brand-red transition\">рж╣рзЛржо</Link>\n                <span className=\"mx-2\">/</span>\n                <Link href={`/category/${article.category}`} className=\"hover:text-brand-red transition\">{article.category}</Link>\n            </nav>\n\n            {/* Article Title */}\n            <h1 className=\"text-2xl md:text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white leading-tight mb-4\">\n                {article.title}\n            </h1>\n\n            {/* Sub-headline (if exists) */}\n            {article.sub_headline && (\n                <p className=\"text-lg md:text-xl text-gray-600 dark:text-gray-400 leading-relaxed mb-6\">\n                    {article.sub_headline}\n                </p>\n            )}\n\n            {/* Font Size Control */}\n            {/* Font Size Control Removed */}\n            {/* <div className=\"flex justify-end mb-6\">\n               <FontSizeToggle />\n            </div> */}\n\n            {/* Author & Meta */}\n            <div className=\"flex flex-col md:flex-row justify-between items-center border-t border-b border-gray-100 dark:border-gray-800 py-4 mb-8 gap-6\">\n                {/* Author Info */}\n               <div className=\"flex items-center gap-4\">\n                  {/* Author Avatar */}\n                  <div className=\"w-12 h-12 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-800 relative\">\n                     <Image \n                        src={`https://randomuser.me/api/portraits/men/${(article.title.length % 50) + 1}.jpg`} \n                        alt={article.author || \"Reporter\"}\n                        fill\n                        className=\"object-cover\"\n                     />\n                  </div>\n                  <div className=\"flex flex-col\">\n                     <span className=\"font-bold text-gray-900 dark:text-gray-200\">{article.author || \"рж╕рзНржЯрж╛ржл рж░рж┐ржкрзЛрж░рзНржЯрж╛рж░\"}</span>\n                     <div className=\"flex flex-wrap items-center gap-x-4 gap-y-1 text-xs md:text-sm text-gray-500 dark:text-gray-400 mt-1\">\n                        {article.location && (\n                           <span className=\"flex items-center gap-1\">\n                              <MapPin size={14} />\n                              {article.location}\n                           </span>\n                        )}\n                        <span className=\"flex items-center gap-1\">\n                           <Calendar size={14} />\n                           {article.date}\n                        </span>\n                        <span className=\"flex items-center gap-1\">\n                           <Clock size={14} />\n                           {formatRelativeTime(article.published_at || article.date)}\n                        </span>\n                     </div>\n                  </div>\n               </div>\n    \n    \n               {/* Share Button Group (Top) */}\n               <div className=\"flex items-center gap-3\">\n                   <ShareButtons title={article.title} slug={article.slug} />\n                   \n                   <BookmarkButton articleId={article.id} className=\"p-2 border border-gray-200 rounded-full hover:bg-gray-50 text-gray-600 transition-colors\" />\n                   \n                   <button onClick={handlePrint} className=\"p-2 border border-gray-200 rounded-full hover:bg-gray-50 text-gray-600 transition-colors\" title=\"ржкрзНрж░рж┐ржирзНржЯ ржХрж░рзБржи\">\n                       <Printer size={20} />\n                   </button>\n                   \n                   <button onClick={handleCopy} className=\"p-2 border border-gray-200 rounded-full hover:bg-gray-50 text-gray-600 transition-colors\" title=\"рж▓рж┐ржВржХ ржХржкрж┐ ржХрж░рзБржи\">\n                       <LinkIcon size={20} />\n                   </button>\n               </div>\n            </div>\n    \n            {/* Featured Image */}\n            {article.image && (\n                <div \n                    className=\"relative w-full md:w-[85%] aspect-video mb-8 rounded-lg overflow-hidden cursor-pointer group hover:shadow-xl transition-shadow duration-300\"\n                    onClick={() => {\n                        setLightboxIndex(0);\n                        setLightboxOpen(true);\n                    }}\n                >\n                    <Image \n                        src={article.image} \n                        alt={article.title}\n                        fill\n                        placeholder=\"blur\"\n                        blurDataURL={generateBlurPlaceholder(16, 9)}\n                        className=\"object-cover group-hover:scale-105 transition-transform duration-700\"\n                        priority\n                    />\n                    {/* Click hint overlay */}\n                    <div className=\"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300 flex items-center justify-center\">\n                        <div className=\"bg-white/90 px-4 py-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n                            <span className=\"text-sm font-bold text-gray-800\">ржЫржмрж┐ ржмржбрж╝ ржХрж░рзЗ ржжрзЗржЦрзБржи</span>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {/* Article Body */}\n            <article \n                className=\"article-content prose prose-lg max-w-none w-full md:w-[85%] mb-6 text-justify prose-headings:font-bold prose-headings:text-gray-900 prose-p:text-gray-700 prose-p:leading-relaxed prose-a:text-brand-red prose-a:no-underline hover:prose-a:underline\"\n                dangerouslySetInnerHTML={{ __html: sanitizedContent }}\n            />\n            \n            {/* Bottom Share Section */}\n            <div className=\"w-full md:w-[85%] border-t border-gray-100 dark:border-gray-800 mt-4 pt-6\">\n                <div className=\"flex flex-col md:flex-row items-center justify-between gap-4 bg-gray-50 dark:bg-gray-800/50 p-4 rounded-xl\">\n                    <span className=\"font-bold text-gray-700 dark:text-gray-300\">рж╢рзЗрзЯрж╛рж░ / рж╕ржВрж░ржХрзНрж╖ржг:</span>\n                    <div className=\"flex items-center gap-4\">\n                        <ShareButtons title={article.title} slug={article.slug} />\n                        <div className=\"h-6 w-px bg-gray-300 dark:bg-gray-700 mx-2\"></div>\n                        \n                        <BookmarkButton articleId={article.id} showText className=\"hover:text-brand-red transition-colors\" />\n                        \n                        <button onClick={handlePrint} className=\"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-brand-red transition-colors font-medium text-sm\">\n                            <Printer size={18} />\n                            <span className=\"hidden md:inline\">ржкрзНрж░рж┐ржирзНржЯ</span>\n                        </button>\n                        \n                        <button onClick={handleCopy} className=\"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-brand-red transition-colors font-medium text-sm\">\n                            <LinkIcon size={18} />\n                            <span className=\"hidden md:inline\">ржХржкрж┐</span>\n                        </button>\n                    </div>\n                </div>\n            </div>\n            \n            {/* ... Rest of interactions */}\n\n\n            {/* Comment Section */}\n            <div className=\"w-full md:w-[85%]\">\n                <CommentSection articleId={article.id} initialComments={comments || []} currentUser={currentUser} />\n            </div>\n\n            {/* Image Lightbox */}\n            {lightboxOpen && (\n                <ImageLightbox \n                    images={allImages}\n                    initialIndex={lightboxIndex}\n                    onClose={() => setLightboxOpen(false)}\n                />\n            )}\n\n            {/* --- GALLERY SECTION (NEW) --- */}\n            {article.images && article.images.length > 0 && (\n                <div className=\"w-full md:w-[85%] my-12\">\n                     <h3 className=\"text-xl font-bold mb-4 flex items-center gap-2\">\n                        <ImageIcon className=\"text-brand-red\" size={24} />\n                        ржлржЯрзЛ ржЧрзНржпрж╛рж▓рж╛рж░рж┐\n                     </h3>\n                     <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        {article.images.map((img, idx) => (\n                            <div \n                                key={img.id} \n                                className=\"relative aspect-4/3 rounded-lg overflow-hidden group cursor-pointer hover:shadow-xl transition-shadow duration-300\"\n                                onClick={() => {\n                                    setLightboxIndex((article.image ? 1 : 0) + idx);\n                                    setLightboxOpen(true);\n                                }}\n                            >\n                                <Image \n                                    src={img.url} \n                                    alt={img.caption || \"Gallery Image\"} \n                                    fill \n                                    placeholder=\"blur\"\n                                    blurDataURL={generateBlurPlaceholder(4, 3)}\n                                    className=\"object-cover group-hover:scale-110 transition-transform duration-700\"\n                                />\n                                {img.caption && (\n                                    <div className=\"absolute bottom-0 left-0 right-0 bg-black/60 p-2 text-white text-xs\">\n                                        {img.caption}\n                                    </div>\n                                )}\n                                {/* Click hint */}\n                                <div className=\"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300 flex items-center justify-center\">\n                                    <ImageIcon className=\"text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300\" size={48} />\n                                </div>\n                            </div>\n                        ))}\n                     </div>\n                </div>\n            )}\n        \n        {/* --- AUTHOR'S POPULAR NEWS SUB-SECTION --- */}\n        {authorNews.length > 0 && (\n        <div className=\"mt-16 mb-12 w-full md:w-[85%]\">\n             <div className=\"flex items-center gap-3 mb-6\">\n                <div className=\"w-10 h-10 rounded-full overflow-hidden bg-gray-200 relative\">\n                   <Image src={`https://randomuser.me/api/portraits/men/${(article.title.length % 50) + 1}.jpg`} alt=\"Author\" fill className=\"object-cover\" />\n                </div>\n                <div>\n                   <h3 className=\"text-lg font-bold text-gray-900 leading-tight\">ржПржЗ ржкрзНрж░рждрж┐ржмрзЗржжржХрзЗрж░ ржЖрж░ржУ ржЦржмрж░</h3>\n                   <div className=\"h-0.5 w-full bg-gray-200 mt-1 relative\">\n                       <div className=\"absolute left-0 top-0 h-full w-1/3 bg-brand-red\"></div>\n                   </div>\n                </div>\n             </div>\n             \n             <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4\">\n                 {authorNews.map((news) => (\n                    <Link key={news.id} href={`/article/${news.id}`} className=\"group block\">\n                        <div className=\"aspect-4/3 relative overflow-hidden rounded-lg mb-2\">\n                             <Image \n                                src={news.image} \n                                alt={news.title} \n                                fill \n                                placeholder=\"blur\"\n                                blurDataURL={generateBlurPlaceholder(4, 3)}\n                                className=\"object-cover group-hover:scale-105 transition-transform duration-500\"\n                             />\n                        </div>\n                        <h4 className=\"text-sm font-bold text-gray-900 leading-tight group-hover:text-brand-red line-clamp-3\">\n                            {news.title}\n                        </h4>\n                    </Link>\n                 ))}\n             </div>\n        </div>\n        )}\n\n        {/* Tags (Dynamic) */}\n        {article.tags && article.tags.length > 0 && (\n            <div className=\"mt-8 pt-6 border-t border-gray-200\">\n            <div className=\"flex flex-wrap gap-2\">\n                {article.tags.map((tag: string) => (\n                    <Link key={tag} href={`/search?q=${tag}`} className=\"bg-gray-100 px-4 py-1.5 rounded-full text-sm font-medium text-gray-600 hover:bg-gray-200 hover:text-brand-red transition cursor-pointer\">\n                        #{tag}\n                    </Link>\n                ))}\n            </div>\n            </div>\n        )}\n\n        {/* RELATED NEWS SECTION (8 Items) */}\n        {relatedNews.length > 0 && (\n        <div className=\"mt-16 pt-12 border-t-4 border-gray-900\">\n            <h3 className=\"text-2xl font-bold text-gray-900 mb-8 flex items-center gap-2\">\n                <span className=\"w-2 h-8 bg-brand-red rounded\"></span>\n                ржЖрж░ржУ ржкрзЬрзБржи\n            </h3>\n            \n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n                {relatedNews.map((news) => (\n                    <Link key={news.id} href={`/article/${news.id}`} className=\"group block bg-white rounded-xl overflow-hidden hover:shadow-xl transition-all duration-300 border border-gray-100 hover:-translate-y-1\">\n                        <div className=\"aspect-video relative overflow-hidden\">\n                            <Image \n                                src={news.image} \n                                alt={news.title} \n                                fill \n                                placeholder=\"blur\"\n                                blurDataURL={generateBlurPlaceholder(16, 9)}\n                                className=\"object-cover group-hover:scale-105 transition-transform duration-500\"\n                            />\n                            <div className=\"absolute top-2 right-2 bg-brand-red text-white px-2 py-0.5 rounded text-[10px] font-bold\">\n                                {news.category}\n                            </div>\n                        </div>\n                        <div className=\"p-4\">\n                            <h4 className=\"font-bold text-gray-800 text-lg leading-snug group-hover:text-brand-red line-clamp-2 mb-2\">\n                                {news.title}\n                            </h4>\n                            <div className=\"flex items-center gap-2 text-xs text-gray-400 mt-2\">\n                                <Clock size={12} />\n                                <span>{news.time}</span>\n                            </div>\n                        </div>\n                    </Link>\n                ))}\n            </div>\n        </div>\n        )}\n\n        <HistoryTracker articleId={article.id} />\n    </div>\n    );\n}\n\n\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/BookmarkButton.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":20,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":20,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":59,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":59,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Bookmark, BookmarkCheck } from \"lucide-react\";\nimport { toast } from \"sonner\";\nimport { toggleBookmark, checkIsBookmarked } from \"@/lib/actions-bookmark\";\nimport { clsx } from \"clsx\";\nimport { useRouter } from \"next/navigation\";\n\ninterface BookmarkButtonProps {\n  articleId: string;\n  initialIsBookmarked?: boolean; // Optional initial state\n  className?: string;\n  showText?: boolean;\n}\n\nexport default function BookmarkButton({ articleId, initialIsBookmarked = false, className, showText = false }: BookmarkButtonProps) {\n  const [isBookmarked, setIsBookmarked] = useState(initialIsBookmarked);\n  const [isLoading, setIsLoading] = useState(false);\n  const router = useRouter();\n\n  useEffect(() => {\n    // Client-side check on mount to ensure accuracy if not passed init\n    // But to save bandwidth, we could rely on init. \n    // Let's rely on init for now if provided, or could fetch.\n    const sync = async () => {\n        const status = await checkIsBookmarked(articleId);\n        setIsBookmarked(status);\n    };\n    sync();\n  }, [articleId]);\n\n  const handleToggle = async (e: React.MouseEvent) => {\n    e.preventDefault();\n    if (isLoading) return;\n\n    // Optimistic Update\n    const previousState = isBookmarked;\n    setIsBookmarked(!isBookmarked);\n    setIsLoading(true);\n\n    try {\n      const result = await toggleBookmark(articleId);\n      \n      if (!result.success && result.message === \"Unauthorized\") {\n          toast.error(\"Please login to bookmark articles\");\n          setIsBookmarked(previousState); // Revert\n          // Optional: router.push('/login');\n          return;\n      }\n\n      if (result.success) {\n          toast.success(result.message);\n          setIsBookmarked(result.isBookmarked!);\n      } else {\n          setIsBookmarked(previousState);\n          toast.error(\"Failed to update bookmark\");\n      }\n    } catch (error) {\n      setIsBookmarked(previousState);\n      toast.error(\"Something went wrong\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <button\n      onClick={handleToggle}\n      className={clsx(\n        \"flex items-center gap-2 transition-all duration-200 group\",\n        isBookmarked ? \"text-brand-red\" : \"text-gray-400 hover:text-brand-red\",\n        className\n      )}\n      title={isBookmarked ? \"Remove Bookmark\" : \"Save Article\"}\n      aria-pressed={isBookmarked}\n    >\n      {isBookmarked ? (\n        <BookmarkCheck className={clsx(\"transition-transform duration-300\", isLoading ? \"scale-90 opacity-70\" : \"scale-100\")} size={20} />\n      ) : (\n        <Bookmark className={clsx(\"transition-transform duration-300\", isLoading ? \"scale-90 opacity-70\" : \"scale-100\")} size={20} />\n      )}\n      {showText && (\n          <span className=\"text-sm font-medium\">\n              {isBookmarked ? \"рж╕ржВрж░ржХрзНрж╖рж┐ржд\" : \"рж╕рзЗржн ржХрж░рзБржи\"}\n          </span>\n      )}\n    </button>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/BreakingTicker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/Category/SubCategoryNav.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/CategorySection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/CommentSection.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'clsx' is defined but never used.","line":10,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":14,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"clsx"},"fix":{"range":[340,368],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":23,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[597,600],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[597,600],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState, useRef } from \"react\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { MessageSquare, Send, User as UserIcon } from \"lucide-react\";\nimport { postComment } from \"@/lib/actions-comment\"; // Action we just made\nimport { useFormStatus } from \"react-dom\";\nimport { toast } from \"sonner\";\nimport { clsx } from \"clsx\";\n\ninterface Comment {\n    id: string;\n    content: string;\n    author: string;\n    avatar?: string;\n    timeAgo: string;\n}\n\ninterface CommentSectionProps {\n    articleId: string;\n    initialComments: Comment[];\n    currentUser?: any; // Simple user object if logged in\n}\n\nexport default function CommentSection({ articleId, initialComments, currentUser }: CommentSectionProps) {\n    const [comments, setComments] = useState(initialComments);\n    const formRef = useRef<HTMLFormElement>(null);\n\n    async function handlePost(formData: FormData) {\n        const content = formData.get('content') as string;\n        if (!content) return;\n\n        // Optimistic Update\n        const tempId = Math.random().toString();\n        const newComment: Comment = {\n            id: tempId,\n            content: content,\n            author: currentUser?.name || 'ржЖржкржирж┐',\n            avatar: currentUser?.image,\n            timeAgo: 'ржПржЗржорж╛рждрзНрж░'\n        };\n\n        setComments([newComment, ...comments]);\n        formRef.current?.reset();\n\n        const result = await postComment(articleId, content);\n        \n        if (!result.success) {\n            // Revert if failed\n            setComments(current => current.filter(c => c.id !== tempId));\n            toast.error(result.message);\n        } else {\n             toast.success(result.message);\n             // In a real app we might re-fetch from server to get correct ID and timestamp, \n             // but revalidatePath on server + strict mode usually handles this on next navigation.\n             // For now optimistic instant feedback is great.\n        }\n    }\n\n    return (\n        <div className=\"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-6 md:p-8 mt-12 border border-gray-100 dark:border-gray-800\" id=\"comments\">\n            <div className=\"flex items-center gap-3 mb-6 border-b border-gray-200 dark:border-gray-700 pb-4\">\n                <div className=\"p-2 bg-brand-red/10 text-brand-red rounded-lg\">\n                    <MessageSquare size={20} />\n                </div>\n                <h3 className=\"text-xl font-bold text-gray-900 dark:text-gray-100\">ржоржирзНрждржмрзНржп ({comments.length})</h3>\n            </div>\n\n            {/* Post Comment Form */}\n            <div className=\"mb-8\">\n                {currentUser ? (\n                    <div className=\"flex gap-4 items-start\">\n                         <div className=\"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-800 overflow-hidden relative border border-gray-300 dark:border-gray-700 shrink-0\">\n                            {currentUser.image ? (\n                                <Image src={currentUser.image} alt={currentUser.name} fill className=\"object-cover\" />\n                            ) : (\n                                <div className=\"w-full h-full flex items-center justify-center text-gray-400 dark:text-gray-500\">\n                                    <UserIcon size={20} />\n                                </div>\n                            )}\n                         </div>\n                         <form ref={formRef} action={handlePost} className=\"flex-1 relative\">\n                             <textarea \n                                name=\"content\"\n                                placeholder=\"ржЖржкржирж╛рж░ ржорждрж╛ржоржд рж▓рж┐ржЦрзБржи...\" \n                                className=\"w-full p-4 rounded-xl border border-gray-300 dark:border-gray-700 focus:border-brand-red focus:ring-1 focus:ring-brand-red outline-none min-h-[100px] resize-none text-gray-800 dark:text-gray-200 bg-white dark:bg-gray-800\"\n                                required\n                             ></textarea>\n                             <SubmitButton />\n                         </form>\n                    </div>\n                ) : (\n                    <div className=\"bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/30 rounded-lg p-6 text-center\">\n                        <p className=\"text-gray-600 dark:text-gray-400 mb-3\">ржоржирзНрждржмрзНржп ржХрж░рждрзЗ ржжрзЯрж╛ ржХрж░рзЗ рж▓ржЧржЗржи ржХрж░рзБржи</p>\n                        <Link href=\"/admin/login\" className=\"inline-flex items-center gap-2 px-6 py-2 bg-brand-red text-white font-bold rounded-full hover:bg-red-700 transition\">\n                            <UserIcon size={18} />\n                            рж▓ржЧржЗржи ржХрж░рзБржи\n                        </Link>\n                    </div>\n                )}\n            </div>\n\n            {/* Comments List */}\n            <div className=\"space-y-6\">\n                {comments.length > 0 ? (\n                    comments.map((comment) => (\n                        <div key={comment.id} className=\"flex gap-4 group animate-in slide-in-from-bottom-2 fade-in duration-300\">\n                             <div className=\"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-800 overflow-hidden relative border border-gray-100 dark:border-gray-700 shrink-0\">\n                                {comment.avatar ? (\n                                    <Image src={comment.avatar} alt={comment.author} fill className=\"object-cover\" />\n                                ) : (\n                                    <div className=\"w-full h-full flex items-center justify-center text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-gray-800\">\n                                        <span className=\"font-bold text-lg uppercase\">{comment.author.charAt(0)}</span>\n                                    </div>\n                                )}\n                             </div>\n                             <div className=\"flex-1 bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 relative\">\n                                 {/* Arrow */}\n                                 <div className=\"absolute top-4 -left-2 w-4 h-4 bg-white dark:bg-gray-800 border-l border-b border-gray-100 dark:border-gray-700 transform rotate-45\"></div>\n\n                                 <div className=\"flex justify-between items-center mb-2\">\n                                     <h4 className=\"font-bold text-gray-900 dark:text-gray-100\">{comment.author}</h4>\n                                     <span className=\"text-xs text-gray-400 dark:text-gray-500 font-sans bg-gray-50 dark:bg-gray-900 px-2 py-0.5 rounded-full\">{comment.timeAgo}</span>\n                                 </div>\n                                 <p className=\"text-gray-700 dark:text-gray-300 leading-relaxed text-sm md:text-base\">\n                                     {comment.content}\n                                 </p>\n                             </div>\n                        </div>\n                    ))\n                ) : (\n                    <div className=\"text-center py-8 text-gray-400\">\n                        ржПржЦржирзЛ ржХрзЛржирзЛ ржоржирзНрждржмрзНржп ржирзЗржЗред ржЖржкржирж┐ржЗ ржкрзНрж░ржержо ржоржирзНрждржмрзНржп ржХрж░рзБржи!\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\nfunction SubmitButton() {\n    const { pending } = useFormStatus();\n    return (\n        <button \n           type=\"submit\" \n           disabled={pending}\n           className=\"absolute bottom-3 right-3 p-2 bg-brand-red text-white rounded-lg hover:bg-red-700 transition disabled:opacity-50 flex items-center gap-2 text-xs font-bold uppercase tracking-wider\"\n        >\n            {pending ? (\n                <span className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\"></span>\n            ) : (\n                <>\n                  <Send size={16} />\n                  <span>Post</span>\n                </>\n            )}\n        </button>\n    )\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/EventSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/FloatingVideoPlayer/PausePromptModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/FloatingVideoPlayer/SettingsPanel.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Moon' is defined but never used.","line":3,"column":19,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":23,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Moon"},"fix":{"range":[31,37],"text":""},"desc":"Remove unused variable \"Moon\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Sun' is defined but never used.","line":3,"column":25,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":28,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Sun"},"fix":{"range":[37,42],"text":""},"desc":"Remove unused variable \"Sun\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Monitor' is defined but never used.","line":3,"column":30,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":37,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Monitor"},"fix":{"range":[42,51],"text":""},"desc":"Remove unused variable \"Monitor\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Volume2' is defined but never used.","line":3,"column":39,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":46,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Volume2"},"fix":{"range":[51,60],"text":""},"desc":"Remove unused variable \"Volume2\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Maximize' is defined but never used.","line":3,"column":48,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":56,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Maximize"},"fix":{"range":[60,70],"text":""},"desc":"Remove unused variable \"Maximize\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":53,"column":93,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":96,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2305,2308],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2305,2308],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { X, Save, Moon, Sun, Monitor, Volume2, Maximize } from 'lucide-react';\nimport { useVideoPlayer, UserPreferences } from '@/contexts/VideoPlayerContext';\nimport { useState, useEffect } from 'react';\n\ninterface SettingsPanelProps {\n  onClose: () => void;\n}\n\nexport default function SettingsPanel({ onClose }: SettingsPanelProps) {\n  const { userPreferences, updatePreferences } = useVideoPlayer();\n  const [localPrefs, setLocalPrefs] = useState<UserPreferences>(userPreferences);\n\n  // Sync with context if it changes externaly (rare while open)\n  useEffect(() => {\n    setLocalPrefs(userPreferences);\n  }, [userPreferences]);\n\n  const handleSave = () => {\n    updatePreferences(localPrefs);\n    onClose();\n  };\n\n  return (\n    <div className=\"absolute inset-0 z-50 bg-white text-gray-800 flex flex-col animate-in slide-in-from-right duration-300\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between p-4 border-b border-gray-100 bg-gray-50\">\n        <h3 className=\"font-bold text-lg text-gray-900\">рж╕рзЗржЯрж┐ржВрж╕</h3>\n        <button onClick={onClose} className=\"p-1 hover:bg-gray-200 rounded-full transition\">\n          <X size={20} className=\"text-gray-500\" />\n        </button>\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-6\">\n        \n        {/* Section: Article Navigation */}\n        <div>\n          <h4 className=\"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3\">ржЖрж░рзНржЯрж┐ржХрзЗрж▓ ржкрзЬрж╛рж░ рж╕ржорзЯ</h4>\n          <div className=\"space-y-3\">\n            {[\n              { id: 'always-ask', label: 'рж╕рж░рзНржмржжрж╛ ржЬрж┐ржЬрзНржЮрж╛рж╕рж╛ ржХрж░рзБржи', desc: 'ржкрзНрж░рждрж┐ржмрж╛рж░ ржоржирзЗ ржХрж░рж┐рзЯрзЗ ржжрзЗржмрзЗ' },\n              { id: 'auto-pause', label: 'рж╕рзНржмрзЯржВржХрзНрж░рж┐рзЯ ржкржЬ', desc: 'ржнрж┐ржбрж┐ржУ ржерж╛ржорж┐рзЯрзЗ ржжрзЗржмрзЗ' },\n              { id: 'never-pause', label: 'ржмржирзНржз ржХрж░ржмрзЗржи ржирж╛', desc: 'ржнрж┐ржбрж┐ржУ ржЪрж▓рждрзЗ ржерж╛ржХржмрзЗ' }\n            ].map((option) => (\n              <label key={option.id} className=\"flex items-start gap-3 p-3 rounded-lg border border-gray-100 cursor-pointer hover:bg-gray-50 transition relative\">\n                <input \n                  type=\"radio\" \n                  name=\"pauseBehavior\"\n                  value={option.id}\n                  checked={localPrefs.pauseBehavior === option.id}\n                  onChange={() => setLocalPrefs({...localPrefs, pauseBehavior: option.id as any})}\n                  className=\"mt-1 w-4 h-4 text-brand-red focus:ring-brand-red\"\n                />\n                <div>\n                  <span className=\"block font-bold text-sm text-gray-800\">{option.label}</span>\n                  <span className=\"text-xs text-gray-500\">{option.desc}</span>\n                </div>\n              </label>\n            ))}\n          </div>\n        </div>\n\n        {/* Section: Default Size */}\n        <div>\n          <h4 className=\"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3\">ржбрж┐ржлрж▓рзНржЯ ржкрзНрж▓рзЗрзЯрж╛рж░ рж╕рж╛ржЗржЬ</h4>\n          <div className=\"grid grid-cols-2 gap-3\">\n             <button \n                onClick={() => setLocalPrefs({...localPrefs, defaultSize: 'mini'})}\n                className={`p-3 rounded-lg border flex flex-col items-center gap-2 transition ${localPrefs.defaultSize === 'mini' ? 'border-brand-red bg-red-50 text-brand-red' : 'border-gray-100 hover:bg-gray-50 text-gray-600'}`}\n             >\n                <div className=\"w-12 h-8 bg-current opacity-20 rounded border-2 border-current\"></div>\n                <span className=\"text-xs font-bold\">ржорж┐ржирж┐</span>\n             </button>\n\n             <button \n                onClick={() => setLocalPrefs({...localPrefs, defaultSize: 'expanded'})}\n                className={`p-3 rounded-lg border flex flex-col items-center gap-2 transition ${localPrefs.defaultSize === 'expanded' ? 'border-brand-red bg-red-50 text-brand-red' : 'border-gray-100 hover:bg-gray-50 text-gray-600'}`}\n             >\n                <div className=\"w-16 h-10 bg-current opacity-20 rounded border-2 border-current\"></div>\n                <span className=\"text-xs font-bold\">ржмрзЬ</span>\n             </button>\n          </div>\n        </div>\n\n        {/* Section: Autoplay */}\n        <div>\n             <label className=\"flex items-center justify-between p-3 rounded-lg border border-gray-100 hover:bg-gray-50 cursor-pointer\">\n                <span className=\"font-bold text-sm text-gray-800\">ржЕржЯрзЛржкрзНрж▓рзЗ ржкрж░ржмрж░рзНрждрзА ржнрж┐ржбрж┐ржУ</span>\n                <div className={`w-10 h-6 rounded-full p-1 transition-colors ${localPrefs.autoPlayNext ? 'bg-brand-red' : 'bg-gray-300'}`}>\n                    <div className={`w-4 h-4 bg-white rounded-full shadow-sm transform transition-transform ${localPrefs.autoPlayNext ? 'translate-x-4' : 'translate-x-0'}`} />\n                </div>\n                <input \n                  type=\"checkbox\" \n                  className=\"hidden\" \n                  checked={localPrefs.autoPlayNext}\n                  onChange={(e) => setLocalPrefs({...localPrefs, autoPlayNext: e.target.checked})}\n                />\n             </label>\n        </div>\n\n      </div>\n\n      {/* Footer */}\n      <div className=\"p-4 border-t border-gray-100 bg-gray-50\">\n        <button \n          onClick={handleSave}\n          className=\"w-full py-3 bg-brand-red text-white font-bold rounded-lg hover:bg-red-700 transition flex items-center justify-center gap-2\"\n        >\n          <Save size={18} />\n          рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзБржи\n        </button>\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/FloatingVideoPlayer/index.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/FloatingVideoPlayer/index.tsx:44:11\n  42 |           pauseVideo();\n  43 |         } else if (userPreferences.pauseBehavior === 'always-ask') {\n> 44 |           setShowPausePrompt(true);\n     |           ^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  45 |         }\n  46 |       }\n  47 |     }","line":44,"column":11,"nodeType":null,"endLine":44,"endColumn":29},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":75,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":75,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2279,2282],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2279,2282],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":80,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":80,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2490,2493],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2490,2493],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":85,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":85,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2592,2595],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2592,2595],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":91,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":91,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2871,2874],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2871,2874],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":94,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":94,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2949,2952],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2949,2952],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":102,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":102,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3270,3273],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3270,3273],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":103,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":103,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3321,3324],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3321,3324],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":111,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":111,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3509,3512],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3509,3512],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":116,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":116,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3655,3658],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3655,3658],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":134,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":134,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4288,4291],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4288,4291],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":134,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":134,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4310,4313],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4310,4313],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":135,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":135,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4372,4375],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4372,4375],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":143,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":143,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4584,4587],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4584,4587],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":143,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":143,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4606,4609],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4606,4609],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":146,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":146,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4716,4719],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4716,4719],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":146,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":146,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4738,4741],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4738,4741],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'currentVideo', 'onPlayerReady', and 'onPlayerStateChange'. Either include them or remove the dependency array.","line":154,"column":6,"nodeType":"ArrayExpression","endLine":154,"endColumn":25,"suggestions":[{"desc":"Update the dependencies array to be: [currentVideo, currentVideo.url, onPlayerReady, onPlayerStateChange]","fix":{"range":[4979,4998],"text":"[currentVideo, currentVideo.url, onPlayerReady, onPlayerStateChange]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":162,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":162,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5187,5190],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5187,5190],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":164,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":164,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5273,5276],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5273,5276],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":167,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":167,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5546,5549],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5546,5549],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":167,"column":83,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":167,"endColumn":86,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5599,5602],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5599,5602],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":187,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":187,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6531,6534],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6531,6534],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":190,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":190,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6645,6648],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6645,6648],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'currentVideo', 'isPlaying', 'pauseVideo', and 'resumeVideo'. Either include them or remove the dependency array.","line":201,"column":6,"nodeType":"ArrayExpression","endLine":201,"endColumn":25,"suggestions":[{"desc":"Update the dependencies array to be: [currentVideo, currentVideo.url, isPlaying, pauseVideo, resumeVideo]","fix":{"range":[6904,6923],"text":"[currentVideo, currentVideo.url, isPlaying, pauseVideo, resumeVideo]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'currentVideo?.source'. Either include it or remove the dependency array.","line":214,"column":6,"nodeType":"ArrayExpression","endLine":214,"endColumn":26,"suggestions":[{"desc":"Update the dependencies array to be: [isPlaying, isMuted, currentVideo?.source]","fix":{"range":[7268,7288],"text":"[isPlaying, isMuted, currentVideo?.source]"}}]}],"suppressedMessages":[],"errorCount":23,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useEffect, useState, useRef } from 'react';\nimport { useVideoPlayer } from '@/contexts/VideoPlayerContext';\nimport { usePathname } from 'next/navigation';\nimport PausePromptModal from './PausePromptModal';\nimport SettingsPanel from './SettingsPanel';\nimport { X, Maximize2, Minimize2, Settings as SettingsIcon, Volume2, VolumeX } from 'lucide-react';\nimport { clsx } from 'clsx';\n\nexport default function FloatingVideoPlayer() {\n  const {\n    currentVideo,\n    isPlaying,\n    isMinimized,\n    position,\n    showPlayer,\n    userPreferences,\n    pauseVideo,\n    resumeVideo,\n    closePlayer,\n    toggleMinimize,\n    updatePosition,\n    updatePreferences,\n  } = useVideoPlayer();\n\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\n  const [isMuted, setIsMuted] = useState(false);\n  const [showPausePrompt, setShowPausePrompt] = useState(false);\n  const [showSettings, setShowSettings] = useState(false);\n  \n  const pathname = usePathname();\n  const prevPathRef = useRef(pathname);\n\n  // Smart Pause Logic\n  useEffect(() => {\n    if (prevPathRef.current !== pathname) {\n      prevPathRef.current = pathname;\n      if (pathname?.startsWith('/article/') && isPlaying) {\n        if (userPreferences.pauseBehavior === 'auto-pause') {\n          pauseVideo();\n        } else if (userPreferences.pauseBehavior === 'always-ask') {\n          setShowPausePrompt(true);\n        }\n      }\n    }\n  }, [pathname, isPlaying, userPreferences.pauseBehavior, pauseVideo]);\n\n  // Handlers for Pause Prompt\n  const handlePromptPause = () => {\n    pauseVideo();\n    setShowPausePrompt(false);\n  };\n\n  const handlePromptContinue = () => {\n    setShowPausePrompt(false);\n  };\n\n  const handlePromptNeverAsk = () => {\n    updatePreferences({ pauseBehavior: 'auto-pause' }); \n    pauseVideo();\n    setShowPausePrompt(false);\n  };\n\n  const formatTime = (seconds: number) => {\n      const min = Math.floor(seconds / 60);\n      const sec = Math.floor(seconds % 60);\n      return `${min}:${sec < 10 ? '0' : ''}${sec}`;\n  };\n\n  const iframeRef = useRef<HTMLIFrameElement>(null);\n  const clickStartTimeRef = useRef<number>(0);\n  const startPosRef = useRef<{x: number, y: number}>({x: 0, y: 0});\n  const playerRef = useRef<any>(null); // YT.Player instance\n  const [progress, setProgress] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [currentTime, setCurrentTime] = useState(0);\n\n  const fbPlayerRef = useRef<any>(null);\n\n  // Load YouTube & Facebook APIs\n  useEffect(() => {\n    // YouTube\n    if (!(window as any).YT) {\n      const tag = document.createElement('script');\n      tag.src = \"https://www.youtube.com/iframe_api\";\n      const firstScriptTag = document.getElementsByTagName('script')[0];\n      firstScriptTag.parentNode?.insertBefore(tag, firstScriptTag);\n    }\n    (window as any).onYouTubeIframeAPIReady = () => {};\n\n    // Facebook\n    if (!(window as any).FB) {\n        const fbScript = document.createElement('script');\n        fbScript.id = 'facebook-jssdk';\n        fbScript.src = \"https://connect.facebook.net/en_US/sdk.js\";\n        const fjs = document.getElementsByTagName('script')[0];\n        fjs.parentNode?.insertBefore(fbScript, fjs);\n    }\n    \n    (window as any).fbAsyncInit = function() {\n        (window as any).FB.init({\n          xfbml      : true,\n          version    : 'v18.0'\n        });\n        // Auto-detect if there's a pending player\n    };\n  }, []);\n\n  const onPlayerReady = (event: any) => {\n     if (isPlaying) event.target.playVideo();\n     setDuration(event.target.getDuration());\n  };\n\n  const onPlayerStateChange = (event: any) => {\n     // Sync Play/Pause state with context if it changes externally (e.g. end of video)\n     // 1 = Playing, 2 = Paused, 0 = Ended\n     if (event.data === 1 && !isPlaying) resumeVideo();\n     if (event.data === 2 && isPlaying) pauseVideo();\n     if (event.data === 0) {\n        // Ended\n        if (userPreferences.autoPlayNext) {\n           // Logic to play next video\n        }\n     }\n  };\n\n  // Initialize YT Player\n  useEffect(() => {\n    if (!currentVideo || currentVideo.source !== 'youtube' || !iframeRef.current) return;\n    // ... (YT Init Logic same as before)\n    const initPlayer = () => {\n      if ((window as any).YT && (window as any).YT.Player) {\n         playerRef.current = new (window as any).YT.Player(iframeRef.current, {\n            events: {\n               'onReady': onPlayerReady,\n               'onStateChange': onPlayerStateChange\n            }\n         });\n      }\n    };\n    if ((window as any).YT && (window as any).YT.Player) initPlayer();\n    else {\n       const interval = setInterval(() => {\n          if ((window as any).YT && (window as any).YT.Player) {\n             initPlayer();\n             clearInterval(interval);\n          }\n       }, 100);\n       return () => clearInterval(interval);\n    }\n    return () => { if (playerRef.current) playerRef.current.destroy(); };\n  }, [currentVideo?.url]);\n\n\n  // Initialize Facebook Player\n  useEffect(() => {\n      if (!currentVideo || currentVideo.source !== 'facebook') return;\n\n      const initFBPlayer = () => {\n          if ((window as any).FB) {\n              // Parse XFBML to render the player\n              (window as any).FB.XFBML.parse(document.getElementById('fb-player-container'), () => {\n                  // After parsing, try to get the player instance? \n                  // FB API is tricky. We subscribe to events globally or via 'FB.Event.subscribe'\n                  (window as any).FB.Event.subscribe('xfbml.ready', function(msg: any) {\n                      if (msg.type === 'video' && msg.id === currentVideo.url) {\n                          fbPlayerRef.current = msg.instance;\n                          \n                          // Subscribe to events\n                          msg.instance.subscribe('startedPlaying', () => resumeVideo()); // Update context\n                          msg.instance.subscribe('paused', () => pauseVideo()); // Update context\n                          msg.instance.subscribe('finishedPlaying', () => { /* Handle End */ });\n                          \n                          // Initial Play if needed\n                          if (isPlaying) msg.instance.play();\n                          \n                          setDuration(msg.instance.getDuration());\n                          setIsMuted(msg.instance.isMuted());\n                      }\n                  });\n              });\n          }\n      };\n\n      if ((window as any).FB) initFBPlayer();\n      else {\n          const interval = setInterval(() => {\n              if ((window as any).FB) {\n                  initFBPlayer();\n                  clearInterval(interval);\n              }\n          }, 100);\n          return () => clearInterval(interval);\n      }\n      \n      return () => {\n          fbPlayerRef.current = null;\n      };\n  }, [currentVideo?.url]);\n\n\n  // Sync Play/Pause/Seek/Mute for FB\n  useEffect(() => {\n      if (!fbPlayerRef.current || currentVideo?.source !== 'facebook') return;\n      \n      if (isPlaying) fbPlayerRef.current.play();\n      else fbPlayerRef.current.pause();\n      \n      if (isMuted) fbPlayerRef.current.mute();\n      else fbPlayerRef.current.unmute();\n      \n  }, [isPlaying, isMuted]);\n  \n  // FB Progress Polling (No built-in timeupdate)\n  useEffect(() => {\n      if (currentVideo?.source !== 'facebook' || !isPlaying || !fbPlayerRef.current) return;\n      \n      const interval = setInterval(() => {\n          const curr = fbPlayerRef.current.getCurrentPosition();\n          const dur = fbPlayerRef.current.getDuration(); // Duration might update later\n          if (dur > 0) {\n              setDuration(dur);\n              setCurrentTime(curr);\n              setProgress((curr / dur) * 100);\n          }\n      }, 1000);\n      return () => clearInterval(interval);\n  }, [isPlaying, currentVideo]);\n\n\n  // Render YouTube helper\n  const renderYouTubePlayer = () => {\n    // ... (Same as before)\n    if (!currentVideo) return null;\n    const videoId = currentVideo.url;\n    return (\n      <iframe\n        id=\"yt-player-iframe\"\n        ref={iframeRef}\n        width=\"100%\"\n        height=\"100%\"\n        src={`https://www.youtube.com/embed/${videoId}?autoplay=0&enablejsapi=1&controls=0&rel=0&modestbranding=1&disablekb=1`}\n        title={currentVideo.title}\n        frameBorder=\"0\"\n        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n        allowFullScreen\n        className=\"w-full h-full pointer-events-none\"\n      />\n    );\n  };\n\n  // Render Facebook Helper\n  const renderFacebookPlayer = () => {\n      if (!currentVideo) return null;\n      // FB Video URL format: https://www.facebook.com/facebook/videos/{VIDEO_ID}/\n      // Or just ID if we construct it. Assuming currentVideo.url is the ID for FB too? \n      // If it's a full URL, we use it directly.\n      const videoHref = `https://www.facebook.com/watch/?v=${currentVideo.url}`; \n      \n      return (\n          <div id=\"fb-player-container\" className=\"w-full h-full bg-black flex items-center justify-center pointer-events-none\">\n              <div \n                  className=\"fb-video\" \n                  data-href={videoHref} \n                  data-width=\"auto\" \n                  data-show-text=\"false\"\n                  data-allowfullscreen=\"true\"\n                  data-controls=\"false\" // We want custom controls, but FB might force its own. 'false' hides minimal controls? \n                  // FB API says data-controls=\"true\" shows native. We might need native if custom seeking is hard?\n                  // Actually, let's try custom controls. \n                  // Pointer events none on container might block interaction, allowing our overlay.\n              ></div>\n          </div>\n      );\n  };\n\n\n  // Drag & Click Handlers\n  const handleMouseDown = (e: React.MouseEvent) => {\n    if ((e.target as HTMLElement).closest('.player-controls') || (e.target as HTMLElement).closest('.settings-panel')) return;\n    \n    e.preventDefault();\n    setIsDragging(true);\n    clickStartTimeRef.current = Date.now();\n    startPosRef.current = { x: e.clientX, y: e.clientY };\n    \n    setDragOffset({\n      x: e.clientX - position.x,\n      y: e.clientY - position.y,\n    });\n    document.body.style.userSelect = 'none';\n  };\n\n  useEffect(() => {\n    if (!isDragging) return;\n    const handleMouseMove = (e: MouseEvent) => {\n      const newX = e.clientX - dragOffset.x;\n      const newY = e.clientY - dragOffset.y;\n      const maxX = window.innerWidth - (isMinimized ? 320 : 640);\n      const maxY = window.innerHeight - (isMinimized ? 180 : 360);\n\n      updatePosition({\n        x: Math.max(0, Math.min(newX, maxX)),\n        y: Math.max(0, Math.min(newY, maxY)),\n      });\n    };\n    \n    const handleMouseUp = (e: MouseEvent) => {\n      // Check for Click (short time, short distance)\n      const duration = Date.now() - clickStartTimeRef.current;\n      const dist = Math.sqrt(Math.pow(e.clientX - startPosRef.current.x, 2) + Math.pow(e.clientY - startPosRef.current.y, 2));\n      \n      if (duration < 200 && dist < 5) {\n        // It's a click! Toggle Play/Pause\n        if (isPlaying) pauseVideo();\n        else resumeVideo();\n      }\n\n      setIsDragging(false);\n      document.body.style.userSelect = '';\n    };\n\n    window.addEventListener('mousemove', handleMouseMove);\n    window.addEventListener('mouseup', handleMouseUp);\n    return () => {\n      window.removeEventListener('mousemove', handleMouseMove);\n      window.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, [isDragging, dragOffset, position, isMinimized, updatePosition, isPlaying, pauseVideo, resumeVideo]);\n\n  // Handle Window Resize (Keep player in bounds)\n  useEffect(() => {\n    const handleResize = () => {\n       const maxX = window.innerWidth - (isMinimized ? 320 : 640);\n       const maxY = window.innerHeight - (isMinimized ? 180 : 360);\n       \n       // If current position is out of bounds, adjust it\n       if (position.x > maxX || position.y > maxY) {\n          updatePosition({\n             x: Math.max(0, Math.min(position.x, maxX)),\n             y: Math.max(0, Math.min(position.y, maxY))\n          });\n       }\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, [position, isMinimized, updatePosition]);\n\n  // Render main player content\n  const renderPlayerContent = () => {\n     if (currentVideo?.source === 'youtube') return renderYouTubePlayer();\n     if (currentVideo?.source === 'facebook') return renderFacebookPlayer();\n     return null;\n  };\n\n  // Keyboard Shortcuts (Updated for generic player)\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (!currentVideo || !showPlayer) return;\n      if (document.activeElement?.tagName === 'INPUT' || document.activeElement?.tagName === 'TEXTAREA') return;\n\n      const seek = (seconds: number) => {\n         // YouTube\n         if (playerRef.current && playerRef.current.getCurrentTime) {\n             const newTime = Math.max(0, Math.min(playerRef.current.getCurrentTime() + seconds, duration));\n             playerRef.current.seekTo(newTime, true);\n             setCurrentTime(newTime);\n         }\n         // Facebook\n         if (fbPlayerRef.current) {\n             const newTime = Math.max(0, Math.min(fbPlayerRef.current.getCurrentPosition() + seconds, duration));\n             fbPlayerRef.current.seek(newTime);\n             setCurrentTime(newTime);\n         }\n      };\n\n      switch(e.code) {\n        case 'Space':\n        case 'k': // YouTube standard\n          e.preventDefault();\n          if (isPlaying) pauseVideo();\n          else resumeVideo();\n          break;\n        case 'ArrowRight':\n          seek(5);\n          break;\n        case 'ArrowLeft':\n          seek(-5);\n          break;\n        case 'KeyM':\n          setIsMuted(prev => !prev);\n          break;\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [currentVideo, showPlayer, isPlaying, duration, pauseVideo, resumeVideo]);\n\n  // Click on Progress Bar (Generalized)\n  const handleSeek = (e: React.MouseEvent<HTMLDivElement>) => {\n      const rect = e.currentTarget.getBoundingClientRect();\n      const clickX = e.clientX - rect.left;\n      const percent = clickX / rect.width;\n      const newTime = percent * duration;\n\n      // YouTube\n      if (playerRef.current) {\n        playerRef.current.seekTo(newTime, true);\n      }\n      // Facebook\n      if (fbPlayerRef.current) {\n        fbPlayerRef.current.seek(newTime);\n      }\n\n      setCurrentTime(newTime);\n      setProgress(percent * 100);\n  };\n\n  if (!showPlayer || !currentVideo) return null;\n\n  const playerWidth = isMinimized ? 320 : 640;\n  const playerHeight = isMinimized ? 180 : 360; \n  \n  if (showPausePrompt) {\n    return (\n      <>\n         <PausePromptModal \n            onPause={handlePromptPause}\n            onContinue={handlePromptContinue}\n            onNeverAsk={handlePromptNeverAsk}\n         />\n         <div\n            className=\"fixed z-[9999] bg-black rounded-xl shadow-2xl overflow-hidden transition-all duration-300 border-2 border-white/10 opacity-50 pointer-events-none\"\n            style={{\n                left: `${position.x}px`,\n                top: `${position.y}px`,\n                width: `${playerWidth}px`,\n                height: `${playerHeight}px`,\n            }}\n         >\n            <div className=\"w-full h-full relative\">\n                {renderPlayerContent()}\n            </div>\n         </div>\n      </>\n    );\n  }\n\n  return (\n    <div\n      className={clsx(\n        \"fixed z-[9999] bg-black rounded-xl shadow-2xl overflow-hidden transition-all duration-300 animate-in fade-in slide-in-from-bottom-4 zoom-in-95\",\n        \"border-2 border-white/10\"\n      )}\n      style={{\n        left: `${position.x}px`,\n        top: `${position.y}px`,\n        width: `${playerWidth}px`,\n        height: `${playerHeight}px`,\n      }}\n    >\n      {/* Video Container */}\n      <div \n         className=\"w-full h-full relative bg-black cursor-move\"\n         onMouseDown={handleMouseDown}\n      >\n        {renderPlayerContent()}\n        \n        {/* Invisible Drag Overlay */}\n        <div \n            className=\"absolute inset-0 bg-transparent\"\n        />\n      </div>\n\n      {/* Settings Panel Overlay */}\n      {showSettings && (\n        <div className=\"settings-panel absolute inset-0 z-20\">\n            <SettingsPanel onClose={() => setShowSettings(false)} />\n        </div>\n      )}\n\n      {/* Control Overlay */}\n      <div className=\"player-controls absolute top-0 left-0 right-0 bg-gradient-to-b from-black/80 to-transparent p-3 opacity-0 hover:opacity-100 transition-opacity z-10\">\n        <div className=\"flex items-center justify-between\">\n          <h4 className=\"text-white text-sm font-bold flex-1 line-clamp-1 mr-2\">\n            {currentVideo.title}\n          </h4>\n\n          <div className=\"flex items-center gap-2 pointer-events-auto\">\n             <button\n               onClick={() => setShowSettings(!showSettings)}\n               className=\"text-white hover:text-brand-red transition p-1 rounded hover:bg-white/10\"\n               title=\"Settings\"\n             >\n               <SettingsIcon size={18} />\n             </button>\n\n            <button\n              onClick={() => setIsMuted(!isMuted)}\n              className=\"text-white hover:text-red-400 transition p-1 rounded hover:bg-white/10\"\n              title={isMuted ? \"Unmute\" : \"Mute\"}\n            >\n              {isMuted ? <VolumeX size={18} /> : <Volume2 size={18} />}\n            </button>\n\n            <button\n              onClick={toggleMinimize}\n              className=\"text-white hover:text-red-400 transition p-1 rounded hover:bg-white/10\"\n              title={isMinimized ? \"Expand\" : \"Minimize\"}\n            >\n              {isMinimized ? <Maximize2 size={18} /> : <Minimize2 size={18} />}\n            </button>\n\n            <button\n              onClick={closePlayer}\n              className=\"text-white hover:text-red-600 transition p-1 rounded hover:bg-white/10\"\n              title=\"Close\"\n            >\n              <X size={18} />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Bottom Controls */}\n      {!isMinimized && (\n        <div className=\"player-controls absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-3 opacity-0 hover:opacity-100 transition-opacity z-10\">\n          <div className=\"flex items-center gap-3 pointer-events-auto\">\n            {/* Play/Pause Button */}\n            <button\n              onClick={isPlaying ? pauseVideo : resumeVideo}\n              className=\"text-white hover:text-brand-red transition\"\n              aria-label={isPlaying ? \"Pause video\" : \"Play video\"}\n            >\n              <div className=\"w-8 h-8 flex items-center justify-center bg-white/20 rounded-full hover:bg-white/30 backdrop-blur-sm\">\n                 {isPlaying ? (\n                    <div className=\"w-3 h-3 bg-white rounded-sm\" />\n                 ) : (\n                    <div className=\"w-0 h-0 border-t-[6px] border-t-transparent border-l-[10px] border-l-white border-b-[6px] border-b-transparent ml-1\" />\n                 )}\n              </div>\n            </button>\n\n            {/* Time Display */}\n            <span className=\"text-white text-xs font-medium tabular-nums\">\n                {formatTime(currentTime)}\n            </span>\n\n            {/* Progress Bar */}\n            <div className=\"flex-1 h-3 flex items-center cursor-pointer group relative\"\n                 onClick={handleSeek}\n            >\n                {/* Track */}\n                <div className=\"w-full h-1 bg-white/30 rounded-full overflow-hidden\">\n                    {/* Fill */}\n                    <div \n                        className=\"h-full bg-brand-red rounded-full relative\" \n                        style={{ width: `${progress}%` }}\n                    />\n                </div>\n                {/* Thumb (visible on hover) */}\n                <div \n                   className=\"absolute h-3 w-3 bg-white rounded-full shadow-lg transform -translate-y-1/2 top-1/2 opacity-0 group-hover:opacity-100 transition-opacity\"\n                   style={{ left: `${progress}%`, marginLeft: '-6px' }}\n                />\n            </div>\n\n            {/* Duration Display */}\n             <span className=\"text-white text-xs font-medium tabular-nums opacity-70\">\n                {formatTime(duration)}\n            </span>\n\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/FontSizeToggle.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/FontSizeToggle.tsx:20:5\n  18 |\n  19 |   useEffect(() => {\n> 20 |     setMounted(true);\n     |     ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  21 |     const saved = (localStorage.getItem(FONT_SIZE_KEY) as FontSize) || \"medium\";\n  22 |     if ([\"small\", \"medium\", \"large\"].includes(saved)) {\n  23 |       setFontSize(saved);","line":20,"column":5,"nodeType":null,"endLine":20,"endColumn":15}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Type } from \"lucide-react\";\n\ntype FontSize = \"small\" | \"medium\" | \"large\";\n\nconst FONT_SIZE_KEY = \"samakal-font-size\";\n\nexport default function FontSizeToggle() {\n  const [fontSize, setFontSize] = useState<FontSize>(\"medium\");\n  const [mounted, setMounted] = useState(false);\n\n  const applyFontSize = (size: FontSize) => {\n    document.documentElement.classList.remove(\"font-size-small\", \"font-size-medium\", \"font-size-large\");\n    document.documentElement.classList.add(`font-size-${size}`);\n  };\n\n  useEffect(() => {\n    setMounted(true);\n    const saved = (localStorage.getItem(FONT_SIZE_KEY) as FontSize) || \"medium\";\n    if ([\"small\", \"medium\", \"large\"].includes(saved)) {\n      setFontSize(saved);\n      applyFontSize(saved);\n    }\n  }, []);\n\n  const handleChange = (size: FontSize) => {\n    setFontSize(size);\n    applyFontSize(size);\n    localStorage.setItem(FONT_SIZE_KEY, size);\n  };\n\n  if (!mounted) return <div className=\"w-[140px] h-10\"></div>;\n\n  return (\n    <div className=\"flex items-center gap-2 bg-white border border-gray-200 rounded-full p-1 shadow-sm\">\n      <span className=\"text-xs text-gray-600 pl-2 hidden sm:inline\">ржЕржХрзНрж╖рж░:</span>\n      <button\n        onClick={() => handleChange(\"small\")}\n        className={`p-2 rounded-full transition ${fontSize === \"small\" ? \"bg-brand-red text-white\" : \"hover:bg-gray-100 text-gray-600\"}`}\n        title=\"ржЫрзЛржЯ\"\n      >\n        <Type size={14} />\n      </button>\n      <button\n        onClick={() => handleChange(\"medium\")}\n        className={`p-2 rounded-full transition ${fontSize === \"medium\" ? \"bg-brand-red text-white\" : \"hover:bg-gray-100 text-gray-600\"}`}\n        title=\"ржорж╛ржЭрж╛рж░рж┐\"\n      >\n        <Type size={16} />\n      </button>\n      <button\n        onClick={() => handleChange(\"large\")}\n        className={`p-2 rounded-full transition ${fontSize === \"large\" ? \"bg-brand-red text-white\" : \"hover:bg-gray-100 text-gray-600\"}`}\n        title=\"ржмржбрж╝\"\n      >\n        <Type size={18} />\n      </button>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/HeroCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/HistoryTracker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/ImageLightbox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/InfiniteLatestNews.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/InstallPrompt.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Download' is defined but never used.","line":4,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":18,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Download"},"fix":{"range":[69,78],"text":""},"desc":"Remove unused variable \"Download\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":7,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[202,205],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[202,205],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":11,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[312,315],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[312,315],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'outcome' is assigned a value but never used.","line":32,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":32,"endColumn":20}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Download, X } from \"lucide-react\";\n\nexport default function InstallPrompt() {\n  const [deferredPrompt, setDeferredPrompt] = useState<any>(null);\n  const [isVisible, setIsVisible] = useState(false);\n\n  useEffect(() => {\n    const handler = (e: any) => {\n      // Prevent the mini-infobar from appearing on mobile\n      e.preventDefault();\n      // Stash the event so it can be triggered later.\n      setDeferredPrompt(e);\n      // Update UI notify the user they can install the PWA\n      setIsVisible(true);\n    };\n\n    window.addEventListener(\"beforeinstallprompt\", handler);\n\n    return () => window.removeEventListener(\"beforeinstallprompt\", handler);\n  }, []);\n\n  const handleInstallClick = async () => {\n    if (!deferredPrompt) return;\n\n    // Show the install prompt\n    deferredPrompt.prompt();\n\n    // Wait for the user to respond to the prompt\n    const { outcome } = await deferredPrompt.userChoice;\n    \n    // We've used the prompt, and can't use it again, throw it away\n    setDeferredPrompt(null);\n    setIsVisible(false);\n  };\n\n  if (!isVisible) return null;\n\n  return (\n    <div className=\"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:w-80 animate-in slide-in-from-bottom-5 fade-in duration-500\">\n      <div className=\"bg-white border border-gray-200 shadow-xl rounded-xl p-4 flex items-center justify-between gap-4\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-10 h-10 bg-brand-red rounded-lg flex items-center justify-center shrink-0\">\n             <span className=\"text-white font-bold text-xl\">S.</span>\n          </div>\n          <div>\n            <h3 className=\"font-bold text-gray-900 text-sm\">Install Samakal App</h3>\n            <p className=\"text-xs text-gray-500\">Faster load times & offline reading.</p>\n          </div>\n        </div>\n        \n        <div className=\"flex items-center gap-2\">\n            <button \n                onClick={handleInstallClick}\n                className=\"bg-brand-red text-white px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-red-700 transition\"\n            >\n                Install\n            </button>\n            <button \n                onClick={() => setIsVisible(false)}\n                className=\"p-1.5 hover:bg-gray-100 rounded-full text-gray-400\"\n            >\n                <X size={16} />\n            </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/JsonLd.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArticleRow' is defined but never used.","line":2,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":20,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"ArticleRow"},"fix":{"range":[1,47],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":16,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[441,444],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[441,444],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nimport { ArticleRow } from \"@/types/database\";\n\ninterface JsonLdProps {\n  article: {\n      title: string;\n      slug: string;\n      image?: string;\n      author?: string; // string vs string[] in row, NewsItem has string\n      date?: string; // display date\n      // We might need raw dates for valid schema\n      published_at?: string; \n      updated_at?: string;\n      category?: string;\n      sub_headline?: string;\n      [key: string]: any;\n  };\n}\n\nexport default function JsonLd({ article }: JsonLdProps) {\n  const jsonLd = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"NewsArticle\",\n    \"headline\": article.title,\n    \"image\": [\n      (article.image && article.image !== '/placeholder.svg' ? article.image : (process.env.NEXT_PUBLIC_BASE_URL + '/samakal-logo.png'))\n    ],\n    \"datePublished\": article.date || new Date().toISOString(), // Fallback\n    \"dateModified\": article.date || new Date().toISOString(),\n    \"author\": [{\n      \"@type\": \"Person\",\n      \"name\": article.author || \"Samakal Reporter\",\n      \"url\": process.env.NEXT_PUBLIC_BASE_URL\n    }],\n    \"publisher\": {\n      \"@type\": \"Organization\",\n      \"name\": \"Samakal\",\n      \"logo\": {\n        \"@type\": \"ImageObject\",\n        \"url\": process.env.NEXT_PUBLIC_BASE_URL + '/samakal-logo.png'\n      }\n    },\n    // Optional: Add description if available, otherwise use a snippet\n    \"description\": article.sub_headline || `News about ${article.category}`,\n    \"mainEntityOfPage\": {\n        \"@type\": \"WebPage\",\n        \"@id\": `${process.env.NEXT_PUBLIC_BASE_URL}/article/${article.slug}`\n    }\n  };\n\n  return (\n    <script\n      type=\"application/ld+json\"\n      dangerouslySetInnerHTML={{ __html: JSON.stringify(jsonLd) }}\n    />\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/LatestSidebarWidget.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'clsx' is defined but never used.","line":5,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":14,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"clsx"},"fix":{"range":[86,114],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport Link from 'next/link';\nimport { NewsItem } from \"@/types/news\";\nimport { clsx } from 'clsx';\n\ninterface LatestSidebarWidgetProps {\n  news: NewsItem[];\n}\n\n// Bangla digit converter\nimport { toBanglaDigits } from \"@/utils/bn\";\n\n// Mock relative time generator (since mock data doesn't have real timestamps)\n// In a real app, this would use date-fns/moment to diff current time vs published time\nconst getRelativeTime = (index: number): string => {\n  if (index === 0) return 'рззрзж ржорж┐ржирж┐ржЯ ржЖржЧрзЗ';\n  if (index === 1) return 'рзйрзи ржорж┐ржирж┐ржЯ ржЖржЧрзЗ';\n  if (index === 2) return 'рзз ржШржгрзНржЯрж╛ ржЖржЧрзЗ';\n  if (index === 3) return 'рзи ржШржгрзНржЯрж╛ ржЖржЧрзЗ';\n  if (index === 4) return 'рзй ржШржгрзНржЯрж╛ ржЖржЧрзЗ';\n  return `${toBanglaDigits(index + 1)} ржШржгрзНржЯрж╛ ржЖржЧрзЗ`;\n};\n\nexport default function LatestSidebarWidget({ news }: LatestSidebarWidgetProps) {\n  return (\n    <div className=\"flex flex-col gap-6\">\n      {/* Header */}\n      <div className=\"flex items-center gap-2 mb-4 border-b-2 border-brand-gold dark:border-brand-gold/50 pb-2\">\n        <span className=\"w-2 h-2 rounded-full bg-brand-red\"></span>\n        <h2 className=\"text-xl font-bold text-gray-800 dark:text-gray-200\">рж╕рж░рзНржмрж╢рзЗрж╖</h2>\n      </div>\n\n      {/* News List Container with Scroll */}\n      <div className=\"h-[480px] overflow-y-auto pr-2 custom-scrollbar\">\n        <div className=\"flex flex-col gap-0 divide-y divide-gray-100 dark:divide-gray-800\">\n        {news.map((item, index) => (\n          <Link \n            key={item.id} \n            href={`/article/${item.id}`}\n            className=\"group flex gap-3 py-4 items-start border-b border-gray-100 dark:border-gray-800 last:border-0\"\n          >\n            {/* Number */}\n            <span className=\"text-3xl font-bold text-gray-300 dark:text-gray-700 group-hover:text-brand-red transition-colors font-serif leading-none mt-1\">\n              {toBanglaDigits(index + 1)}\n            </span>\n            \n            <div>\n              <h3 className=\"text-lg font-medium text-gray-800 dark:text-gray-200 group-hover:text-brand-red leading-snug\">\n                {item.title}\n              </h3>\n              <span className=\"text-xs text-gray-400 dark:text-gray-500 mt-1 block\">\n                  {getRelativeTime(index)}\n              </span>\n            </div>\n          </Link>\n        ))}\n        </div>\n      </div>\n\n      {/* Footer Button */}\n      <Link \n        href=\"/category/latest\" \n        className=\"w-full py-2 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 font-bold rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition text-sm block text-center\"\n      >\n        рж╕ржм ржЦржмрж░ ржкрзЬрзБржи\n      </Link>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/MobileMenu.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'isOpen' and 'onClose'. Either include them or remove the dependency array. If 'onClose' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":64,"column":6,"nodeType":"ArrayExpression","endLine":64,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [isOpen, onClose, pathname]","fix":{"range":[1920,1930],"text":"[isOpen, onClose, pathname]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { X, ChevronRight } from 'lucide-react';\nimport { clsx } from 'clsx';\n\ninterface MobileMenuProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\ntype NavItem = {\n  label: string;\n  href: string;\n  subItems?: { label: string; href: string }[];\n};\n\nconst NAV_ITEMS: NavItem[] = [\n  { label: \"рж╕рж░рзНржмрж╢рзЗрж╖\", href: \"/category/latest\" },\n  { label: \"рж░рж╛ржЬржирзАрждрж┐\", href: \"/category/politics\" },\n  { label: \"рж░рж╛ржЬржзрж╛ржирзА\", href: \"/category/capital\" },\n  { \n    label: \"рж╕рж╛рж░рж╛ржжрзЗрж╢\", \n    href: \"/category/bangladesh\",\n    subItems: [\n       { label: \"ржврж╛ржХрж╛\", href: \"/category/dhaka\" },\n       { label: \"ржЪржЯрзНржЯржЧрзНрж░рж╛ржо\", href: \"/category/chattogram\" },\n       { label: \"рж░рж╛ржЬрж╢рж╛рж╣рзА\", href: \"/category/rajshahi\" },\n       { label: \"ржЦрзБрж▓ржирж╛\", href: \"/category/khulna\" },\n    ]\n  },\n  { label: \"ржЕржкрж░рж╛ржз\", href: \"/category/crime\" },\n  { label: \"ржмрж┐рж╢рзНржм\", href: \"/category/world\" },\n  { label: \"ржмрж╛ржгрж┐ржЬрзНржп\", href: \"/category/business\" },\n  { label: \"ржЦрзЗрж▓рж╛\", href: \"/category/sports\" },\n  { label: \"ржмрж┐ржирзЛржжржи\", href: \"/category/entertainment\" },\n  { label: \"ржнрж┐ржбрж┐ржУ\", href: \"/video\" },\n  { label: \"ржЫржмрж┐\", href: \"/photo\" },\n  { \n      label: \"ржЕржирзНржпрж╛ржирзНржп\", \n      href: \"#\",\n      subItems: [\n        { label: \"ржЪрждрзБрж░ржЩрзНржЧ\", href: \"/category/chaturanga\" },\n        { label: \"ржирж╛рж░рзА ржжрж┐ржмрж╕\", href: \"/category/nari-dibos\" },\n        { label: \"рж╕рж╛рж╣рж┐рждрзНржп ржУ рж╕ржВрж╕рзНржХрзГрждрж┐\", href: \"/category/literature\" },\n        { label: \"ржЖрж░рзНржХрж╛ржЗржн\", href: \"/archive\" },\n        { label: \"ржорждрж╛ржоржд\", href: \"/category/opinion\" },\n        { label: \"ржЪрж╛ржХрж░рж┐\", href: \"/category/jobs\" },\n      ]\n  },\n];\n\nexport default function MobileMenu({ isOpen, onClose }: MobileMenuProps) {\n  const pathname = usePathname();\n  const [expandedItem, setExpandedItem] = useState<string | null>(null);\n\n  // Close menu on route change\n  useEffect(() => {\n    if (isOpen) {\n      onClose();\n    }\n  }, [pathname]);\n\n  // Prevent body scroll when menu is open\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = '';\n    }\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [isOpen]);\n\n  return (\n    <>\n      {/* Backdrop */}\n      <div\n        className={clsx(\n          \"fixed inset-0 bg-black/50 z-100 transition-opacity duration-300\",\n          isOpen ? \"opacity-100 pointer-events-auto\" : \"opacity-0 pointer-events-none\"\n        )}\n        onClick={onClose}\n        aria-hidden=\"true\"\n      />\n\n      {/* Drawer */}\n      <div\n        className={clsx(\n          \"fixed top-0 right-0 bottom-0 w-[85%] max-w-sm bg-white z-101 shadow-2xl transform transition-transform duration-300 ease-in-out\",\n          isOpen ? \"translate-x-0\" : \"translate-x-full\"\n        )}\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-label=\"Mobile navigation menu\"\n      >\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\n          <h2 className=\"text-xl font-bold text-gray-900\">ржорзЗржирзБ</h2>\n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-gray-100 rounded-full transition\"\n            aria-label=\"Close menu\"\n          >\n            <X size={24} />\n          </button>\n        </div>\n\n        {/* Login Link (Mobile) */}\n        <div className=\"px-4 py-2 border-b border-gray-100 bg-gray-50 flex items-center justify-between\">\n            <span className=\"text-sm text-gray-500\">ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ</span>\n            <Link href=\"/admin/login\" className=\"text-sm font-bold text-brand-red hover:underline flex items-center gap-1\">\n                рж▓ржЧржЗржи\n            </Link>\n        </div>\n\n        {/* Navigation Links */}\n        <nav className=\"overflow-y-auto h-[calc(100%-72px)] p-4\">\n          <ul className=\"space-y-1\">\n            {NAV_ITEMS.map((item) => {\n              const isActive = pathname === item.href;\n              const isExpanded = expandedItem === item.label;\n              const hasSub = !!item.subItems;\n\n              return (\n                <li key={item.label}>\n                  <div className=\"flex items-center\">\n                    <Link\n                      href={item.href}\n                      className={clsx(\n                        \"flex-1 px-4 py-3 rounded-lg transition-colors font-medium\",\n                        isActive\n                          ? \"bg-brand-red text-white\"\n                          : \"text-gray-700 hover:bg-gray-100\"\n                      )}\n                    >\n                      {item.label}\n                    </Link>\n                    \n                    {hasSub && (\n                      <button\n                        onClick={() => setExpandedItem(isExpanded ? null : item.label)}\n                        className=\"p-3 hover:bg-gray-100 rounded-lg ml-1\"\n                        aria-label={`Toggle ${item.label} submenu`}\n                        aria-expanded={isExpanded}\n                      >\n                        <ChevronRight\n                          size={18}\n                          className={clsx(\n                            \"transition-transform\",\n                            isExpanded && \"rotate-90\"\n                          )}\n                        />\n                      </button>\n                    )}\n                  </div>\n\n                  {/* Sub-items */}\n                  {hasSub && isExpanded && (\n                    <ul className=\"ml-4 mt-1 space-y-1 border-l-2 border-gray-200 pl-4\">\n                      {item.subItems?.map((subItem) => (\n                        <li key={subItem.label}>\n                          <Link\n                            href={subItem.href}\n                            className=\"block px-4 py-2 text-sm text-gray-600 hover:text-brand-red hover:bg-gray-50 rounded-lg transition\"\n                          >\n                            {subItem.label}\n                          </Link>\n                        </li>\n                      ))}\n                    </ul>\n                  )}\n                </li>\n              );\n            })}\n          </ul>\n        </nav>\n      </div>\n    </>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/MostReadWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/NativeAd.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/NewsUpdater.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/NotificationManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/NotificationSender.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/PageTransition.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/PhotoSlider.tsx","messages":[{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`nextSlide` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\n/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/PhotoSlider.tsx:38:9\n  36 |   useEffect(() => {\n  37 |     const timer = setInterval(() => {\n> 38 |         nextSlide();\n     |         ^^^^^^^^^ `nextSlide` accessed before it is declared\n  39 |     }, 5000);\n  40 |     return () => clearInterval(timer);\n  41 |   }, [currentIndex]);\n\n/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/PhotoSlider.tsx:43:3\n  41 |   }, [currentIndex]);\n  42 |\n> 43 |   const nextSlide = () => {\n     |   ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 44 |     setCurrentIndex((prev) => (prev + 1) % PHOTOS.length);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 45 |   };\n     | ^^^^^ `nextSlide` is declared here\n  46 |\n  47 |   const prevSlide = () => {\n  48 |     setCurrentIndex((prev) => (prev - 1 + PHOTOS.length) % PHOTOS.length);","line":38,"column":9,"nodeType":null,"endLine":38,"endColumn":18}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport Image from 'next/image';\nimport { ChevronLeft, ChevronRight, Camera } from 'lucide-react';\nimport { clsx } from 'clsx';\n\nconst PHOTOS = [\n  {\n    id: 1,\n    url: \"https://images.unsplash.com/photo-1542206395-9feb3edaa68d?q=80&w=1000&auto=format&fit=crop\",\n    title: \"ржЛрждрзБ ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ ржкрж╛рж▓рж╛: рж╢рзАрждрзЗрж░ ржЖржЧржоржи\",\n    photographer: \"ржЖрж╣ржорзЗржж рж░рж┐рзЯрж╛ржЬ\",\n    location: \"ржмрж╛ржирзНржжрж░ржмрж╛ржи, ржмрж╛ржВрж▓рж╛ржжрзЗрж╢\"\n  },\n  {\n    id: 2,\n    url: \"https://images.unsplash.com/photo-1596464716127-f9a826e0be5a?q=80&w=1000&auto=format&fit=crop\",\n    title: \"рж╢рж╣рж░рзЗрж░ ржЬрзНржпрж╛ржо: ржирж┐рждрзНржпржжрж┐ржирзЗрж░ рж╕ржЩрзНржЧрзА\",\n    photographer: \"рж╣рж╛рж╕рж╛ржи ржорж╛рж╣ржорзБржж\",\n    location: \"ржЧрзБрж▓рж┐рж╕рзНрждрж╛ржи, ржврж╛ржХрж╛\"\n  },\n  {\n    id: 3,\n    url: \"https://images.unsplash.com/photo-1601758124510-52d02ddb7cbd?q=80&w=1000&auto=format&fit=crop\",\n    title: \"ржкржжрзНржорж╛ рж╕рзЗрждрзБ: рж╕рзНржмржкрзНржирзЗрж░ рж╕рзЗрждрзБ\",\n    photographer: \"ржХрж╛ржорж░рзБрж▓ рж╣рж╛рж╕рж╛ржи\",\n    location: \"ржорж╛ржУржпрж╝рж╛, ржорзБржирзНрж╕рж┐ржЧржЮрзНржЬ\"\n  }\n];\n\nexport default function PhotoSlider() {\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  // Auto-play\n  useEffect(() => {\n    const timer = setInterval(() => {\n        nextSlide();\n    }, 5000);\n    return () => clearInterval(timer);\n  }, [currentIndex]);\n\n  const nextSlide = () => {\n    setCurrentIndex((prev) => (prev + 1) % PHOTOS.length);\n  };\n\n  const prevSlide = () => {\n    setCurrentIndex((prev) => (prev - 1 + PHOTOS.length) % PHOTOS.length);\n  };\n\n  const currentPhoto = PHOTOS[currentIndex];\n\n  return (\n    <div className=\"relative w-full h-[60vh] md:h-[80vh] bg-black overflow-hidden group\">\n      \n      {/* Background Image (Blurred for ambiance) */}\n      <div className=\"absolute inset-0 opacity-50 blur-xl scale-110 transition-all duration-1000 ease-linear\"\n        style={{ backgroundImage: `url(${currentPhoto.url})`, backgroundSize: 'cover' }}\n      />\n      \n      {/* Main Slide Image */}\n      <div className=\"absolute inset-0 flex items-center justify-center\">\n         <div className=\"relative w-full h-full md:w-[90%] md:h-[90%] overflow-hidden shadow-2xl transition-all duration-700 ease-out\">\n            <Image \n                src={currentPhoto.url} \n                alt={currentPhoto.title} \n                fill \n                className=\"object-cover md:object-contain transition-transform duration-[10s] hover:scale-105\"\n                priority\n            />\n         </div>\n      </div>\n\n      {/* Overlay Content */}\n      <div className=\"absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/90 to-transparent p-6 md:p-12 text-white\">\n         <div className=\"container mx-auto\">\n             <div className=\"flex items-center gap-2 mb-2 animate-fade-in-up\">\n                 <Camera size={16} className=\"text-red-500\" />\n                 <span className=\"text-xs md:text-sm font-bold uppercase tracking-wider text-red-400\">ржЪрж┐рждрзНрж░ржЧрж▓рзНржк</span>\n             </div>\n             <h1 className=\"text-2xl md:text-5xl font-bold leading-tight mb-2 animate-fade-in-up delay-100\">\n                 {currentPhoto.title}\n             </h1>\n             <p className=\"text-gray-300 text-sm animate-fade-in-up delay-200\">\n                 ржЫржмрж┐: {currentPhoto.photographer} | рж╕рзНржерж╛ржи: {currentPhoto.location}\n             </p>\n         </div>\n      </div>\n\n      {/* Controls */}\n      <button \n        onClick={prevSlide}\n        className=\"absolute top-1/2 left-4 -translate-y-1/2 w-12 h-12 rounded-full bg-white/10 backdrop-blur hover:bg-white/20 flex items-center justify-center text-white transition opacity-0 group-hover:opacity-100\"\n      >\n        <ChevronLeft size={24} />\n      </button>\n\n      <button \n        onClick={nextSlide}\n        className=\"absolute top-1/2 right-4 -translate-y-1/2 w-12 h-12 rounded-full bg-white/10 backdrop-blur hover:bg-white/20 flex items-center justify-center text-white transition opacity-0 group-hover:opacity-100\"\n      >\n        <ChevronRight size={24} />\n      </button>\n\n      {/* Dots */}\n      <div className=\"absolute top-4 right-4 flex gap-2\">\n         {PHOTOS.map((_, idx) => (\n             <button \n                key={idx}\n                onClick={() => setCurrentIndex(idx)}\n                className={clsx(\n                    \"w-2 h-2 rounded-full transition-all duration-300\",\n                    idx === currentIndex ? \"bg-red-500 w-6\" : \"bg-white/50 hover:bg-white\"\n                )}\n             />\n         ))}\n      </div>\n\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/RecommendedFeed.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/ScrollReveal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/SearchOverlay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/ServiceWorkerRegistration.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/ShareButtons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/Sidebar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'hideLatestTab' is assigned a value but never used.","line":16,"column":62,"nodeType":"Identifier","messageId":"unusedVar","endLine":16,"endColumn":75}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { NewsItem } from \"@/types/news\";\nimport MostReadWidget from '@/components/MostReadWidget';\nimport SocialVideoWidget from '@/components/SocialVideoWidget';\nimport AdSlot from '@/components/AdSlot';\nimport { NativeAdCompact } from '@/components/NativeAd';\n\ninterface SidebarProps {\n  opinionNews: NewsItem[];\n  mostReadNews: NewsItem[];\n  hideLatestTab?: boolean;\n  hideOpinion?: boolean;\n}\n\nexport default function Sidebar({ opinionNews, mostReadNews, hideLatestTab = false, hideOpinion = false }: SidebarProps) {\n  return (\n    <aside className=\"space-y-8\">\n      \n      {/* 1. Sticky Rectangle Ad - High value position */}\n      {/* 1. Rectangle Ad - High value position */}\n      <div className=\"mb-8\">\n        <AdSlot slotId=\"sidebar-rectangle-sticky\" format=\"rectangle\" />\n      </div>\n\n      {/* 2. MOST READ WIDGET */}\n      <MostReadWidget \n        opinionNews={opinionNews} \n        mostReadNews={mostReadNews}\n        hideOpinion={hideOpinion}\n      />\n\n      {/* 3. Native Ad Compact - Blends with content */}\n      <NativeAdCompact \n        title=\"рж╕рзЗрж░рж╛ ржбрж┐рж▓ ржПржЦржи ржЪрж▓ржЫрзЗ - ржжрзНрж░рзБржд ржХрж┐ржирзБржи\"\n        image=\"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=200\"\n        url=\"#\"\n        sponsor=\"ShopBD\"\n      />\n\n      {/* 4. FACEBOOK LIVE & YOUTUBE */}\n      <SocialVideoWidget />\n\n    </aside>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/Skeletons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/SkipToContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/SocialVideoWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/StaggerWrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/StructuredData.tsx","messages":[{"ruleId":"@next/next/no-before-interactive-script-outside-document","severity":1,"message":"`next/script`'s `beforeInteractive` strategy should not be used outside of `pages/_document.js`. See: https://nextjs.org/docs/messages/no-before-interactive-script-outside-document","line":88,"column":5,"nodeType":"JSXOpeningElement","endLine":93,"endColumn":7}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import Script from 'next/script';\n\ninterface NewsArticleSchema {\n  headline: string;\n  description: string;\n  image: string;\n  datePublished: string;\n  dateModified?: string;\n  author: {\n    name: string;\n  };\n  publisher: {\n    name: string;\n    logo: string;\n  };\n  url?: string;\n}\n\ninterface BreadcrumbItem {\n  name: string;\n  url: string;\n}\n\ninterface StructuredDataProps {\n  type: 'NewsArticle' | 'BreadcrumbList' | 'Organization';\n  data: NewsArticleSchema | BreadcrumbItem[] | object;\n}\n\nexport default function StructuredData({ type, data }: StructuredDataProps) {\n  let schema: object = {};\n\n  if (type === 'NewsArticle') {\n    const article = data as NewsArticleSchema;\n    schema = {\n      '@context': 'https://schema.org',\n      '@type': 'NewsArticle',\n      headline: article.headline,\n      description: article.description,\n      image: article.image,\n      datePublished: article.datePublished,\n      dateModified: article.dateModified || article.datePublished,\n      author: {\n        '@type': 'Person',\n        name: article.author.name,\n      },\n      publisher: {\n        '@type': 'Organization',\n        name: article.publisher.name,\n        logo: {\n          '@type': 'ImageObject',\n          url: article.publisher.logo,\n        },\n      },\n      mainEntityOfPage: {\n        '@type': 'WebPage',\n        '@id': article.url || 'https://samakal.com',\n      },\n    };\n  } else if (type === 'BreadcrumbList') {\n    const breadcrumbs = data as BreadcrumbItem[];\n    schema = {\n      '@context': 'https://schema.org',\n      '@type': 'BreadcrumbList',\n      itemListElement: breadcrumbs.map((item, index) => ({\n        '@type': 'ListItem',\n        position: index + 1,\n        name: item.name,\n        item: item.url,\n      })),\n    };\n  } else if (type === 'Organization') {\n    schema = {\n      '@context': 'https://schema.org',\n      '@type': 'Organization',\n      name: 'рж╕ржоржХрж╛рж▓',\n      alternateName: 'Samakal',\n      url: 'https://samakal.com',\n      logo: 'https://samakal.com/samakal-logo.png',\n      sameAs: [\n        'https://www.facebook.com/samakal',\n        'https://twitter.com/samakal',\n        'https://www.youtube.com/samakal',\n      ],\n    };\n  }\n\n  return (\n    <Script\n      id={`structured-data-${type}`}\n      type=\"application/ld+json\"\n      dangerouslySetInnerHTML={{ __html: JSON.stringify(schema) }}\n      strategy=\"beforeInteractive\"\n    />\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/ThemeProvider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/ThemeToggle.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/ThemeToggle.tsx:13:5\n  11 |   // useEffect only runs on the client, so now we can safely show the UI\n  12 |   useEffect(() => {\n> 13 |     setMounted(true);\n     |     ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  14 |   }, []);\n  15 |\n  16 |   if (!mounted) {","line":13,"column":5,"nodeType":null,"endLine":13,"endColumn":15}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { Moon, Sun } from \"lucide-react\";\nimport { useTheme } from \"next-themes\";\nimport { useEffect, useState } from \"react\";\n\nexport default function ThemeToggle() {\n  const { theme, setTheme } = useTheme();\n  const [mounted, setMounted] = useState(false);\n\n  // useEffect only runs on the client, so now we can safely show the UI\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  if (!mounted) {\n    return (\n      <button\n        className=\"p-2 rounded-full bg-gray-100 dark:bg-gray-800 transition-colors\"\n        aria-label=\"Toggle theme\"\n      >\n        <div className=\"w-5 h-5\" />\n      </button>\n    );\n  }\n\n  return (\n    <button\n      onClick={() => setTheme(theme === \"dark\" ? \"light\" : \"dark\")}\n      className=\"p-2 rounded-full bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-300 hover:scale-110 active:scale-95\"\n      aria-label=\"Toggle theme\"\n    >\n      {theme === \"dark\" ? (\n        <Sun size={20} className=\"text-yellow-500\" />\n      ) : (\n        <Moon size={20} className=\"text-gray-700 dark:text-gray-300\" />\n      )}\n    </button>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/TrafficTracker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/VideoBentoGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/ViewTracker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/admin/dashboard/AiInsights.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":22,"column":13,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[1208,1324],"text":"\n            &quot;Dhaka Metro Rail\" search volume increased by 400% in last hour. Consider writing an update.\n          "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[1208,1324],"text":"\n            &ldquo;Dhaka Metro Rail\" search volume increased by 400% in last hour. Consider writing an update.\n          "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[1208,1324],"text":"\n            &#34;Dhaka Metro Rail\" search volume increased by 400% in last hour. Consider writing an update.\n          "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[1208,1324],"text":"\n            &rdquo;Dhaka Metro Rail\" search volume increased by 400% in last hour. Consider writing an update.\n          "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":22,"column":30,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[1208,1324],"text":"\n            \"Dhaka Metro Rail&quot; search volume increased by 400% in last hour. Consider writing an update.\n          "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[1208,1324],"text":"\n            \"Dhaka Metro Rail&ldquo; search volume increased by 400% in last hour. Consider writing an update.\n          "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[1208,1324],"text":"\n            \"Dhaka Metro Rail&#34; search volume increased by 400% in last hour. Consider writing an update.\n          "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[1208,1324],"text":"\n            \"Dhaka Metro Rail&rdquo; search volume increased by 400% in last hour. Consider writing an update.\n          "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":32,"column":26,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[1868,1969],"text":"\n            Your article &quot;Budget 2026\" is ranking #4. Add keyword \"Tax Rebate\" to hit #1.\n          "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[1868,1969],"text":"\n            Your article &ldquo;Budget 2026\" is ranking #4. Add keyword \"Tax Rebate\" to hit #1.\n          "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[1868,1969],"text":"\n            Your article &#34;Budget 2026\" is ranking #4. Add keyword \"Tax Rebate\" to hit #1.\n          "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[1868,1969],"text":"\n            Your article &rdquo;Budget 2026\" is ranking #4. Add keyword \"Tax Rebate\" to hit #1.\n          "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":32,"column":38,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[1868,1969],"text":"\n            Your article \"Budget 2026&quot; is ranking #4. Add keyword \"Tax Rebate\" to hit #1.\n          "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[1868,1969],"text":"\n            Your article \"Budget 2026&ldquo; is ranking #4. Add keyword \"Tax Rebate\" to hit #1.\n          "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[1868,1969],"text":"\n            Your article \"Budget 2026&#34; is ranking #4. Add keyword \"Tax Rebate\" to hit #1.\n          "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[1868,1969],"text":"\n            Your article \"Budget 2026&rdquo; is ranking #4. Add keyword \"Tax Rebate\" to hit #1.\n          "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":32,"column":67,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[1868,1969],"text":"\n            Your article \"Budget 2026\" is ranking #4. Add keyword &quot;Tax Rebate\" to hit #1.\n          "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[1868,1969],"text":"\n            Your article \"Budget 2026\" is ranking #4. Add keyword &ldquo;Tax Rebate\" to hit #1.\n          "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[1868,1969],"text":"\n            Your article \"Budget 2026\" is ranking #4. Add keyword &#34;Tax Rebate\" to hit #1.\n          "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[1868,1969],"text":"\n            Your article \"Budget 2026\" is ranking #4. Add keyword &rdquo;Tax Rebate\" to hit #1.\n          "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":32,"column":78,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[1868,1969],"text":"\n            Your article \"Budget 2026\" is ranking #4. Add keyword \"Tax Rebate&quot; to hit #1.\n          "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[1868,1969],"text":"\n            Your article \"Budget 2026\" is ranking #4. Add keyword \"Tax Rebate&ldquo; to hit #1.\n          "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[1868,1969],"text":"\n            Your article \"Budget 2026\" is ranking #4. Add keyword \"Tax Rebate&#34; to hit #1.\n          "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[1868,1969],"text":"\n            Your article \"Budget 2026\" is ranking #4. Add keyword \"Tax Rebate&rdquo; to hit #1.\n          "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Zap } from 'lucide-react';\n\nexport default function AiInsights() {\n  return (\n    <div className=\"bg-gradient-to-br from-indigo-900 to-purple-900 rounded-2xl shadow-lg p-6 text-white relative overflow-hidden h-full\">\n      <div className=\"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full filter blur-3xl -translate-y-1/2 translate-x-1/2\" />\n      \n      <div className=\"flex items-center gap-2 mb-6\">\n        <div className=\"p-1.5 bg-white/20 rounded-lg\">\n          <Zap size={16} className=\"text-yellow-300\" />\n        </div>\n        <h3 className=\"font-bold\">AI Insights</h3>\n      </div>\n\n      <div className=\"space-y-4\">\n        <div className=\"bg-white/10 p-4 rounded-xl backdrop-blur-sm border border-white/10 transition hover:bg-white/15 cursor-pointer group\">\n          <div className=\"flex justify-between items-start mb-1\">\n             <h4 className=\"text-sm font-bold text-yellow-300\">Trending Topic Alert</h4>\n             <span className=\"bg-yellow-500/20 text-yellow-200 text-[10px] px-1.5 py-0.5 rounded uppercase font-bold tracking-wider\">High</span>\n          </div>\n          <p className=\"text-xs text-gray-300 leading-relaxed group-hover:text-white transition-colors\">\n            \"Dhaka Metro Rail\" search volume increased by 400% in last hour. Consider writing an update.\n          </p>\n          <button className=\"mt-3 w-full py-2 bg-white/20 hover:bg-white/30 rounded text-xs font-bold transition flex items-center justify-center gap-2\">\n             <Zap size={12} fill=\"currentColor\" /> Draft Story\n          </button>\n        </div>\n\n         <div className=\"bg-white/10 p-4 rounded-xl backdrop-blur-sm border border-white/10 transition hover:bg-white/15 cursor-pointer\">\n          <h4 className=\"text-sm font-bold text-green-300 mb-1\">SEO Opportunity</h4>\n          <p className=\"text-xs text-gray-300 leading-relaxed\">\n            Your article \"Budget 2026\" is ranking #4. Add keyword \"Tax Rebate\" to hit #1.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/admin/dashboard/PulseWidget.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useMemo' is defined but never used.","line":3,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":17,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"useMemo"},"fix":{"range":[15,47],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'XAxis' is defined but never used.","line":4,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":32,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"XAxis"},"fix":{"range":[72,79],"text":""},"desc":"Remove unused variable \"XAxis\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'YAxis' is defined but never used.","line":4,"column":34,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":39,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"YAxis"},"fix":{"range":[79,86],"text":""},"desc":"Remove unused variable \"YAxis\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Zap' is defined but never used.","line":5,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":13,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Zap"},"fix":{"range":[136,171],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useMemo } from 'react';\nimport { AreaChart, Area, XAxis, YAxis, Tooltip, ResponsiveContainer } from 'recharts';\nimport { Zap } from 'lucide-react';\n\nconst data = [\n  { time: '10:00', visitors: 400 },\n  { time: '10:05', visitors: 600 },\n  { time: '10:10', visitors: 550 },\n  { time: '10:15', visitors: 900 },\n  { time: '10:20', visitors: 800 },\n  { time: '10:25', visitors: 1100 },\n  { time: '10:30', visitors: 1245 },\n];\n\nexport default function PulseWidget() {\n  const currentVisitors = data[data.length - 1].visitors;\n\n  return (\n    <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-6 relative overflow-hidden\">\n      <div className=\"flex items-center justify-between mb-2\">\n        <div>\n          <h3 className=\"text-lg font-bold text-gray-900 flex items-center gap-2\">\n             <span className=\"relative flex h-3 w-3\">\n               <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75\"></span>\n               <span className=\"relative inline-flex rounded-full h-3 w-3 bg-red-500\"></span>\n             </span>\n             Live Pulse\n          </h3>\n          <p className=\"text-xs text-gray-500\">Real-time readership</p>\n        </div>\n        <div className=\"text-right\">\n             <span className=\"text-2xl font-bold text-gray-900 block leading-none\">{currentVisitors}</span>\n             <span className=\"text-xs font-bold text-green-600\">+12% vs last hr</span>\n        </div>\n      </div>\n\n      <div className=\"h-48 w-full -ml-2\">\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <AreaChart data={data}>\n            <defs>\n              <linearGradient id=\"colorVisitors\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                <stop offset=\"5%\" stopColor=\"#ef4444\" stopOpacity={0.1}/>\n                <stop offset=\"95%\" stopColor=\"#ef4444\" stopOpacity={0}/>\n              </linearGradient>\n            </defs>\n            <Tooltip \n                contentStyle={{ borderRadius: '12px', border: 'none', boxShadow: '0 4px 12px rgba(0,0,0,0.1)' }}\n                itemStyle={{ color: '#ef4444', fontWeight: 'bold' }}\n            />\n            <Area type=\"monotone\" dataKey=\"visitors\" stroke=\"#ef4444\" strokeWidth={3} fillOpacity={1} fill=\"url(#colorVisitors)\" />\n          </AreaChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/admin/dashboard/QuickDraftWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/admin/dashboard/RecentActivity.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":23,"column":78,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[1291,1293],"text":" &quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[1291,1293],"text":" &ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[1291,1293],"text":" &#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[1291,1293],"text":" &rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":23,"column":92,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[1306,1322],"text":"&quot;\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[1306,1322],"text":"&ldquo;\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[1306,1322],"text":"&#34;\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[1306,1322],"text":"&rdquo;\n              "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ActivityItem } from './types';\n\nexport default function RecentActivity() {\n  const activities: ActivityItem[] = [\n    { id: 1, user: 'Simanta Khokon', action: 'published', target: 'Election 2026: Live Updates', time: '2 hours ago' },\n    { id: 2, user: 'Rafiqul Islam', action: 'edited', target: 'Cricket World Cup Squad', time: '3 hours ago' },\n    { id: 3, user: 'System Admin', action: 'updated', target: 'SEO Settings', time: '5 hours ago' },\n    { id: 4, user: 'Simanta Khokon', action: 'drafted', target: 'Dhaka Metro New Schedule', time: '6 hours ago' },\n  ];\n\n  return (\n    <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm p-6 h-full\">\n      <h3 className=\"text-lg font-bold text-gray-900 mb-6 flex items-center justify-between\">\n        Recent Activity\n        <button className=\"text-xs text-brand-red font-bold hover:underline\">View All</button>\n      </h3>\n      <div className=\"space-y-6\">\n        {activities.map((item) => (\n          <div key={item.id} className=\"flex items-start gap-4\">\n            <div className=\"w-2 h-2 mt-2 rounded-full bg-brand-red flex-shrink-0\" />\n            <div>\n              <p className=\"text-sm text-gray-800 font-medium leading-snug\">\n                <span className=\"font-bold\">{item.user}</span> {item.action} \"{item.target}\"\n              </p>\n              <p className=\"text-xs text-gray-500 mt-1\">{item.time}</p>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/admin/dashboard/StatsGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/admin/dashboard/types.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":5,"column":9,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":12,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[93,96],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[93,96],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"export interface DashboardStat {\n  label: string;\n  value: string;\n  change: string;\n  icon: any;\n  color: string;\n  bg: string;\n}\n\nexport interface ActivityItem {\n  id: number;\n  user: string;\n  action: string;\n  target: string;\n  time: string;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/AIInsights.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":42,"column":47,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[1819,1820],"text":"&quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[1819,1820],"text":"&ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[1819,1820],"text":"&#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[1819,1820],"text":"&rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":42,"column":64,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[1836,1837],"text":"&quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[1836,1837],"text":"&ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[1836,1837],"text":"&#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[1836,1837],"text":"&rdquo;"},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Sparkles, TrendingUp, Lightbulb, Zap } from \"lucide-react\";\n\ninterface InsightArticle {\n    title: string;\n    views: number;\n    category?: string;\n}\n\ninterface AIInsightsProps {\n    topArticles: InsightArticle[];\n}\n\nexport default function AIInsights({ topArticles = [] }: AIInsightsProps) {\n    const trending = topArticles[0];\n    const secondary = topArticles[1];\n\n  return (\n    <div className=\"bg-gradient-to-br from-[#4c1d95] to-[#5b21b6] rounded-xl p-6 text-white shadow-lg relative overflow-hidden h-full flex flex-col\">\n      {/* Background Decor */}\n      <div className=\"absolute top-0 right-0 p-4 opacity-10\">\n        <Sparkles size={100} />\n      </div>\n      \n      <div className=\"flex items-center gap-2 mb-6 relative z-10\">\n         <div className=\"bg-white/20 p-2 rounded-lg backdrop-blur-sm\">\n            <Sparkles size={20} className=\"text-yellow-300\" />\n         </div>\n         <h3 className=\"text-xl font-bold\">AI Insights</h3>\n      </div>\n\n      <div className=\"space-y-4 relative z-10 flex-1 overflow-y-auto pr-2\">\n          {/* Insight 1: Trending */}\n          {trending ? (\n            <div className=\"bg-white/10 backdrop-blur-md rounded-lg p-4 border border-white/10 hover:bg-white/20 transition-colors\">\n                <div className=\"flex justify-between items-start mb-2\">\n                    <div className=\"flex items-center gap-2 text-yellow-300 text-sm font-bold uppercase tracking-wider\">\n                        <TrendingUp size={14} /> Trending Topic Alert\n                    </div>\n                    <span className=\"bg-yellow-500/20 text-yellow-200 text-[10px] px-2 py-0.5 rounded border border-yellow-500/30\">HIGH</span>\n                </div>\n                <p className=\"text-sm text-gray-100 leading-relaxed\">\n                    Search volume for <strong>\"{trending.title}\"</strong> is rising. Current views: <strong>{trending.views}</strong>.\n                </p>\n                <button className=\"mt-3 flex items-center gap-2 text-xs font-bold bg-white text-purple-900 px-3 py-1.5 rounded hover:bg-gray-100 transition\">\n                    <Zap size={12} /> View Details\n                </button>\n            </div>\n          ) : (\n            <div className=\"bg-white/10 backdrop-blur-md rounded-lg p-6 flex flex-col items-center justify-center text-center h-[140px] border border-white/5\">\n                <Lightbulb size={24} className=\"text-white/40 mb-3\" />\n                <p className=\"text-sm text-gray-200 font-medium\">Waiting for data...</p>\n                <p className=\"text-xs text-blue-200 mt-1\">Insights will appear as visitors arrive.</p>\n            </div>\n          )}\n\n          {/* Insight 2: SEO or Secondary */}\n          {secondary && (\n            <div className=\"bg-white/10 backdrop-blur-md rounded-lg p-4 border border-white/10 hover:bg-white/20 transition-colors\">\n                <div className=\"flex justify-between items-start mb-2\">\n                    <div className=\"flex items-center gap-2 text-green-300 text-sm font-bold uppercase tracking-wider\">\n                        <Lightbulb size={14} /> Popular Category\n                    </div>\n                </div>\n                <p className=\"text-sm text-gray-100 leading-relaxed\">\n                    <strong>{secondary.category || 'Opinion'}</strong> is getting attention. Consider writing a follow-up piece.\n                </p>\n            </div>\n          )}\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/AnalyticsChart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/CommandPalette.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":86,"column":38,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[2651,2690],"text":"\n                No results found for &quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[2651,2690],"text":"\n                No results found for &ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[2651,2690],"text":"\n                No results found for &#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[2651,2690],"text":"\n                No results found for &rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":86,"column":47,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[2698,2714],"text":"&quot;\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[2698,2714],"text":"&ldquo;\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[2698,2714],"text":"&#34;\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[2698,2714],"text":"&rdquo;\n              "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useEffect, useState } from 'react';\nimport { Command } from 'cmdk';\nimport { \n  FileText, \n  Upload, \n  Send, \n  Settings, \n  Users, \n  BarChart3,\n  Search,\n  Plus,\n  Calendar,\n  Tag,\n  Image as ImageIcon\n} from 'lucide-react';\nimport { useRouter } from 'next/navigation';\n\nexport function CommandPalette() {\n  const [open, setOpen] = useState(false);\n  const [search, setSearch] = useState('');\n  const router = useRouter();\n\n  // Toggle on тМШK or Ctrl+K\n  useEffect(() => {\n    const down = (e: KeyboardEvent) => {\n      if (e.key === 'k' && (e.metaKey || e.ctrlKey)) {\n        e.preventDefault();\n        setOpen((open) => !open);\n      }\n    };\n\n    document.addEventListener('keydown', down);\n    return () => document.removeEventListener('keydown', down);\n  }, []);\n\n  // Handle command selection\n  const handleSelect = (callback: () => void) => {\n    callback();\n    setOpen(false);\n  };\n\n  return (\n    <>\n      {/* Keyboard Hint Button */}\n      <button\n        onClick={() => setOpen(true)}\n        className=\"hidden md:flex items-center gap-2 px-3 py-1.5 text-sm text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\"\n      >\n        <Search className=\"w-4 h-4\" />\n        <span>Search</span>\n        <kbd className=\"px-2 py-0.5 text-xs font-semibold text-gray-800 bg-white border border-gray-200 rounded\">\n          тМШK\n        </kbd>\n      </button>\n\n      {/* Command Palette Modal */}\n      <Command.Dialog \n        open={open} \n        onOpenChange={setOpen}\n        label=\"Global Command Menu\"\n        className=\"fixed inset-0 z-50\"\n      >\n        {/* Backdrop */}\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm\" onClick={() => setOpen(false)} />\n        \n        {/* Command Panel */}\n        <div className=\"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-2xl\">\n          <Command className=\"bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden\">\n            {/* Search Input */}\n            <div className=\"flex items-center border-b border-gray-200 px-4\">\n              <Search className=\"w-5 h-5 text-gray-400 shrink-0\" />\n              <Command.Input \n                value={search}\n                onValueChange={setSearch}\n                placeholder=\"Type a command or search...\"\n                className=\"w-full px-4 py-4 text-lg outline-none placeholder-gray-400\"\n              />\n            </div>\n\n            {/* Command List */}\n            <Command.List className=\"max-h-[400px] overflow-y-auto p-2\">\n              {/* Empty State */}\n              <Command.Empty className=\"py-6 text-center text-sm text-gray-500\">\n                No results found for \"{search}\"\n              </Command.Empty>\n\n              {/* Quick Actions Group */}\n              <Command.Group heading=\"Quick Actions\" className=\"px-2 py-2\">\n                <Command.Item\n                  onSelect={() => handleSelect(() => router.push('/admin/dashboard/articles/new'))}\n                  className=\"flex items-center gap-3 px-3 py-2.5 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors aria-selected:bg-blue-50 aria-selected:text-blue-600\"\n                >\n                  <Plus className=\"w-5 h-5\" />\n                  <div className=\"flex-1\">\n                    <p className=\"font-medium\">Create New Article</p>\n                    <p className=\"text-xs text-gray-500\">Start writing a new story</p>\n                  </div>\n                  <kbd className=\"px-2 py-1 text-xs bg-gray-200 rounded\">N</kbd>\n                </Command.Item>\n\n                <Command.Item\n                  onSelect={() => handleSelect(() => {/* Publish logic */})}\n                  className=\"flex items-center gap-3 px-3 py-2.5 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors aria-selected:bg-blue-50 aria-selected:text-blue-600\"\n                >\n                  <Send className=\"w-5 h-5\" />\n                  <div className=\"flex-1\">\n                    <p className=\"font-medium\">Publish Article</p>\n                    <p className=\"text-xs text-gray-500\">Make current draft live</p>\n                  </div>\n                  <kbd className=\"px-2 py-1 text-xs bg-gray-200 rounded\">тМШ</kbd>\n                  <kbd className=\"px-2 py-1 text-xs bg-gray-200 rounded\">P</kbd>\n                </Command.Item>\n\n                <Command.Item\n                  onSelect={() => handleSelect(() => {/* Upload logic */})}\n                  className=\"flex items-center gap-3 px-3 py-2.5 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors aria-selected:bg-blue-50 aria-selected:text-blue-600\"\n                >\n                  <Upload className=\"w-5 h-5\" />\n                  <div className=\"flex-1\">\n                    <p className=\"font-medium\">Upload Media</p>\n                    <p className=\"text-xs text-gray-500\">Images, videos, or documents</p>\n                  </div>\n                </Command.Item>\n\n                <Command.Item\n                  onSelect={() => handleSelect(() => router.push('/admin/dashboard/media'))}\n                  className=\"flex items-center gap-3 px-3 py-2.5 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors aria-selected:bg-blue-50 aria-selected:text-blue-600\"\n                >\n                  <ImageIcon className=\"w-5 h-5\" />\n                  <div className=\"flex-1\">\n                    <p className=\"font-medium\">Media Library</p>\n                    <p className=\"text-xs text-gray-500\">Browse uploaded files</p>\n                  </div>\n                </Command.Item>\n              </Command.Group>\n\n              {/* Navigation Group */}\n              <Command.Group heading=\"Navigate\" className=\"px-2 py-2\">\n                <Command.Item\n                  onSelect={() => handleSelect(() => router.push('/admin/dashboard'))}\n                  className=\"flex items-center gap-3 px-3 py-2.5 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors aria-selected:bg-blue-50 aria-selected:text-blue-600\"\n                >\n                  <BarChart3 className=\"w-5 h-5\" />\n                  <span>Dashboard</span>\n                </Command.Item>\n\n                <Command.Item\n                  onSelect={() => handleSelect(() => router.push('/admin/dashboard/articles'))}\n                  className=\"flex items-center gap-3 px-3 py-2.5 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors aria-selected:bg-blue-50 aria-selected:text-blue-600\"\n                >\n                  <FileText className=\"w-5 h-5\" />\n                  <span>All Articles</span>\n                </Command.Item>\n\n                <Command.Item\n                  onSelect={() => handleSelect(() => router.push('/admin/dashboard/team'))}\n                  className=\"flex items-center gap-3 px-3 py-2.5 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors aria-selected:bg-blue-50 aria-selected:text-blue-600\"\n                >\n                  <Users className=\"w-5 h-5\" />\n                  <span>Team Members</span>\n                </Command.Item>\n\n                <Command.Item\n                  onSelect={() => handleSelect(() => router.push('/admin/dashboard/settings'))}\n                  className=\"flex items-center gap-3 px-3 py-2.5 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors aria-selected:bg-blue-50 aria-selected:text-blue-600\"\n                >\n                  <Settings className=\"w-5 h-5\" />\n                  <span>Settings</span>\n                </Command.Item>\n              </Command.Group>\n\n              {/* Filters Group */}\n              <Command.Group heading=\"Filters\" className=\"px-2 py-2\">\n                <Command.Item\n                  onSelect={() => handleSelect(() => {/* Filter by category */})}\n                  className=\"flex items-center gap-3 px-3 py-2.5 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors aria-selected:bg-blue-50 aria-selected:text-blue-600\"\n                >\n                  <Tag className=\"w-5 h-5\" />\n                  <span>Filter by Category</span>\n                </Command.Item>\n\n                <Command.Item\n                  onSelect={() => handleSelect(() => {/* Filter by date */})}\n                  className=\"flex items-center gap-3 px-3 py-2.5 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors aria-selected:bg-blue-50 aria-selected:text-blue-600\"\n                >\n                  <Calendar className=\"w-5 h-5\" />\n                  <span>Filter by Date</span>\n                </Command.Item>\n              </Command.Group>\n            </Command.List>\n\n            {/* Footer Tips */}\n            <div className=\"border-t border-gray-200 px-4 py-2 flex items-center gap-4 text-xs text-gray-500\">\n              <span className=\"flex items-center gap-1\">\n                <kbd className=\"px-1.5 py-0.5 bg-gray-100 rounded\">тЖСтЖУ</kbd>\n                Navigate\n              </span>\n              <span className=\"flex items-center gap-1\">\n                <kbd className=\"px-1.5 py-0.5 bg-gray-100 rounded\">Enter</kbd>\n                Select\n              </span>\n              <span className=\"flex items-center gap-1\">\n                <kbd className=\"px-1.5 py-0.5 bg-gray-100 rounded\">Esc</kbd>\n                Close\n              </span>\n            </div>\n          </Command>\n        </div>\n      </Command.Dialog>\n    </>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/DashboardHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/LivePulseGraph.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/LivePulseGraph.tsx:29:7\n  27 |   useEffect(() => {\n  28 |       // Initial Load\n> 29 |       loadData();\n     |       ^^^^^^^^ Avoid calling setState() directly within an effect\n  30 |\n  31 |       // Poll every 5 seconds\n  32 |       const interval = setInterval(loadData, 5000);","line":29,"column":7,"nodeType":null,"endLine":29,"endColumn":15}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { AreaChart, Area, ResponsiveContainer, Tooltip, XAxis, YAxis } from 'recharts';\nimport { useState, useEffect } from 'react';\nimport { fetchRealTimeTraffic } from '@/lib/actions-tracker';\n\ninterface TrafficData {\n    time: string;\n    visitors: number;\n}\n\nexport default function LivePulseGraph() {\n  const [data, setData] = useState<TrafficData[]>([]);\n  const [currentVisitors, setCurrentVisitors] = useState(0);\n\n  // Fetch Data Function\n  const loadData = async () => {\n      const traffic = await fetchRealTimeTraffic();\n      if (traffic && traffic.length > 0) {\n        setData(traffic);\n        // Set current visitors to the last data point or sum if appropriate\n        // Here we just take the last bucket count for \"Real-time\" effect\n        setCurrentVisitors(traffic[traffic.length - 1].visitors);\n      }\n  };\n\n  useEffect(() => {\n      // Initial Load\n      loadData();\n\n      // Poll every 5 seconds\n      const interval = setInterval(loadData, 5000);\n      return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <div className=\"bg-white border border-gray-100 rounded-xl p-6 shadow-sm h-full flex flex-col\">\n       <div className=\"flex justify-between items-center mb-6\">\n           <div>\n               <h3 className=\"text-lg font-bold text-gray-900 flex items-center gap-2\">\n                  <span className=\"relative flex h-3 w-3\">\n                    <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75\"></span>\n                    <span className=\"relative inline-flex rounded-full h-3 w-3 bg-red-500\"></span>\n                  </span>\n                  Live Pulse\n               </h3>\n               <p className=\"text-sm text-gray-500\">Real-time readership (Last Hour)</p>\n           </div>\n           <div className=\"text-right\">\n               <p className=\"text-2xl font-bold text-gray-900\">{currentVisitors}</p>\n               <p className=\"text-xs font-bold text-green-600\">Active Now</p>\n           </div>\n       </div>\n\n       <div className=\"flex-1 w-full min-h-[200px]\">\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n             <AreaChart data={data}>\n                <defs>\n                   <linearGradient id=\"colorVisitors\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                      <stop offset=\"5%\" stopColor=\"#ef4444\" stopOpacity={0.1}/>\n                      <stop offset=\"95%\" stopColor=\"#ef4444\" stopOpacity={0}/>\n                   </linearGradient>\n                </defs>\n                <XAxis dataKey=\"time\" hide />\n                <YAxis hide domain={['auto', 'auto']} />\n                <Tooltip \n                   contentStyle={{ borderRadius: '8px', border: 'none', boxShadow: '0 4px 12px rgba(0,0,0,0.1)' }}\n                   itemStyle={{ color: '#ef4444', fontWeight: 'bold' }}\n                />\n                <Area \n                   type=\"monotone\" \n                   dataKey=\"visitors\" \n                   stroke=\"#ef4444\" \n                   strokeWidth={3}\n                   fillOpacity={1} \n                   fill=\"url(#colorVisitors)\" \n                   animationDuration={1000}\n                />\n             </AreaChart>\n          </ResponsiveContainer>\n       </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/MetricsCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/QuickActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/QuickNote.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/QuickNote.tsx:12:20\n  10 |   useEffect(() => {\n  11 |     const savedNote = localStorage.getItem(\"admin_quick_note\");\n> 12 |     if (savedNote) setNote(savedNote);\n     |                    ^^^^^^^ Avoid calling setState() directly within an effect\n  13 |   }, []);\n  14 |\n  15 |   const handleChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {","line":12,"column":20,"nodeType":null,"endLine":12,"endColumn":27}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { PenLine, Check } from \"lucide-react\";\nimport { useState, useEffect } from \"react\";\n\nexport default function QuickNote() {\n  const [note, setNote] = useState(\"\");\n  const [saved, setSaved] = useState(false);\n\n  useEffect(() => {\n    const savedNote = localStorage.getItem(\"admin_quick_note\");\n    if (savedNote) setNote(savedNote);\n  }, []);\n\n  const handleChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    const newVal = e.target.value;\n    setNote(newVal);\n    setSaved(false);\n    \n    // Auto save with debounce\n    localStorage.setItem(\"admin_quick_note\", newVal);\n    setSaved(true);\n  };\n\n  return (\n    <div className=\"bg-[#fffbeb] border border-[#fef3c7] rounded-xl p-6 shadow-sm h-full flex flex-col relative group transition-all hover:shadow-md\">\n        <div className=\"flex items-center justify-between mb-4 text-[#92400e]\">\n            <div className=\"flex items-center gap-2\">\n                <PenLine size={18} />\n                <h3 className=\"font-bold text-lg\">Quick Note</h3>\n            </div>\n            {saved && (\n                <span className=\"text-xs font-medium flex items-center gap-1 text-green-600 bg-green-50 px-2 py-0.5 rounded-full animate-in fade-in\">\n                    <Check size={12} /> Saved\n                </span>\n            )}\n        </div>\n        \n        <textarea \n            className=\"flex-1 w-full bg-transparent border-none resize-none outline-none text-gray-700 placeholder-gray-400 text-sm leading-relaxed\"\n            placeholder=\"Got a lead? Scribble it down...\"\n            value={note}\n            onChange={handleChange}\n        ></textarea>\n        \n        <div className=\"text-xs text-[#d97706] opacity-60 absolute bottom-4 right-6\">\n            Local Storage Only\n        </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/RecentActivity.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/editor/AIToolbar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/editor/ArticlePreview.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Facebook' is defined but never used.","line":4,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":35,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Facebook"},"fix":{"range":[71,81],"text":""},"desc":"Remove unused variable \"Facebook\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Twitter' is defined but never used.","line":4,"column":37,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":44,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Twitter"},"fix":{"range":[81,90],"text":""},"desc":"Remove unused variable \"Twitter\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Linkedin' is defined but never used.","line":4,"column":46,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":54,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Linkedin"},"fix":{"range":[90,100],"text":""},"desc":"Remove unused variable \"Linkedin\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Copy' is defined but never used.","line":4,"column":56,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":60,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Copy"},"fix":{"range":[100,106],"text":""},"desc":"Remove unused variable \"Copy\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'PlayCircle' is defined but never used.","line":4,"column":62,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":72,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"PlayCircle"},"fix":{"range":[106,118],"text":""},"desc":"Remove unused variable \"PlayCircle\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'localizeTime' is defined but never used.","line":5,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":22,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"localizeTime"},"fix":{"range":[142,184],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'clsx' is defined but never used.","line":6,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":12,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"clsx"},"fix":{"range":[185,209],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport Image from \"next/image\";\nimport { Clock, Calendar, Facebook, Twitter, Linkedin, Copy, PlayCircle } from \"lucide-react\";\nimport { localizeTime } from \"@/utils/bn\";\nimport clsx from \"clsx\";\n\ninterface ArticlePreviewProps {\n    title: string;\n    content: string; // HTML string from Tiptap\n    category: string;\n    image?: string; // URL or base64\n    author?: string;\n    date?: string;\n}\n\nexport default function ArticlePreview({ \n    title, \n    content, \n    category, \n    image, \n    author = \"Admin User\", \n    date = \"Just now\" \n}: ArticlePreviewProps) {\n\n    // Simple parser for HTML content to meaningful preview if needed, \n    // but dangerouslySetInnerHTML is fine for preview if we trust the editor input (which we do, it's the admin).\n    \n    // Fallback image\n    const displayImage = image || \"https://images.unsplash.com/photo-1504711434969-e33886168f5c?q=80&w=2670&auto=format&fit=crop\";\n\n    return (\n        <div className=\"bg-white text-foreground font-serif min-h-full border border-gray-200 rounded-lg shadow-sm overflow-hidden\">\n            {/* Simulation of Article Page specific content area */}\n            <div className=\"p-8 max-w-4xl mx-auto\">\n                \n                {/* Breadcrumb */}\n                <div className=\"text-sm text-gray-500 mb-6 flex gap-2 items-center\">\n                    <span>рж╣рзЛржо</span> \n                    <span>/</span>\n                    <span className=\"text-brand-red font-semibold\">\n                        {category || \"Uncategorized\"}\n                    </span>\n                </div>\n\n                {/* Headline */}\n                <h1 className=\"text-2xl md:text-5xl font-bold text-gray-900 leading-tight mb-6\">\n                    {title || \"Article Headline...\"}\n                </h1>\n\n                {/* Author & Meta */}\n                <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center border-t border-b border-gray-100 py-4 mb-8 gap-6\">\n                    <div className=\"flex items-center gap-4\">\n                        <div className=\"w-12 h-12 rounded-full bg-gray-200 overflow-hidden relative border-2 border-brand-red/20 shadow-sm\">\n                            <Image \n                                src={`https://randomuser.me/api/portraits/men/1.jpg`} \n                                alt=\"Author\" \n                                fill \n                                className=\"object-cover\" \n                            />\n                        </div>\n                        <div className=\"flex flex-col\">\n                            <p className=\"font-bold text-gray-900 text-lg\">{author}</p>\n                            <div className=\"flex flex-wrap items-center gap-x-4 gap-y-1 text-xs md:text-sm text-gray-500 mt-1\">\n                                <span className=\"flex items-center gap-1.5\"><Calendar size={14} /> {date}</span>\n                                <span className=\"w-1 h-1 bg-gray-300 rounded-full\"></span>\n                                <span className=\"flex items-center gap-1.5\"><Clock size={14} /> ржПржЗржорж╛рждрзНрж░</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Featured Image */}\n                <div className=\"relative aspect-video w-full rounded-xl overflow-hidden mb-8 shadow-sm bg-gray-100\">\n                    <Image \n                        src={displayImage}\n                        alt={title}\n                        fill\n                        className=\"object-cover\"\n                    />\n                </div>\n\n                {/* Content */}\n                <article className=\"prose prose-lg max-w-none text-gray-800 leading-relaxed\">\n                    {/* Render HTML content */}\n                    {content ? (\n                         <div dangerouslySetInnerHTML={{ __html: content }} />\n                    ) : (\n                        <p className=\"text-gray-400 italic\">Start writing to see preview...</p>\n                    )}\n                </article>\n\n            </div>\n        </div>\n    );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/editor/ContributorSelector.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Search' is defined but never used.","line":4,"column":23,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":29,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Search"},"fix":{"range":[69,77],"text":""},"desc":"Remove unused variable \"Search\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState } from 'react';\nimport { UserPlus, X, Search, User } from 'lucide-react';\n\ninterface Contributor {\n  id?: string;\n  name: string;\n  role: string;\n  custom?: boolean;\n}\n\ninterface ContributorSelectorProps {\n  contributors: Contributor[];\n  onChange: (contributors: Contributor[]) => void;\n}\n\nconst ROLES = [\n  'ржирж┐ржЬрж╕рзНржм ржкрзНрж░рждрж┐ржмрзЗржжржХ',\n  'ржЬрзНржпрзЗрж╖рзНржа ржкрзНрж░рждрж┐ржмрзЗржжржХ',\n  'ржмрж┐рж╢рзЗрж╖ ржкрзНрж░рждрж┐ржирж┐ржзрж┐',\n  'ржЬрзЗрж▓рж╛ ржкрзНрж░рждрж┐ржирж┐ржзрж┐',\n  'ржЙржкржЬрзЗрж▓рж╛ ржкрзНрж░рждрж┐ржирж┐ржзрж┐',\n  'рж╕рзНржЯрж╛ржл рж░рж┐ржкрзЛрж░рзНржЯрж╛рж░',\n  'ржЕржирж▓рж╛ржЗржи ржбрзЗрж╕рзНржХ',\n  'Photographer',\n  'Guest Writer'\n];\n\nexport default function ContributorSelector({ contributors, onChange }: ContributorSelectorProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedRole, setSelectedRole] = useState(ROLES[0]);\n\n  const handleAddContributor = (name: string) => {\n    // Prevent duplicates\n    if (contributors.some(c => c.name === name)) {\n      return;\n    }\n\n    onChange([\n      ...contributors,\n      {\n        name,\n        role: selectedRole,\n        custom: true // Treating all as custom for now until we connect user DB\n      }\n    ]);\n    setSearchTerm('');\n    setIsOpen(false);\n  };\n\n  const handleRemove = (index: number) => {\n    onChange(contributors.filter((_, i) => i !== index));\n  };\n\n  return (\n    <div className=\"space-y-3\">\n      <h3 className=\"text-xs font-bold text-gray-500 uppercase tracking-wider\">\n        ржкрзНрж░рждрж┐ржмрзЗржжржХ ржУ ржХржирзНржЯрзНрж░рж┐ржмрж┐ржЙржЯрж░\n      </h3>\n\n      {/* Selected Contributors List */}\n      <div className=\"flex flex-wrap gap-2\">\n        {contributors.map((contributor, index) => (\n          <div \n            key={index} \n            className=\"flex items-center gap-2 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-full text-sm border border-blue-100\"\n          >\n            <User size={14} />\n            <span className=\"font-medium\">{contributor.name}</span>\n            <span className=\"text-xs opacity-75\">({contributor.role})</span>\n            <button\n              onClick={() => handleRemove(index)}\n              className=\"hover:bg-blue-200 rounded-full p-0.5 transition-colors\"\n            >\n              <X size={14} />\n            </button>\n          </div>\n        ))}\n\n        {contributors.length === 0 && (\n          <p className=\"text-sm text-gray-400 italic\">ржХрзЛржи ржкрзНрж░рждрж┐ржмрзЗржжржХ ржпрзБржХрзНржд ржХрж░рж╛ рж╣ржпрж╝ржирж┐</p>\n        )}\n      </div>\n\n      {/* Add New Contributor */}\n      <div className=\"relative\">\n        <button\n          type=\"button\"\n          onClick={() => setIsOpen(!isOpen)}\n          className=\"flex items-center gap-2 text-sm text-blue-600 font-medium hover:text-blue-700 transition-colors\"\n        >\n          <UserPlus size={16} />\n          <span>ржкрзНрж░рждрж┐ржмрзЗржжржХ ржпрзБржХрзНржд ржХрж░рзБржи</span>\n        </button>\n\n        {isOpen && (\n          <div className=\"absolute top-full left-0 mt-2 w-72 bg-white rounded-lg shadow-xl border border-gray-200 z-50 p-3\">\n            <div className=\"space-y-3\">\n              {/* Role Selection */}\n              <div>\n                <label className=\"text-xs text-gray-500 mb-1 block\">ржкржжржмрзА</label>\n                <select\n                  value={selectedRole}\n                  onChange={(e) => setSelectedRole(e.target.value)}\n                  className=\"w-full text-sm border border-gray-200 rounded p-2 outline-none focus:border-blue-500\"\n                >\n                  {ROLES.map(role => (\n                    <option key={role} value={role}>{role}</option>\n                  ))}\n                </select>\n              </div>\n\n              {/* Name Input */}\n              <div>\n                <label className=\"text-xs text-gray-500 mb-1 block\">ржирж╛ржо</label>\n                <div className=\"flex gap-2\">\n                  <input\n                    type=\"text\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                    placeholder=\"ржирж╛ржо рж▓рж┐ржЦрзБржи...\"\n                    className=\"flex-1 text-sm border border-gray-200 rounded p-2 outline-none focus:border-blue-500\"\n                    autoFocus\n                  />\n                  <button\n                    onClick={() => searchTerm && handleAddContributor(searchTerm)}\n                    disabled={!searchTerm}\n                    className=\"px-3 py-2 bg-blue-600 text-white rounded text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    ржпрзБржХрзНржд\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/editor/Editor.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":46,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2282,2285],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2282,2285],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":55,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":55,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2694,2697],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2694,2697],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setEvents' is assigned a value but never used.","line":64,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":64,"endColumn":27},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":64,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":64,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3278,3281],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3278,3281],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":149,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":149,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5728,5731],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5728,5731],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":191,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":191,"endColumn":19}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useEditor, EditorContent } from '@tiptap/react';\nimport StarterKit from '@tiptap/starter-kit';\nimport Image from '@tiptap/extension-image';\nimport Link from '@tiptap/extension-link';\nimport Youtube from '@tiptap/extension-youtube';\nimport { Table } from '@tiptap/extension-table';\nimport { TableRow } from '@tiptap/extension-table-row';\nimport { TableCell } from '@tiptap/extension-table-cell';\nimport { TableHeader } from '@tiptap/extension-table-header';\nimport TextAlign from '@tiptap/extension-text-align';\nimport Underline from '@tiptap/extension-underline';\nimport Highlight from '@tiptap/extension-highlight';\nimport Placeholder from '@tiptap/extension-placeholder';\nimport CharacterCount from '@tiptap/extension-character-count';\nimport { useState, useEffect } from 'react';\nimport { toast } from 'sonner';\nimport { createArticle } from '@/lib/actions-article';\nimport Sidebar from './Sidebar';\nimport { Toolbar } from './Toolbar';\nimport { NewsType, ArticleData } from './types';\nimport { Save, Monitor, Settings, Clock, Sparkles } from 'lucide-react';\nimport { useAI } from '@/hooks/use-ai';\nimport { generateHeadlines, generateMetaDescription } from '@/lib/ai/writing-assistant';\n\nexport function Editor({ initialData }: { initialData?: ArticleData }) {\n  const [title, setTitle] = useState(initialData?.title || '');\n  const [category, setCategory] = useState(initialData?.category || '');\n  const [isPublishing, setIsPublishing] = useState(false);\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  \n  // Core Metadata State\n  const [subHeadline, setSubHeadline] = useState(initialData?.sub_headline || '');\n  const [newsType, setNewsType] = useState<NewsType>(initialData?.news_type || 'regular');\n  const [location, setLocation] = useState(initialData?.location || '');\n  const [tags, setTags] = useState<string[]>(initialData?.tags || []);\n  const [keywords, setKeywords] = useState<string[]>(initialData?.keywords || []);\n  \n  // UX Polish State\n  const [lastSaved, setLastSaved] = useState<Date | null>(initialData?.updated_at ? new Date(initialData.updated_at) : null);\n  const [isSaving, setIsSaving] = useState(false);\n  const [wordCount, setWordCount] = useState(0);\n\n  // Media State\n  const [images, setImages] = useState<any[]>(initialData?.images || []);\n  \n  // AI State\n  const { isGenerating, generate } = useAI();\n  const [showHeadlineSuggestions, setShowHeadlineSuggestions] = useState(false);\n  const [suggestedHeadlines, setSuggestedHeadlines] = useState<string[]>([]);\n  const [videoUrl, setVideoUrl] = useState(initialData?.video_url || '');\n\n  // Attribution & SEO State\n  const [contributors, setContributors] = useState<any[]>(initialData?.contributors || []);\n  const [source, setSource] = useState(initialData?.source || '');\n  const [sourceUrl, setSourceUrl] = useState(initialData?.source_url || '');\n  const [seoTitle, setSeoTitle] = useState(initialData?.seo_title || '');\n  const [seoDescription, setSeoDescription] = useState(initialData?.seo_description || '');\n  const [canonicalUrl, setCanonicalUrl] = useState(initialData?.canonical_url || '');\n  \n  // Events (Placeholder for now)\n  const [eventId, setEventId] = useState(initialData?.event_id || '');\n  const [events, setEvents] = useState<any[]>([]);\n\n  // Publication State\n  const [status, setStatus] = useState(initialData?.status || 'draft');\n  const [publishedAt, setPublishedAt] = useState(initialData?.created_at ? new Date(initialData.created_at).toISOString().slice(0, 16) : new Date().toISOString().slice(0, 16));\n  const [scheduledAt, setScheduledAt] = useState('');\n\n  const handleGenerateSEO = async () => {\n    if (!editor || !title) {\n        toast.error('SEO ржЬрзЗржирж╛рж░рзЗржЯ ржХрж░рж╛рж░ ржЬржирзНржп рж╢рж┐рж░рзЛржирж╛ржо ржПржмржВ ржХржирзНржЯрзЗржирзНржЯ ржкрзНрж░ржпрж╝рзЛржЬржи');\n        return;\n    }\n    const content = editor.getText();\n    if (content.length < 100) {\n         toast.error('ржЖрж░ржУ ржХржирзНржЯрзЗржирзНржЯ рж▓рж┐ржЦрзБржи');\n         return;\n    }\n\n    await generate(\n        'Generating SEO Meta Description...',\n        () => generateMetaDescription(title, content),\n        (desc) => {\n            setSeoDescription(desc);\n            toast.success('ржорзЗржЯрж╛ ржмрж░рзНржгржирж╛ рждрзИрж░рж┐ рж╣ржпрж╝рзЗржЫрзЗ!');\n        }\n    );\n  };\n \n  const editor = useEditor({\n    extensions: [\n      StarterKit,\n      Image,\n      Link.configure({\n        openOnClick: false,\n        HTMLAttributes: {\n            class: 'text-blue-600 hover:underline cursor-pointer',\n        },\n      }),\n      Youtube.configure({\n        controls: false,\n      }),\n      Table.configure({\n        resizable: true,\n      }),\n      TableRow,\n      TableHeader,\n      TableCell,\n      TextAlign.configure({\n        types: ['heading', 'paragraph'],\n      }),\n      Underline,\n      Highlight,\n      Placeholder.configure({\n        placeholder: 'ржПржЦрж╛ржирзЗ рж▓рзЗржЦрж╛ рж╢рзБрж░рзБ ржХрж░рзБржи...',\n        emptyEditorClass: 'is-editor-empty before:content-[attr(data-placeholder)] before:text-gray-400 before:float-left before:pointer-events-none',\n      }),\n      CharacterCount,\n    ],\n    content: '',\n    editorProps: {\n      attributes: {\n        class: 'prose prose-lg max-w-none focus:outline-none min-h-[900px] px-8 py-10',\n      },\n    },\n    onUpdate: ({ editor }) => {\n      setWordCount(editor.storage.characterCount.words());\n    },\n    immediatelyRender: false,\n  });\n\n  // Auto-save logic\n  useEffect(() => {\n    const autoSaveInterval = setInterval(async () => {\n      if (title && !isPublishing) {\n        setIsSaving(true);\n        // Simulate save\n        await new Promise(resolve => setTimeout(resolve, 500));\n        setLastSaved(new Date());\n        setIsSaving(false);\n      }\n    }, 30000);\n\n    return () => clearInterval(autoSaveInterval);\n  }, [title, isPublishing]);\n\n  const handlePublish = async (metadata: any) => {\n    if (!editor || !title) {\n        toast.error('рж╢рж┐рж░рзЛржирж╛ржо рж▓рж┐ржЦрзБржи');\n        return;\n    }\n\n    setIsPublishing(true);\n    const content = editor.getHTML();\n    const slug = title.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/(^-|-$)+/g, '');\n\n    const formData = new FormData();\n    formData.append('title', title);\n    formData.append('slug', slug);\n    formData.append('content', content);\n    formData.append('status', metadata.status || status);\n    formData.append('category', category || 'General');\n    formData.append('published_at', publishedAt);\n    formData.append('scheduled_at', scheduledAt);\n    \n    // Core Metadata\n    formData.append('sub_headline', subHeadline);\n    formData.append('news_type', newsType);\n    formData.append('location', location);\n    formData.append('tags', JSON.stringify(tags));\n    formData.append('keywords', JSON.stringify(keywords));\n    \n    // Media\n    formData.append('images', JSON.stringify(images));\n    formData.append('video_url', videoUrl);\n\n    // Attribution & SEO\n    formData.append('contributors', JSON.stringify(contributors));\n    formData.append('source', source);\n    formData.append('source_url', sourceUrl);\n    formData.append('seo_title', seoTitle);\n    formData.append('seo_description', seoDescription);\n    formData.append('canonical_url', canonicalUrl);\n\n    try {\n        await createArticle(formData);\n        toast.success(metadata.status === 'draft' ? 'ржЦрж╕ржбрж╝рж╛ рж╕ржВрж░ржХрзНрж╖рж┐ржд рж╣ржпрж╝рзЗржЫрзЗ!' : 'ржЖрж░рзНржЯрж┐ржХрзЗрж▓ ржкрзНрж░ржХрж╛рж╢рж┐ржд рж╣ржпрж╝рзЗржЫрзЗ!');\n        setLastSaved(new Date());\n    } catch (error) {\n        toast.error('рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ ржпрж╛ржпрж╝ржирж┐');\n    } finally {\n        setIsPublishing(false);\n    }\n  };\n\n  const handleGenerateHeadlines = async () => {\n    if (!editor) return;\n    const content = editor.getText();\n    if (content.length < 100) {\n      toast.error('рж╢рж┐рж░рзЛржирж╛ржо ржЬрзЗржирж╛рж░рзЗржЯ ржХрж░рж╛рж░ ржЬржирзНржп ржЖрж░ржУ ржХржирзНржЯрзЗржирзНржЯ рж▓рж┐ржЦрзБржи');\n      return;\n    }\n\n    await generate(\n      'Generating headlines...',\n      () => generateHeadlines(content),\n      (headlines) => {\n        setSuggestedHeadlines(headlines);\n        setShowHeadlineSuggestions(true);\n        toast.success('рзлржЯрж┐ ржЖржХрж░рзНрж╖ржгрзАржпрж╝ рж╢рж┐рж░рзЛржирж╛ржо рждрзИрж░рж┐ рж╣ржпрж╝рзЗржЫрзЗ!');\n      }\n    );\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col bg-slate-50/50 selection:bg-blue-100 font-serif\">\n       \n       {/* 1. MAIN HEADER (Sticky) */}\n       <div className=\"border-b border-gray-200 bg-white sticky top-0 z-30 flex items-center justify-between px-6 py-3 shadow-sm\">\n           <div className=\"flex items-center gap-4\">\n              {/* Back Button / Logo could go here */}\n              <div className=\"text-xl font-black text-gray-900 tracking-tight font-serif\">\n                SAMAKAL <span className=\"text-blue-600 font-serif italic text-lg\">Editor</span>\n              </div>\n           </div>\n           \n           <div className=\"flex items-center gap-3\">\n               <div className=\"hidden md:flex items-center gap-4 text-xs font-medium text-gray-400 mr-2 border-r border-gray-200 pr-4\">\n                   <span>{wordCount} Words</span>\n                   <span className=\"flex items-center gap-1\">\n                      {isSaving ? <Clock size={12} className=\"animate-spin\" /> : <Save size={12} />}\n                      {isSaving ? 'Saving...' : lastSaved ? 'Saved' : 'Unsaved'}\n                   </span>\n               </div>\n\n               <button \n                  onClick={() => handlePublish({ status: 'draft' })}\n                  disabled={isPublishing}\n                  className=\"px-4 py-2 text-xs font-bold uppercase tracking-wider text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50\"\n               >\n                  Draft\n               </button>\n\n               <button \n                  onClick={() => handlePublish({ status: 'published' })}\n                  disabled={isPublishing}\n                  className=\"px-6 py-2 text-xs font-bold uppercase tracking-wider text-white bg-black hover:bg-gray-800 rounded-lg transition-all flex items-center gap-2 disabled:opacity-50 shadow-lg shadow-gray-200 hover:shadow-xl hover:-translate-y-0.5\"\n               >\n                  {isPublishing ? '...' : (\n                    <>\n                      <Monitor size={14} />\n                      Publish\n                    </>\n                  )}\n               </button>\n               \n               <div className=\"w-px h-6 bg-gray-300 mx-1\"></div>\n\n               <button \n                  onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n                  className={`p-2 rounded-lg transition-all ${isSidebarOpen ? 'bg-blue-50 text-blue-600 ring-2 ring-blue-100' : 'text-gray-400 hover:bg-gray-100 hover:text-gray-900'}`}\n                  title={isSidebarOpen ? \"Hide Settings\" : \"Show Settings\"}\n               >\n                   <Settings size={20} />\n               </button>\n           </div>\n       </div>\n\n       {/* 2. TOP RIBBON (Metadata) */}\n       {isSidebarOpen && (\n           <div className=\"relative z-20 animate-in slide-in-from-top-2 duration-200\">\n               <Sidebar \n                    onPublish={handlePublish} \n                    isPublishing={isPublishing} \n                    category={category}\n                    setCategory={setCategory}\n                    newsType={newsType}\n                    setNewsType={setNewsType}\n                    location={location}\n                    setLocation={setLocation}\n                    tags={tags}\n                    setTags={setTags}\n                    keywords={keywords}\n                    setKeywords={setKeywords}\n                    images={images}\n                    setImages={setImages}\n                    videoUrl={videoUrl}\n                    setVideoUrl={setVideoUrl}\n                    contributors={contributors}\n                    setContributors={setContributors}\n                    source={source}\n                    setSource={setSource}\n                    sourceUrl={sourceUrl}\n                    setSourceUrl={setSourceUrl}\n                    seoTitle={seoTitle}\n                    setSeoTitle={setSeoTitle}\n                    seoDescription={seoDescription}\n                    setSeoDescription={setSeoDescription}\n                    canonicalUrl={canonicalUrl}\n                    setCanonicalUrl={setCanonicalUrl}\n                    onGenerateSEO={handleGenerateSEO}\n                    isGeneratingAI={isGenerating}\n                    events={events}\n                    eventId={eventId}\n                    setEventId={setEventId}\n                    status={status}\n                    setStatus={setStatus}\n                    publishedAt={publishedAt}\n                    setPublishedAt={setPublishedAt}\n                    scheduledAt={scheduledAt}\n                    setScheduledAt={setScheduledAt}\n               />\n           </div>\n       )}\n\n       {/* 3. TOOLBAR (Sticky below Header/Ribbon) */}\n       <div className=\"sticky top-[60px] z-10 bg-white/80 backdrop-blur-md border-b border-gray-200 shadow-sm min-h-[50px]\">\n           {editor && <Toolbar editor={editor} />}\n       </div>\n\n       {/* 4. DOCUMENT CANVAS (No inner scroll, page scrolls) */}\n       <div className=\"flex-1 py-12 md:py-16 px-4 md:px-8 cursor-text\" onClick={() => editor?.commands.focus()}>\n            <div className=\"max-w-[900px] mx-auto bg-white min-h-[1000px] shadow-sm border border-gray-200/60 rounded-none md:rounded-lg p-12 md:p-20 relative transition-shadow hover:shadow-md\" style={{ fontFamily: 'var(--font-tiro-bangla), serif' }}>\n                \n                {/* Title Input - H1 Style (Auto-expanding) */}\n                <textarea \n                   placeholder=\"рж╢рж┐рж░рзЛржирж╛ржо рж▓рж┐ржЦрзБржи...\"\n                   value={title}\n                   onChange={(e) => {\n                       setTitle(e.target.value);\n                       // Auto-expand on change\n                       const target = e.target as HTMLTextAreaElement;\n                       target.style.height = 'auto';\n                       target.style.height = target.scrollHeight + 'px';\n                   }}\n                   onClick={(e) => e.stopPropagation()}\n                   style={{ fontFamily: 'var(--font-tiro-bangla), serif' }}\n                   className=\"w-full text-3xl md:text-4xl font-black text-gray-900 placeholder-gray-300 outline-none bg-transparent leading-normal py-2 mb-6 resize-none overflow-hidden\"\n                   rows={1}\n                   onInput={(e) => {\n                       const target = e.target as HTMLTextAreaElement;\n                       target.style.height = 'auto';\n                       target.style.height = target.scrollHeight + 'px';\n                   }}\n                />\n                \n                {/* AI Headline Suggestions */}\n                {/* Headline Generator Button */}\n                <div className=\"absolute top-14 right-12 md:right-20\">\n                     <button\n                        onClick={handleGenerateHeadlines}\n                        disabled={isGenerating}\n                        className=\"p-2 rounded-full bg-purple-50 text-purple-600 hover:bg-purple-100 transition-all shadow-sm ring-1 ring-purple-200 opacity-60 hover:opacity-100 flex items-center gap-2 text-xs font-bold\"\n                        title=\"Generate Headlines with AI\"\n                     >\n                        <Sparkles size={14} className={isGenerating ? \"animate-spin\" : \"\"} />\n                        {isGenerating ? \"Thinking...\" : \"AI Title\"}\n                     </button>\n                </div>\n\n                {showHeadlineSuggestions && (\n                    <div className=\"mb-8 bg-purple-50 rounded-xl p-4 border border-purple-100 animate-in fade-in slide-in-from-top-2\">\n                        <div className=\"flex items-center justify-between mb-3\">\n                            <h4 className=\"text-sm font-bold text-purple-800 flex items-center gap-2\">\n                                <Sparkles size={14} /> suggested Headlines\n                            </h4>\n                            <button \n                                onClick={() => setShowHeadlineSuggestions(false)}\n                                className=\"text-purple-400 hover:text-purple-700 text-xs\"\n                            >\n                                Close\n                            </button>\n                        </div>\n                        <div className=\"space-y-2\">\n                             {suggestedHeadlines.map((headline, idx) => (\n                                 <button\n                                    key={idx}\n                                    onClick={() => {\n                                        setTitle(headline);\n                                        setShowHeadlineSuggestions(false);\n                                        toast.success('рж╢рж┐рж░рзЛржирж╛ржо ржЖржкржбрзЗржЯ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ!');\n                                    }}\n                                    className=\"w-full text-left p-3 bg-white rounded-lg border border-purple-100 hover:border-purple-300 hover:shadow-sm transition-all text-gray-800 font-serif text-lg leading-relaxed hover:bg-purple-50/50\"\n                                 >\n                                    {headline}\n                                 </button>\n                             ))}\n                        </div>\n                    </div>\n                )}\n\n                {/* Sub-headline Input - H2/Lead Style */}\n                <textarea \n                   placeholder=\"ржЙржк-рж╢рж┐рж░рзЛржирж╛ржо рж▓рж┐ржЦрзБржи...\"\n                   value={subHeadline}\n                   onChange={(e) => setSubHeadline(e.target.value)}\n                   onClick={(e) => e.stopPropagation()}\n                   style={{ fontFamily: 'var(--font-tiro-bangla), serif' }}\n                   className=\"w-full text-xl md:text-2xl text-gray-500 placeholder-gray-300 outline-none bg-transparent font-medium resize-none overflow-hidden mb-12 leading-normal h-auto\"\n                   rows={1}\n                   onInput={(e) => {\n                       const target = e.target as HTMLTextAreaElement;\n                       target.style.height = 'auto';\n                       target.style.height = target.scrollHeight + 'px';\n                   }}\n                />\n\n                {/* Main Editor Content */}\n                <div className=\"prose prose-lg md:prose-xl max-w-none prose-headings:font-bold prose-a:text-blue-600 hover:prose-a:underline prose-img:rounded-xl prose-p:pl-0 prose-p:pr-0 text-justify\" style={{ fontFamily: 'var(--font-tiro-bangla), serif' }}>\n                    <EditorContent editor={editor} />\n                </div>\n\n            </div>\n            \n            <div className=\"text-center mt-12 text-sm text-gray-400 font-medium\">\n                End of Document\n            </div>\n       </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/editor/EditorWrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/editor/ImageUploader.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ImageIcon' is defined but never used.","line":4,"column":30,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":39,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ImageIcon"},"fix":{"range":[101,121],"text":""},"desc":"Remove unused variable \"ImageIcon\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":119,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":119,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3662,3665],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3662,3665],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":200,"column":19,"nodeType":"JSXOpeningElement","endLine":204,"endColumn":21}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState, useRef, Dispatch, SetStateAction } from 'react';\nimport { Upload, X, Image as ImageIcon, Loader2, Grid } from 'lucide-react';\nimport { uploadImage } from '@/lib/upload';\nimport MediaGallery from '../media/MediaGallery';\n\nexport interface ArticleImage {\n  id?: string;\n  url: string;\n  type: 'featured' | 'thumbnail' | 'gallery';\n  caption?: string;\n  photographer?: string;\n  file?: File;\n  isUploading?: boolean;\n}\n\ninterface ImageUploaderProps {\n  images: ArticleImage[];\n  onImagesChange: Dispatch<SetStateAction<ArticleImage[]>>;\n  maxImages?: number;\n}\n\nexport default function ImageUploader({ images, onImagesChange, maxImages = 10 }: ImageUploaderProps) {\n  const [isDragging, setIsDragging] = useState(false);\n  const [showLibrary, setShowLibrary] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileSelect = async (files: FileList | null) => {\n    if (!files || files.length === 0) return;\n\n    const fileArray = Array.from(files);\n    const remainingSlots = maxImages - images.length;\n    \n    if (fileArray.length > remainingSlots) {\n      alert(`Maximum ${maxImages} images allowed. You can only add ${remainingSlots} more.`);\n      return;\n    }\n\n    // Create temporary image objects with uploading state\n    const newImages: ArticleImage[] = fileArray.map((file, index) => ({\n      url: URL.createObjectURL(file),\n      type: images.length === 0 && index === 0 ? 'featured' : 'gallery',\n      file,\n      isUploading: true\n    }));\n\n    // Add to images list immediately for UI feedback\n    onImagesChange([...images, ...newImages]);\n\n    // Upload each image\n    for (let i = 0; i < newImages.length; i++) {\n      const file = newImages[i].file!;\n      const result = await uploadImage(file);\n      \n      if (result.error) {\n        alert(`Failed to upload ${file.name}: ${result.error}`);\n        // Remove failed upload  \n        onImagesChange((imgs: ArticleImage[]) => imgs.filter(img => img.file !== file));\n      } else {\n        // Update with actual URL\n        onImagesChange((imgs: ArticleImage[]) => \n          imgs.map(img => \n            img.file === file \n              ? { ...img, url: result.url, file: undefined, isUploading: false }\n              : img\n          )\n        );\n      }\n    }\n  };\n\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(true);\n  };\n\n  const handleDragLeave = () => {\n    setIsDragging(false);\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n    handleFileSelect(e.dataTransfer.files);\n  };\n\n  const handleRemove = (index: number) => {\n    const newImages = images.filter((_, i) => i !== index);\n    \n    // If removed image was featured, make first image featured\n    if (images[index].type === 'featured' && newImages.length > 0) {\n      newImages[0].type = 'featured';\n    }\n    \n    onImagesChange(newImages);\n  };\n\n  const handleMakeFeatured = (index: number) => {\n    const newImages = images.map((img, i) => ({\n      ...img,\n      type: i === index ? 'featured' as const : img.type === 'featured' ? 'gallery' as const : img.type\n    }));\n    onImagesChange(newImages);\n  };\n\n  const handleCaptionChange = (index: number, caption: string) => {\n    const newImages = [...images];\n    newImages[index] = { ...newImages[index], caption };\n    onImagesChange(newImages);\n  };\n\n  const handlePhotographerChange = (index: number, photographer: string) => {\n    const newImages = [...images];\n    newImages[index] = { ...newImages[index], photographer };\n    onImagesChange(newImages);\n  };\n\n  const handleLibrarySelect = (asset: any) => {\n      const remainingSlots = maxImages - images.length;\n      if (remainingSlots <= 0) {\n          alert(\"Maximum images reached\");\n          return;\n      }\n      \n      const newImage: ArticleImage = {\n          url: asset.url,\n          type: images.length === 0 ? 'featured' : 'gallery',\n          caption: asset.name.split('.')[0]\n      };\n      \n      onImagesChange([...images, newImage]);\n      setShowLibrary(false);\n  };\n\n  return (\n    <div>\n      <div className=\"flex items-center justify-between mb-4\">\n        <h3 className=\"text-xs font-bold text-gray-500 uppercase tracking-wider\">\n            ржЫржмрж┐ ({images.length}/{maxImages})\n        </h3>\n        <button \n           onClick={() => setShowLibrary(true)}\n           className=\"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1 font-medium\"\n        >\n            <Grid size={14} />\n            рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ ржерзЗржХрзЗ ржирж┐ржи\n        </button>\n      </div>\n\n      {/* Upload Zone */}\n      {images.length < maxImages && (\n        <div\n          onClick={() => fileInputRef.current?.click()}\n          onDragOver={handleDragOver}\n          onDragLeave={handleDragLeave}\n          onDrop={handleDrop}\n          className={`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-all mb-4 ${\n            isDragging \n              ? 'border-blue-500 bg-blue-50' \n              : 'border-gray-200 hover:border-gray-400 bg-white'\n          }`}\n        >\n          <div className=\"flex flex-col items-center\">\n            <div className={`p-3 rounded-full mb-2 transition-colors ${\n              isDragging ? 'bg-blue-100' : 'bg-gray-100'\n            }`}>\n              <Upload size={20} className={isDragging ? 'text-blue-600' : 'text-gray-500'} />\n            </div>\n            <p className=\"text-sm font-medium text-gray-700 mb-1\">\n              ржирждрзБржи ржЫржмрж┐ ржЖржкрж▓рзЛржб ржХрж░рзБржи\n            </p>\n            <p className=\"text-xs text-gray-400\">\n              JPEG, PNG, WebP (Max 5MB)\n            </p>\n          </div>\n          <input\n            ref={fileInputRef}\n            type=\"file\"\n            accept=\"image/jpeg,image/jpg,image/png,image/webp,image/gif\"\n            multiple\n            onChange={(e) => handleFileSelect(e.target.files)}\n            className=\"hidden\"\n          />\n        </div>\n      )}\n\n      {/* Image List */}\n      {images.length > 0 && (\n        <div className=\"space-y-3\">\n          {images.map((image, index) => (\n            <div key={index} className=\"bg-white border border-gray-200 rounded-lg p-3\">\n              {/* Image Preview */}\n              <div className=\"relative aspect-video bg-gray-100 rounded-lg overflow-hidden mb-2\">\n                {image.isUploading ? (\n                  <div className=\"absolute inset-0 flex items-center justify-center bg-gray-100\">\n                    <Loader2 className=\"animate-spin text-blue-500\" size={24} />\n                  </div>\n                ) : (\n                  <img \n                    src={image.url} \n                    alt={image.caption || `Image ${index + 1}`}\n                    className=\"w-full h-full object-cover\"\n                  />\n                )}\n                \n                {/* Remove button */}\n                {!image.isUploading && (\n                  <button\n                    onClick={() => handleRemove(index)}\n                    className=\"absolute top-2 right-2 p-1.5 bg-red-500 hover:bg-red-600 text-white rounded-full transition-colors shadow-lg\"\n                  >\n                    <X size={14} />\n                  </button>\n                )}\n\n                {/* Featured badge */}\n                {image.type === 'featured' && (\n                  <div className=\"absolute top-2 left-2 px-2 py-1 bg-blue-500 text-white text-xs font-bold rounded shadow-lg\">\n                    ржкрзНрж░ржзрж╛ржи\n                  </div>\n                )}\n              </div>\n\n              {/* Make Featured Button */}\n              {!image.isUploading && image.type !== 'featured' && (\n                <button\n                  onClick={() => handleMakeFeatured(index)}\n                  className=\"w-full mb-2 py-1.5 text-xs font-medium text-blue-600 hover:bg-blue-50 rounded transition-colors\"\n                >\n                  ржкрзНрж░ржзрж╛ржи ржЫржмрж┐ ржХрж░рзБржи\n                </button>\n              )}\n\n              {/* Caption Input */}\n              <input\n                type=\"text\"\n                placeholder=\"ржЫржмрж┐рж░ ржХрзНржпрж╛ржкрж╢ржи...\"\n                value={image.caption || ''}\n                onChange={(e) => handleCaptionChange(index, e.target.value)}\n                disabled={image.isUploading}\n                className=\"w-full p-2 text-sm border border-gray-200 rounded mb-2 outline-none focus:border-gray-400 disabled:bg-gray-50\"\n              />\n\n              {/* Photographer Input */}\n              <input\n                type=\"text\"\n                placeholder=\"ржлржЯрзЛржЧрзНрж░рж╛ржлрж╛рж░...\"\n                value={image.photographer || ''}\n                onChange={(e) => handlePhotographerChange(index, e.target.value)}\n                disabled={image.isUploading}\n                className=\"w-full p-2 text-sm border border-gray-200 rounded outline-none focus:border-gray-400 disabled:bg-gray-50\"\n              />\n            </div>\n          ))}\n        </div>\n      )}\n\n      {images.length === 0 && (\n        <p className=\"text-xs text-gray-400 text-center py-4\">\n          ржХрзЛржи ржЫржмрж┐ ржпрзБржХрзНржд рж╣ржпрж╝ржирж┐\n        </p>\n      )}\n\n      {/* Media Library Modal */}\n      {showLibrary && (\n          <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4\">\n              <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[80vh] flex flex-col overflow-hidden\">\n                  <div className=\"p-4 border-b border-gray-200 flex items-center justify-between\">\n                      <h3 className=\"font-bold text-lg\">ржорж┐ржбрж┐рзЯрж╛ рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐</h3>\n                      <button onClick={() => setShowLibrary(false)} className=\"p-2 hover:bg-gray-100 rounded-full\">\n                          <X size={20} />\n                      </button>\n                  </div>\n                  <div className=\"p-4 overflow-y-auto\">\n                      <MediaGallery onSelect={handleLibrarySelect} selectedId={null} />\n                  </div>\n              </div>\n          </div>\n      )}\n\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/editor/LocationSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/editor/NewsTypeSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/editor/SEOPanel.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useEffect' is defined but never used.","line":3,"column":20,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":29,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useEffect"},"fix":{"range":[32,43],"text":""},"desc":"Remove unused variable \"useEffect\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AlertCircle' is defined but never used.","line":4,"column":25,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":36,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"AlertCircle"},"fix":{"range":[82,95],"text":""},"desc":"Remove unused variable \"AlertCircle\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport { Search, Globe, AlertCircle, Sparkles } from 'lucide-react';\n\ninterface SEOPanelProps {\n  title: string;\n  description: string;\n  slug: string;\n  canonicalUrl: string;\n  onTitleChange: (value: string) => void;\n  onDescriptionChange: (value: string) => void;\n  onCanonicalUrlChange: (value: string) => void;\n  onGenerateSEO?: () => void;\n  isGenerating?: boolean;\n}\n\nexport default function SEOPanel({ \n  title, \n  description, \n  slug, \n  canonicalUrl,\n  onTitleChange, \n  onDescriptionChange,\n  onCanonicalUrlChange,\n  onGenerateSEO,\n  isGenerating = false\n}: SEOPanelProps) {\n  const [activeTab, setActiveTab] = useState<'preview' | 'edit'>('edit');\n\n  // Character limits\n  const TITLE_LIMIT = 60;\n  const DESC_LIMIT = 160;\n\n  return (\n    <div className=\"bg-white border border-gray-200 rounded-xl overflow-hidden\">\n      <div className=\"border-b border-gray-100 px-4 py-3 flex items-center justify-between bg-gray-50\">\n        <h3 className=\"font-semibold text-gray-800 flex items-center gap-2\">\n          <Search size={18} className=\"text-blue-600\" />\n          ржПрж╕ржЗржУ ржПржмржВ ржорзЗржЯрж╛ржбрзЗржЯрж╛\n        </h3>\n        \n        <div className=\"flex bg-white rounded-lg border border-gray-200 p-1\">\n          <button\n            onClick={() => setActiveTab('edit')}\n            className={`px-3 py-1 text-xs font-medium rounded transition-colors ${\n              activeTab === 'edit' ? 'bg-blue-50 text-blue-600' : 'text-gray-500 hover:text-gray-700'\n            }`}\n          >\n            ржПржбрж┐ржЯ\n          </button>\n          <button\n            onClick={() => setActiveTab('preview')}\n            className={`px-3 py-1 text-xs font-medium rounded transition-colors ${\n              activeTab === 'preview' ? 'bg-blue-50 text-blue-600' : 'text-gray-500 hover:text-gray-700'\n            }`}\n          >\n            ржкрзНрж░рж┐ржнрж┐ржЙ Look\n          </button>\n        </div>\n      </div>\n\n      <div className=\"p-4\">\n        {activeTab === 'edit' ? (\n          <div className=\"space-y-4\">\n            {/* SEO Title */}\n            <div>\n              <div className=\"flex justify-between items-center mb-1\">\n                <label className=\"text-xs font-medium text-gray-700\">ржорзЗржЯрж╛ рж╢рж┐рж░рзЛржирж╛ржо (SEO Title)</label>\n                <span className={`text-xs ${displayCountColor(title?.length || 0, TITLE_LIMIT)}`}>\n                  {title?.length || 0}/{TITLE_LIMIT}\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                value={title}\n                onChange={(e) => onTitleChange(e.target.value)}\n                placeholder=\"ржЧрзБржЧрж▓ рж╕рж╛рж░рзНржЪрзЗ ржжрзЗржЦрж╛ржирзЛрж░ ржЬржирзНржп рж╢рж┐рж░рзЛржирж╛ржо...\"\n                className=\"w-full p-2.5 text-sm border border-gray-200 rounded-lg outline-none focus:border-blue-500 transition-colors\"\n              />\n              <p className=\"text-[10px] text-gray-400 mt-1\">\n                рзмрзж ржХрзНржпрж╛рж░рзЗржХрзНржЯрж╛рж░рзЗрж░ ржоржзрзНржпрзЗ рж░рж╛ржЦрж╛ ржнрж╛рж▓рзЛред ржПржЯрж┐ ржмрзНрж░рж╛ржЙржЬрж╛рж░ ржЯрзНржпрж╛ржм ржПржмржВ рж╕рж╛рж░рзНржЪ рж░рзЗржЬрж╛рж▓рзНржЯрзЗ ржжрзЗржЦрж╛ржмрзЗред\n              </p>\n            </div>\n\n            {/* Meta Description */}\n            <div>\n              <div className=\"flex justify-between items-center mb-1\">\n                <label className=\"text-xs font-medium text-gray-700\">ржорзЗржЯрж╛ ржмрж░рзНржгржирж╛ (Meta Description)</label>\n                <span className={`text-xs ${displayCountColor(description?.length || 0, DESC_LIMIT)}`}>\n                  {description?.length || 0}/{DESC_LIMIT}\n                </span>\n              </div>\n              \n              {onGenerateSEO && (\n                 <button\n                    onClick={onGenerateSEO}\n                    disabled={isGenerating}\n                    className=\"mb-2 text-xs flex items-center gap-1.5 text-blue-600 font-medium hover:text-blue-800 transition-colors bg-blue-50 px-2.5 py-1.5 rounded-lg border border-blue-100 hover:border-blue-200 disabled:opacity-50 disabled:cursor-not-allowed\"\n                 >\n                    <Sparkles size={12} className={isGenerating ? \"animate-spin\" : \"\"} />\n                    {isGenerating ? \"Generating...\" : \"Auto Generate with AI\"}\n                 </button>\n              )}\n\n              <textarea\n                value={description}\n                onChange={(e) => onDescriptionChange(e.target.value)}\n                placeholder=\"ржЦржмрж░рзЗрж░ рж╕ржВржХрзНрж╖рж┐ржкрзНржд рж╕рж╛рж░ржорж░рзНржо...\"\n                rows={3}\n                className=\"w-full p-2.5 text-sm border border-gray-200 rounded-lg outline-none focus:border-blue-500 transition-colors resize-none\"\n              />\n            </div>\n\n            {/* Canonical URL */}\n            <div>\n              <label className=\"text-xs font-medium text-gray-700 mb-1 block\">ржХрзНржпрж╛ржирзЛржирж┐ржХрзНржпрж╛рж▓ рж▓рж┐ржВржХ (Canonical URL)</label>\n              <div className=\"flex items-center gap-2\">\n                <Globe size={16} className=\"text-gray-400\" />\n                <input\n                  type=\"url\"\n                  value={canonicalUrl}\n                  onChange={(e) => onCanonicalUrlChange(e.target.value)}\n                  placeholder=\"https://samakal.com/...\"\n                  className=\"flex-1 p-2 text-sm border-b border-gray-200 outline-none focus:border-blue-500 transition-colors font-mono text-gray-600\"\n                />\n              </div>\n            </div>\n          </div>\n        ) : (\n          /* Google Search Preview */\n          <div className=\"bg-white p-4 rounded border border-gray-100 shadow-sm\">\n            <p className=\"text-xs text-gray-400 uppercase tracking-wider mb-3\">Google Search Preview</p>\n            \n            <div className=\"flex flex-col gap-1 max-w-[600px] font-sans\">\n              {/* URL Breadcrumb */}\n              <div className=\"flex items-center gap-2 text-sm text-[#202124]\">\n                <div className=\"bg-gray-100 rounded-full w-7 h-7 flex items-center justify-center\">\n                  <span className=\"font-bold text-gray-600 text-xs\">S</span>\n                </div>\n                <div className=\"flex flex-col leading-tight\">\n                  <span className=\"text-xs font-medium\">Samakal</span>\n                  <span className=\"text-[10px] text-gray-500\">https://samakal.com тА║ news тА║ {slug || '...'}</span>\n                </div>\n              </div>\n\n              {/* Title */}\n              <h3 className=\"text-[#1a0dab] text-xl font-medium HOVER:underline cursor-pointer truncate\">\n                {title || 'ржПржЦрж╛ржирзЗ ржЖржкржирж╛рж░ ржПрж╕ржЗржУ рж╢рж┐рж░рзЛржирж╛ржо ржжрзЗржЦрж╛ржмрзЗ | рж╕ржоржХрж╛рж▓'}\n              </h3>\n\n              {/* Description */}\n              <p className=\"text-sm text-[#4d5156] leading-snug line-clamp-2\">\n                <span className=\"text-gray-400 text-xs mr-2\">\n                  {new Date().toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })} тАФ\n                </span>\n                {description || 'ржПржЦрж╛ржирзЗ ржЖржкржирж╛рж░ ржорзЗржЯрж╛ ржмрж░рзНржгржирж╛ ржжрзЗржЦрж╛ржмрзЗред ржПржЯрж┐ рж╕рж╛рж░рзНржЪ рж░рзЗржЬрж╛рж▓рзНржЯрзЗ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАржжрзЗрж░ ржЖржХрзГрж╖рзНржЯ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗ...'}\n              </p>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction displayCountColor(current: number, max: number) {\n  if (current > max) return 'text-red-500 font-bold';\n  if (current > max * 0.8) return 'text-orange-500';\n  return 'text-gray-400';\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/editor/Sidebar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'onPublish' is defined but never used.","line":77,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":77,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isPublishing' is defined but never used.","line":78,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":78,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'scheduledAt' is defined but never used.","line":114,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":114,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setScheduledAt' is defined but never used.","line":115,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":115,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState, Dispatch, SetStateAction } from 'react';\nimport {\n  Search,\n  Clock, Calendar, Upload, FileText\n} from 'lucide-react';\nimport NewsTypeSelector from './NewsTypeSelector';\nimport LocationSelector from './LocationSelector';\nimport TagInput from './TagInput';\nimport ImageUploader from './ImageUploader';\nimport VideoEmbedder from './VideoEmbedder';\nimport ContributorSelector from './ContributorSelector';\nimport SourceInput from './SourceInput';\nimport SEOPanel from './SEOPanel';\nimport { NewsType, ArticleData, ArticleImage, Contributor, Event } from './types';\nimport type { LucideIcon } from 'lucide-react';\n\n\ninterface SidebarProps {\n  onPublish: (_metadata: ArticleData) => void;\n  isPublishing: boolean;\n\n  // State Props\n  category: string;\n  setCategory: (val: string) => void;\n  newsType: NewsType;\n  setNewsType: (val: NewsType) => void;\n  location: string;\n  setLocation: (val: string) => void;\n  tags: string[];\n  setTags: (val: string[]) => void;\n  keywords: string[];\n  setKeywords: (val: string[]) => void;\n\n  // Media\n  images: ArticleImage[];\n  setImages: Dispatch<SetStateAction<ArticleImage[]>>;\n  videoUrl: string;\n  setVideoUrl: (val: string) => void;\n\n  // Attribution\n  contributors: Contributor[];\n  setContributors: (val: Contributor[]) => void;\n  source: string;\n  setSource: (val: string) => void;\n  sourceUrl: string;\n  setSourceUrl: (val: string) => void;\n\n  // SEO\n  seoTitle: string;\n  setSeoTitle: (val: string) => void;\n  seoDescription: string;\n  setSeoDescription: (val: string) => void;\n  canonicalUrl: string;\n  setCanonicalUrl: (val: string) => void;\n  onGenerateSEO?: () => void;\n  isGeneratingAI?: boolean;\n\n  // Events\n  events: Event[];\n  eventId: string;\n  setEventId: (val: string) => void;\n\n  // Publication\n  status: 'draft' | 'published' | 'archived' | 'scheduled';\n  setStatus: (val: 'draft' | 'published' | 'archived' | 'scheduled') => void;\n  publishedAt: string;\n  setPublishedAt: (val: string) => void;\n  scheduledAt: string;\n  setScheduledAt: (val: string) => void;\n}\n\ntype Tab = 'publishing' | 'media' | 'details' | 'seo';\n\nexport default function Sidebar({ \n    onPublish, \n    isPublishing, \n    category, \n    setCategory,\n    newsType,\n    setNewsType,\n    location,\n    setLocation,\n    tags,\n    setTags,\n    keywords,\n    setKeywords,\n    images,\n    setImages,\n    videoUrl,\n    setVideoUrl,\n    contributors,\n    setContributors,\n    source,\n    setSource,\n    sourceUrl,\n    setSourceUrl,\n    seoTitle,\n    setSeoTitle,\n    seoDescription,\n    setSeoDescription,\n    canonicalUrl,\n    setCanonicalUrl,\n    onGenerateSEO,\n    isGeneratingAI,\n    events,\n    eventId,\n    setEventId,\n    status,\n    setStatus,\n    publishedAt,\n    setPublishedAt,\n    scheduledAt,\n    setScheduledAt,\n}: SidebarProps) {\n  const [activeTab, setActiveTab] = useState<Tab>('publishing');\n  \n  const tabs: { id: Tab; label: string; icon: LucideIcon }[] = [\n      { id: 'publishing', label: 'Publication', icon: Calendar },\n      { id: 'media', label: 'Media Assets', icon: Upload },\n      { id: 'details', label: 'Details & Tags', icon: FileText },\n      { id: 'seo', label: 'SEO Config', icon: Search }\n  ];\n\n  return (\n    <div className=\"w-full bg-slate-50 border-b border-gray-200 shadow-sm relative z-10 hidden md:block\">\n      <div className=\"max-w-screen-2xl mx-auto\">\n          {/* Header & Tabs */}\n          <div className=\"px-6 py-4 flex items-center justify-between border-b border-gray-100 bg-white/50 backdrop-blur-xl sticky top-0\">\n              <div className=\"inline-flex p-1 bg-gray-100/80 rounded-xl gap-1 border border-gray-200/50\">\n                {tabs.map((tab) => (\n                  <button\n                    key={tab.id}\n                    onClick={() => setActiveTab(tab.id)}\n                    className={`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2 ${\n                      activeTab === tab.id \n                        ? 'bg-white text-black shadow-sm ring-1 ring-black/5 scale-[1.02]' \n                        : 'text-gray-500 hover:text-gray-900 hover:bg-black/5'\n                    }`}\n                  >\n                    <tab.icon size={14} className={activeTab === tab.id ? 'text-blue-600' : 'text-gray-400'} />\n                    {tab.label}\n                  </button>\n                ))}\n              </div>\n              \n              <div className=\"text-xs text-gray-400 font-medium uppercase tracking-wider hidden sm:block\">\n                  Control Center\n              </div>\n          </div>\n\n          {/* Content Area */}\n          <div className=\"p-6 md:p-8 min-h-[300px] bg-white\">\n            <div className=\"max-w-6xl mx-auto animate-in fade-in slide-in-from-top-1 duration-300\">\n                \n                {/* TAB 1: PUBLISHING */}\n                {activeTab === 'publishing' && (\n                    <div className=\"grid grid-cols-1 md:grid-cols-12 gap-8\">\n                        {/* Column 1: News Type & Event */}\n                        <div className=\"md:col-span-4 space-y-6\">\n                             <div className=\"bg-gray-50 p-5 rounded-xl border border-gray-100\">\n                                <h3 className=\"text-xs font-bold text-gray-500 uppercase tracking-wider mb-4 flex items-center gap-2\">\n                                    <FileText size={14} /> News Type\n                                </h3>\n                                <NewsTypeSelector value={newsType} onChange={setNewsType} />\n                             </div>\n\n                             <div className=\"bg-blue-50/50 p-5 rounded-xl border border-blue-100\">\n                                <h3 className=\"text-xs font-bold text-blue-900 uppercase tracking-wider mb-4 flex items-center gap-2\">\n                                    <Calendar size={14} /> Special Event\n                                </h3>\n                                <select \n                                    value={eventId} \n                                    onChange={(e) => setEventId(e.target.value)}\n                                    className=\"w-full p-3 bg-white border border-blue-200 rounded-lg text-sm font-medium outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all shadow-sm text-blue-900\"\n                                >\n                                    <option value=\"\">None</option>\n                                    {events.map((event) => (\n                                        <option key={event.id} value={event.id}>\n                                            {event.title}\n                                        </option>\n                                    ))}\n                                </select>\n                             </div>\n                        </div>\n\n                        <div className=\"md:col-span-4\">\n                            <div className=\"bg-gray-50 p-5 rounded-xl border border-gray-100\">\n                                <h3 className=\"text-xs font-bold text-gray-500 uppercase tracking-wider mb-4\">Category</h3>\n                                <select \n                                    value={category} \n                                    onChange={(e) => setCategory(e.target.value)}\n                                    className=\"w-full p-3 bg-white border border-gray-200 rounded-lg text-sm font-medium outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all shadow-sm\"\n                                >\n                                    <option value=\"\">Select Category...</option>\n                                    \n                                    {/* ржЦрзЗрж▓рж╛ (Sports) */}\n                                    <optgroup label=\"ржЦрзЗрж▓рж╛ (Sports)\">\n                                        <option value=\"ржЦрзЗрж▓рж╛\">ржЦрзЗрж▓рж╛ (Parent)</option>\n                                        <option value=\"ржХрзНрж░рж┐ржХрзЗржЯ\">ржХрзНрж░рж┐ржХрзЗржЯ</option>\n                                        <option value=\"ржлрзБржЯржмрж▓\">ржлрзБржЯржмрж▓</option>\n                                        <option value=\"ржЯрзЗржирж┐рж╕\">ржЯрзЗржирж┐рж╕</option>\n                                        <option value=\"ржЧрж▓ржл\">ржЧрж▓ржл</option>\n                                        <option value=\"ржмрзНржпрж╛ржбржорж┐ржирзНржЯржи\">ржмрзНржпрж╛ржбржорж┐ржирзНржЯржи</option>\n                                        <option value=\"ржмрж┐ржмрж┐ржз\">ржмрж┐ржмрж┐ржз</option>\n                                    </optgroup>\n                                    \n                                    {/* ржмрж┐ржирзЛржжржи (Entertainment) */}\n                                    <optgroup label=\"ржмрж┐ржирзЛржжржи (Entertainment)\">\n                                        <option value=\"ржмрж┐ржирзЛржжржи\">ржмрж┐ржирзЛржжржи (Parent)</option>\n                                        <option value=\"ржмрж▓рж┐ржЙржб\">ржмрж▓рж┐ржЙржб</option>\n                                        <option value=\"рж╣рж▓рж┐ржЙржб\">рж╣рж▓рж┐ржЙржб</option>\n                                        <option value=\"ржврж╛рж▓рж┐ржЙржб\">ржврж╛рж▓рж┐ржЙржб</option>\n                                        <option value=\"ржЯрзЗрж▓рж┐ржнрж┐рж╢ржи\">ржЯрзЗрж▓рж┐ржнрж┐рж╢ржи</option>\n                                        <option value=\"ржорж┐ржЙржЬрж┐ржХ\">ржорж┐ржЙржЬрж┐ржХ</option>\n                                        <option value=\"ржУржЯрж┐ржЯрж┐\">ржУржЯрж┐ржЯрж┐</option>\n                                    </optgroup>\n                                    \n                                    {/* рж░рж╛ржЬржирзАрждрж┐ (Politics) */}\n                                    <optgroup label=\"рж░рж╛ржЬржирзАрждрж┐ (Politics)\">\n                                        <option value=\"рж░рж╛ржЬржирзАрждрж┐\">рж░рж╛ржЬржирзАрждрж┐ (Parent)</option>\n                                        <option value=\"ржЖржУржпрж╝рж╛ржорзА рж▓рзАржЧ\">ржЖржУржпрж╝рж╛ржорзА рж▓рзАржЧ</option>\n                                        <option value=\"ржмрж┐ржПржиржкрж┐\">ржмрж┐ржПржиржкрж┐</option>\n                                        <option value=\"ржЬрж╛рждрзАржпрж╝ ржкрж╛рж░рзНржЯрж┐\">ржЬрж╛рждрзАржпрж╝ ржкрж╛рж░рзНржЯрж┐</option>\n                                        <option value=\"ржирж┐рж░рзНржмрж╛ржЪржи\">ржирж┐рж░рзНржмрж╛ржЪржи</option>\n                                    </optgroup>\n\n                                    {/* ржЕрж░рзНржержирзАрждрж┐ (Economics) */}\n                                    <optgroup label=\"ржЕрж░рзНржержирзАрждрж┐ (Economics)\">\n                                        <option value=\"ржЕрж░рзНржержирзАрждрж┐\">ржЕрж░рзНржержирзАрждрж┐ (Parent)</option>\n                                        <option value=\"рж╢рж┐рж▓рзНржк-ржмрж╛ржгрж┐ржЬрзНржп\">рж╢рж┐рж▓рзНржк-ржмрж╛ржгрж┐ржЬрзНржп</option>\n                                        <option value=\"рж╢рзЗржпрж╝рж╛рж░ржмрж╛ржЬрж╛рж░\">рж╢рзЗржпрж╝рж╛рж░ржмрж╛ржЬрж╛рж░</option>\n                                        <option value=\"ржмрзНржпрж╛ржВржХ-ржмрзАржорж╛\">ржмрзНржпрж╛ржВржХ-ржмрзАржорж╛</option>\n                                        <option value=\"ржмрж╛ржЬрзЗржЯ\">ржмрж╛ржЬрзЗржЯ</option>\n                                    </optgroup>\n                                    \n                                    {/* ржмрж┐рж╢рзНржм (World) */}\n                                    <optgroup label=\"ржмрж┐рж╢рзНржм (World)\">\n                                        <option value=\"ржмрж┐рж╢рзНржм\">ржмрж┐рж╢рзНржм (Parent)</option>\n                                        <option value=\"ржЗржЙрж░рзЛржк\">ржЗржЙрж░рзЛржк</option>\n                                        <option value=\"ржЖржорзЗрж░рж┐ржХрж╛\">ржЖржорзЗрж░рж┐ржХрж╛</option>\n                                        <option value=\"ржоржзрзНржпржкрзНрж░рж╛ржЪрзНржп\">ржоржзрзНржпржкрзНрж░рж╛ржЪрзНржп</option>\n                                        <option value=\"ржпрзБржжрзНржз-рж╕ржВржШрж╛ржд\">ржпрзБржжрзНржз-рж╕ржВржШрж╛ржд</option>\n                                    </optgroup>\n                                    \n                                    {/* ржкрзНрж░ржпрзБржХрзНрждрж┐ (Technology) */}\n                                    <optgroup label=\"ржкрзНрж░ржпрзБржХрзНрждрж┐ (Technology)\">\n                                        <option value=\"ржкрзНрж░ржпрзБржХрзНрждрж┐\">ржкрзНрж░ржпрзБржХрзНрждрж┐ (Parent)</option>\n                                        <option value=\"ржЧрзНржпрж╛ржЬрзЗржЯ\">ржЧрзНржпрж╛ржЬрзЗржЯ</option>\n                                        <option value=\"рж╕рзЛрж╢рзНржпрж╛рж▓ ржорж┐ржбрж┐ржпрж╝рж╛\">рж╕рзЛрж╢рзНржпрж╛рж▓ ржорж┐ржбрж┐ржпрж╝рж╛</option>\n                                        <option value=\"ржЖржЗржЯрж┐ ржЦрж╛ржд\">ржЖржЗржЯрж┐ ржЦрж╛ржд</option>\n                                        <option value=\"ржмрж┐ржЬрзНржЮрж╛ржи\">ржмрж┐ржЬрзНржЮрж╛ржи</option>\n                                    </optgroup>\n                                    \n                                    {/* ржЬрзАржмржиржпрж╛ржкржи (Lifestyle) */}\n                                    <optgroup label=\"ржЬрзАржмржиржпрж╛ржкржи (Lifestyle)\">\n                                        <option value=\"ржЬрзАржмржиржпрж╛ржкржи\">ржЬрзАржмржиржпрж╛ржкржи (Parent)</option>\n                                        <option value=\"ржлрзНржпрж╛рж╢ржи\">ржлрзНржпрж╛рж╢ржи</option>\n                                        <option value=\"ржЦрж╛ржмрж╛рж░\">ржЦрж╛ржмрж╛рж░</option>\n                                        <option value=\"ржнрзНрж░ржоржг\">ржнрзНрж░ржоржг</option>\n                                        <option value=\"рж╕рзНржмрж╛рж╕рзНржерзНржп ржЯрж┐ржкрж╕\">рж╕рзНржмрж╛рж╕рзНржерзНржп ржЯрж┐ржкрж╕</option>\n                                    </optgroup>\n                                    \n                                    {/* рж╢рж┐ржХрзНрж╖рж╛ (Education) */}\n                                    <optgroup label=\"рж╢рж┐ржХрзНрж╖рж╛ (Education)\">\n                                        <option value=\"рж╢рж┐ржХрзНрж╖рж╛\">рж╢рж┐ржХрзНрж╖рж╛ (Parent)</option>\n                                        <option value=\"ржХрзНржпрж╛ржорзНржкрж╛рж╕\">ржХрзНржпрж╛ржорзНржкрж╛рж╕</option>\n                                        <option value=\"ржнрж░рзНрждрж┐\">ржнрж░рзНрждрж┐</option>\n                                        <option value=\"ржкрж░рзАржХрзНрж╖рж╛ ржУ ржлрж▓\">ржкрж░рзАржХрзНрж╖рж╛ ржУ ржлрж▓</option>\n                                        <option value=\"ржмрзГрждрзНрждрж┐\">ржмрзГрждрзНрждрж┐</option>\n                                    </optgroup>\n                                    \n                                    {/* ржЕржкрж░рж╛ржз (Crime) */}\n                                    <optgroup label=\"ржЕржкрж░рж╛ржз (Crime)\">\n                                        <option value=\"ржЕржкрж░рж╛ржз\">ржЕржкрж░рж╛ржз (Parent)</option>\n                                        <option value=\"ржЦрзБржи\">ржЦрзБржи</option>\n                                        <option value=\"ржжрзБрж░рзНржирзАрждрж┐\">ржжрзБрж░рзНржирзАрждрж┐</option>\n                                        <option value=\"ржзрж░рзНрж╖ржг\">ржзрж░рзНрж╖ржг</option>\n                                        <option value=\"ржЖржжрж╛рж▓ржд\">ржЖржжрж╛рж▓ржд</option>\n                                    </optgroup>\n                                    \n                                    {/* рж░рж╛ржЬржзрж╛ржирзА (Capital) */}\n                                    <optgroup label=\"рж░рж╛ржЬржзрж╛ржирзА (Capital)\">\n                                        <option value=\"рж░рж╛ржЬржзрж╛ржирзА\">рж░рж╛ржЬржзрж╛ржирзА (Parent)</option>\n                                        <option value=\"ржЙрждрзНрждрж░ рж╕рж┐ржЯрж┐\">ржЙрждрзНрждрж░ рж╕рж┐ржЯрж┐</option>\n                                        <option value=\"ржжржХрзНрж╖рж┐ржг рж╕рж┐ржЯрж┐\">ржжржХрзНрж╖рж┐ржг рж╕рж┐ржЯрж┐</option>\n                                        <option value=\"ржпрж╛ржиржЬржЯ\">ржпрж╛ржиржЬржЯ</option>\n                                    </optgroup>\n                                    \n                                    {/* ржмрж╛ржВрж▓рж╛ржжрзЗрж╢ (Bangladesh) */}\n                                    <optgroup label=\"ржмрж╛ржВрж▓рж╛ржжрзЗрж╢ (Bangladesh)\">\n                                        <option value=\"ржмрж╛ржВрж▓рж╛ржжрзЗрж╢\">ржмрж╛ржВрж▓рж╛ржжрзЗрж╢ (Parent)</option>\n                                        <option value=\"ржЖржЗржи ржУ ржмрж┐ржЪрж╛рж░\">ржЖржЗржи ржУ ржмрж┐ржЪрж╛рж░</option>\n                                        <option value=\"рж╕рзНржмрж╛рж╕рзНржерзНржп\">рж╕рзНржмрж╛рж╕рзНржерзНржп</option>\n                                        <option value=\"ржХрзГрж╖рж┐\">ржХрзГрж╖рж┐</option>\n                                        <option value=\"ржкрж░рж┐ржмрзЗрж╢\">ржкрж░рж┐ржмрзЗрж╢</option>\n                                    </optgroup>\n                                    \n                                    {/* ржорждрж╛ржоржд (Opinion) */}\n                                    <optgroup label=\"ржорждрж╛ржоржд (Opinion)\">\n                                        <option value=\"ржорждрж╛ржоржд\">ржорждрж╛ржоржд (Parent)</option>\n                                        <option value=\"рж╕рж╛ржХрзНрж╖рж╛рзОржХрж╛рж░\">рж╕рж╛ржХрзНрж╖рж╛рзОржХрж╛рж░</option>\n                                        <option value=\"ржЪрждрзБрж░ржЩрзНржЧ\">ржЪрждрзБрж░ржЩрзНржЧ</option>\n                                        <option value=\"ржорзБржХрзНрждржоржЮрзНржЪ\">ржорзБржХрзНрждржоржЮрзНржЪ</option>\n                                        <option value=\"рж╕ржорзНржкрж╛ржжржХрзАржпрж╝\">рж╕ржорзНржкрж╛ржжржХрзАржпрж╝</option>\n                                    </optgroup>\n                                </select>\n                            </div>\n                        </div>\n\n                        {/* Column 3: Scheduling, Location etc. */}\n                        <div className=\"md:col-span-4 space-y-6\">\n                            <div className=\"bg-amber-50 p-5 rounded-xl border border-amber-100 shadow-sm\">\n                                <h3 className=\"text-xs font-bold text-amber-900 uppercase tracking-wider mb-4 flex items-center gap-2\">\n                                    <Clock size={14} /> Scheduling & Status\n                                </h3>\n                                <div className=\"space-y-4\">\n                                    <div>\n                                        <label className=\"block text-[10px] font-bold text-amber-800 uppercase mb-1\">Status</label>\n                                        <select \n                                            value={status}\n                                            onChange={(e) => setStatus(e.target.value as 'draft' | 'published' | 'archived' | 'scheduled')}\n                                            className=\"w-full p-2 bg-white border border-amber-200 rounded-lg text-sm outline-none focus:ring-2 focus:ring-amber-500/20\"\n                                        >\n                                            <option value=\"draft\">Draft</option>\n                                            <option value=\"published\">Published</option>\n                                            <option value=\"scheduled\">Scheduled</option>\n                                            <option value=\"archived\">Archived</option>\n                                        </select>\n                                    </div>\n                                    \n                                    <div>\n                                        <label className=\"block text-[10px] font-bold text-amber-800 uppercase mb-1\">Publication Date</label>\n                                        <input \n                                            type=\"datetime-local\"\n                                            value={publishedAt}\n                                            onChange={(e) => setPublishedAt(e.target.value)}\n                                            className=\"w-full p-2 bg-white border border-amber-200 rounded-lg text-sm outline-none focus:ring-2 focus:ring-amber-500/20\"\n                                        />\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div className=\"bg-gray-50 p-5 rounded-xl border border-gray-100\">\n                                <h3 className=\"text-xs font-bold text-gray-500 uppercase tracking-wider mb-4\">Location</h3>\n                                <LocationSelector value={location} onChange={setLocation} />\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {/* TAB 2: MEDIA */}\n                {activeTab === 'media' && (\n                    <div className=\"grid grid-cols-1 md:grid-cols-12 gap-8\">\n                        <div className=\"md:col-span-8\">\n                            <div className=\"bg-white rounded-xl border-dashed border-2 border-gray-200 p-6 h-full\">\n                                <h3 className=\"text-sm font-bold text-gray-900 mb-4\">Featured Images & Gallery</h3>\n                                <ImageUploader \n                                  images={images} \n                                  onImagesChange={setImages}\n                                  maxImages={10}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"md:col-span-4\">\n                            <div className=\"bg-gray-50 p-6 rounded-xl border border-gray-100 h-full\">\n                                <h3 className=\"text-sm font-bold text-gray-900 mb-4\">Video Embed</h3>\n                                <VideoEmbedder \n                                  value={videoUrl}\n                                  onChange={setVideoUrl}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {/* TAB 3: DETAILS */}\n                {activeTab === 'details' && (\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-12\">\n                         <div className=\"space-y-8\">\n                             <div>\n                                <h3 className=\"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4\">Attribution</h3>\n                                <ContributorSelector \n                                    contributors={contributors} \n                                    onChange={setContributors} \n                                />\n                             </div>\n                             \n                             <div className=\"pt-8 border-t border-gray-100\">\n                                <SourceInput \n                                    source={source} \n                                    sourceUrl={sourceUrl}\n                                    onSourceChange={setSource}\n                                    onUrlChange={setSourceUrl}\n                                />\n                             </div>\n                         </div>\n\n                         <div className=\"bg-gray-50 p-6 rounded-xl border border-gray-100\">\n                             <h3 className=\"text-xs font-bold text-gray-500 uppercase tracking-wider mb-4\">Tags & Topics</h3>\n                             <TagInput \n                                value={tags} \n                                onChange={setTags} \n                                label=\"Article Tags\"\n                                placeholder=\"Add tags...\"\n                             />\n                             <p className=\"text-xs text-gray-400 mt-3 leading-relaxed\">\n                                Add relevant tags to improve content discovery. Press Enter to add.\n                             </p>\n                         </div>\n                    </div>\n                )}\n\n                {/* TAB 4: SEO */}\n                {activeTab === 'seo' && (\n                    <div className=\"grid grid-cols-1 md:grid-cols-12 gap-8\">\n                        <div className=\"md:col-span-7\">\n                            <SEOPanel \n                                title={seoTitle}\n                                onTitleChange={setSeoTitle}\n                                description={seoDescription}\n                                onDescriptionChange={setSeoDescription}\n                                slug={''} \n                                canonicalUrl={canonicalUrl}\n                                onCanonicalUrlChange={setCanonicalUrl}\n                                onGenerateSEO={onGenerateSEO}\n                                isGenerating={isGeneratingAI}\n                            />\n                        </div>\n                        \n                        <div className=\"md:col-span-5\">\n                            <div className=\"bg-blue-50/50 p-6 rounded-xl border border-blue-100\">\n                                <h3 className=\"text-sm font-bold text-blue-900 mb-4 flex items-center gap-2\">\n                                    <Search size={16} /> Meta Keywords\n                                </h3>\n                                <TagInput \n                                  value={keywords} \n                                  onChange={setKeywords}\n                                  label=\"\"\n                                  placeholder=\"Add keywords...\"\n                                />\n                                <div className=\"mt-4 p-4 bg-white/60 rounded-lg text-xs text-blue-800 leading-relaxed\">\n                                    <strong>Why Keywords?</strong> Although Google doesn&apos;t strictly use meta keywords for ranking, they can be helpful for other search engines and internal tagging systems.\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n          </div>\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/editor/SourceInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/editor/TagInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/editor/Toolbar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/editor/VideoEmbedder.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/editor/VideoEmbedder.tsx:20:7\n  18 |   useEffect(() => {\n  19 |     if (value) {\n> 20 |       setUrl(value);\n     |       ^^^^^^ Avoid calling setState() directly within an effect\n  21 |       const thumb = getVideoThumbnail(value);\n  22 |       setThumbnail(thumb);\n  23 |     }","line":20,"column":7,"nodeType":null,"endLine":20,"endColumn":13},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":117,"column":17,"nodeType":"JSXOpeningElement","endLine":121,"endColumn":19}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport { Video, X, Loader2, ExternalLink } from 'lucide-react';\nimport { getVideoThumbnail, isValidVideoUrl } from '@/lib/upload';\n\ninterface VideoEmbedderProps {\n  value: string;\n  onChange: (url: string) => void;\n}\n\nexport default function VideoEmbedder({ value, onChange }: VideoEmbedderProps) {\n  const [url, setUrl] = useState(value);\n  const [thumbnail, setThumbnail] = useState<string | null>(null);\n  const [isValidating, setIsValidating] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (value) {\n      setUrl(value);\n      const thumb = getVideoThumbnail(value);\n      setThumbnail(thumb);\n    }\n  }, [value]);\n\n  const handleUrlChange = (newUrl: string) => {\n    setUrl(newUrl);\n    setError(null);\n    setThumbnail(null);\n  };\n\n  const handleApply = () => {\n    if (!url) {\n      onChange('');\n      setThumbnail(null);\n      setError(null);\n      return;\n    }\n\n    setIsValidating(true);\n    \n    // Validate URL\n    if (!isValidVideoUrl(url)) {\n      setError('рж╢рзБржзрзБржорж╛рждрзНрж░ YouTube ржмрж╛ Facebook ржнрж┐ржбрж┐ржУ URL рж╕ржорж░рзНржерж┐ржд');\n      setIsValidating(false);\n      return;\n    }\n\n    // Extract thumbnail\n    const thumb = getVideoThumbnail(url);\n    setThumbnail(thumb);\n    onChange(url);\n    setError(null);\n    setIsValidating(false);\n  };\n\n  const handleClear = () => {\n    setUrl('');\n    setThumbnail(null);\n    setError(null);\n    onChange('');\n  };\n\n  return (\n    <div>\n      <h3 className=\"text-xs font-bold text-gray-500 uppercase tracking-wider mb-4\">\n        ржнрж┐ржбрж┐ржУ ржПржорзНржмрзЗржб\n      </h3>\n\n      {/* URL Input */}\n      <div className=\"space-y-2 mb-3\">\n        <div className=\"flex gap-2\">\n          <input\n            type=\"url\"\n            value={url}\n            onChange={(e) => handleUrlChange(e.target.value)}\n            onBlur={handleApply}\n            onKeyDown={(e) => e.key === 'Enter' && handleApply()}\n            placeholder=\"YouTube ржмрж╛ Facebook ржнрж┐ржбрж┐ржУ URL...\"\n            className=\"flex-1 p-2.5 text-sm border border-gray-200 rounded-lg outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100\"\n          />\n          {url && (\n            <button\n              onClick={handleClear}\n              className=\"p-2.5 hover:bg-gray-100 rounded-lg transition-colors\"\n              title=\"Clear\"\n            >\n              <X size={16} className=\"text-gray-500\" />\n            </button>\n          )}\n        </div>\n\n        {error && (\n          <p className=\"text-xs text-red-500 flex items-center gap-1\">\n            тЪа {error}\n          </p>\n        )}\n\n        <p className=\"text-xs text-gray-400\">\n          YouTube ржмрж╛ Facebook video link ржкрзЗрж╕рзНржЯ ржХрж░рзБржи\n        </p>\n      </div>\n\n      {/* Video Preview */}\n      {isValidating && (\n        <div className=\"aspect-video bg-gray-100 rounded-lg flex items-center justify-center\">\n          <Loader2 className=\"animate-spin text-gray-400\" size={32} />\n        </div>\n      )}\n\n      {!isValidating && value && !error && (\n        <div className=\"space-y-2\">\n          {/* Thumbnail or Embed Preview */}\n          <div className=\"relative aspect-video bg-gray-900 rounded-lg overflow-hidden group\">\n            {thumbnail ? (\n              <>\n                <img \n                  src={thumbnail} \n                  alt=\"Video thumbnail\"\n                  className=\"w-full h-full object-cover\"\n                />\n                <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\n                  <div className=\"w-16 h-16 bg-white/90 rounded-full flex items-center justify-center\">\n                    <Video className=\"text-gray-800\" size={32} />\n                  </div>\n                </div>\n              </>\n            ) : (\n              <div className=\"w-full h-full flex flex-col items-center justify-center text-white\">\n                <Video size={48} className=\"mb-2 opacity-50\" />\n                <p className=\"text-sm opacity-75\">Facebook Video</p>\n                <p className=\"text-xs opacity-50 mt-1\">Preview not available</p>\n              </div>\n            )}\n          </div>\n\n          {/* Open Link */}\n          <a\n            href={value}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"flex items-center justify-center gap-2 py-2 text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors\"\n          >\n            <ExternalLink size={14} />\n            ржнрж┐ржбрж┐ржУ ржжрзЗржЦрзБржи\n          </a>\n        </div>\n      )}\n\n      {!value && !error && (\n        <div className=\"aspect-video bg-gray-50 border-2 border-dashed border-gray-200 rounded-lg flex flex-col items-center justify-center text-gray-400\">\n          <Video size={32} className=\"mb-2\" />\n          <p className=\"text-sm\">ржХрзЛржи ржнрж┐ржбрж┐ржУ ржпрзБржХрзНржд рж╣ржпрж╝ржирж┐</p>\n        </div>\n      )}\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/editor/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/media/MediaGallery.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/media/MediaSidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/media/UploadZone.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/newsroom/ArticleTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/newsroom/StatusBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/team/AddMemberDialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/dashboard/team/TeamTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/skeletons/ArticleCardSkeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/components/ui/skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/config/adPlacements.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/config/categories.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/config/sub-categories.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/constants/bengali-text.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/contexts/AdminAuthContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/contexts/VideoPlayerContext.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useEffect' is defined but never used.","line":3,"column":78,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":87,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useEffect"},"fix":{"range":[90,101],"text":""},"desc":"Remove unused variable \"useEffect\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport React, { createContext, useContext, useState, useCallback, ReactNode, useEffect } from 'react';\n\n// Types\nexport interface VideoData {\n  id: string;\n  title: string;\n  source: 'youtube' | 'facebook' | 'html5';\n  url: string; // YouTube ID, Facebook video URL, or direct video URL\n  thumbnail?: string;\n  startTime?: number; // Start time in seconds\n}\n\nexport interface PlayerPosition {\n  x: number;\n  y: number;\n}\n\nexport interface UserPreferences {\n  pauseBehavior: 'always-ask' | 'auto-pause' | 'never-pause';\n  defaultSize: 'mini' | 'expanded';\n  autoPlayNext: boolean;\n  volume: number;\n}\n\ninterface VideoPlayerState {\n  currentVideo: VideoData | null;\n  isPlaying: boolean;\n  isMinimized: boolean;\n  position: PlayerPosition;\n  userPreferences: UserPreferences;\n  showPlayer: boolean;\n}\n\ninterface VideoPlayerContextType extends VideoPlayerState {\n  playVideo: (video: VideoData) => void;\n  pauseVideo: () => void;\n  resumeVideo: () => void;\n  closePlayer: () => void;\n  toggleMinimize: () => void;\n  updatePosition: (position: PlayerPosition) => void;\n  updatePreferences: (preferences: Partial<UserPreferences>) => void;\n}\n\n// Default preferences\nconst DEFAULT_PREFERENCES: UserPreferences = {\n  pauseBehavior: 'always-ask',\n  defaultSize: 'mini',\n  autoPlayNext: false,\n  volume: 0.7,\n};\n\n\n\n// Create Context\nconst VideoPlayerContext = createContext<VideoPlayerContextType | undefined>(undefined);\n\n// Provider Component\nexport function VideoPlayerProvider({ children }: { children: ReactNode }) {\n  // Lazy initialization to avoid React Hooks violations\n  const [state, setState] = useState<VideoPlayerState>(() => {\n    let savedPrefs = DEFAULT_PREFERENCES;\n    let initialPosition = { x: 0, y: 0 };\n\n    if (typeof window !== 'undefined') {\n      try {\n        const stored = localStorage.getItem('samakal_video_preferences');\n        if (stored) {\n          savedPrefs = { ...DEFAULT_PREFERENCES, ...JSON.parse(stored) };\n        }\n      } catch (e) {\n        console.error(\"Failed to load preferences\", e);\n      }\n\n      initialPosition = {\n        x: window.innerWidth - 360,\n        y: window.innerHeight - 240,\n      };\n    }\n\n    return {\n      currentVideo: null,\n      isPlaying: false,\n      isMinimized: true,\n      position: initialPosition,\n      userPreferences: savedPrefs,\n      showPlayer: false,\n    };\n  });\n\n  // Play a new video\n  const playVideo = useCallback((video: VideoData) => {\n    setState(prev => ({\n      ...prev,\n      currentVideo: video,\n      isPlaying: true,\n      showPlayer: true,\n      isMinimized: prev.userPreferences.defaultSize === 'mini',\n    }));\n  }, []);\n\n  // Pause current video\n  const pauseVideo = useCallback(() => {\n    setState(prev => ({ ...prev, isPlaying: false }));\n  }, []);\n\n  // Resume current video\n  const resumeVideo = useCallback(() => {\n    setState(prev => ({ ...prev, isPlaying: true }));\n  }, []);\n\n  // Close player completely\n  const closePlayer = useCallback(() => {\n    setState(prev => ({\n      ...prev,\n      currentVideo: null,\n      isPlaying: false,\n      showPlayer: false,\n    }));\n  }, []);\n\n  // Toggle minimize/maximize\n  const toggleMinimize = useCallback(() => {\n    setState(prev => ({ ...prev, isMinimized: !prev.isMinimized }));\n  }, []);\n\n  // Update player position\n  const updatePosition = useCallback((position: PlayerPosition) => {\n    setState(prev => ({ ...prev, position }));\n  }, []);\n\n  // Update user preferences\n  const updatePreferences = useCallback((preferences: Partial<UserPreferences>) => {\n    setState(prev => {\n      const newPreferences = { ...prev.userPreferences, ...preferences };\n      \n      // Save to localStorage\n      if (typeof window !== 'undefined') {\n        try {\n          localStorage.setItem('samakal_video_preferences', JSON.stringify(newPreferences));\n        } catch (error) {\n          console.error('Failed to save preferences:', error);\n        }\n      }\n      \n      return { ...prev, userPreferences: newPreferences };\n    });\n  }, []);\n\n  const value: VideoPlayerContextType = {\n    ...state,\n    playVideo,\n    pauseVideo,\n    resumeVideo,\n    closePlayer,\n    toggleMinimize,\n    updatePosition,\n    updatePreferences,\n  };\n\n  return (\n    <VideoPlayerContext.Provider value={value}>\n      {children}\n    </VideoPlayerContext.Provider>\n  );\n}\n\n// Hook to use the context\nexport function useVideoPlayer() {\n  const context = useContext(VideoPlayerContext);\n  if (!context) {\n    throw new Error('useVideoPlayer must be used within VideoPlayerProvider');\n  }\n  return context;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/hooks/use-ai.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":32,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[851,854],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[851,854],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\nimport { toast } from 'sonner';\n\n/**\n * Hook to manage AI operations and states\n */\nexport function useAI() {\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [currentOperation, setCurrentOperation] = useState<string | null>(null);\n\n  /**\n   * Wrapper for AI operations to handle loading state and errors\n   * @param operationName Name of the operation for UI feedback\n   * @param operation Async function to execute\n   */\n  const generate = async <T>(\n    operationName: string,\n    operation: () => Promise<T>,\n    onSuccess?: (result: T) => void\n  ) => {\n    try {\n      setIsGenerating(true);\n      setCurrentOperation(operationName);\n      \n      const result = await operation();\n      \n      if (onSuccess) {\n        onSuccess(result);\n      }\n      \n      return result;\n    } catch (error: any) {\n      console.error(`AI Operation failed: ${operationName}`, error);\n      toast.error(error.message || 'AI request failed');\n      return null;\n    } finally {\n      setIsGenerating(false);\n      setCurrentOperation(null);\n    }\n  };\n\n  return {\n    isGenerating,\n    currentOperation,\n    generate\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/hooks/use-debounce.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/hooks/use-local-storage.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useEffect' is defined but never used.","line":1,"column":20,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":29,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useEffect"},"fix":{"range":[17,28],"text":""},"desc":"Remove unused variable \"useEffect\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":32,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1057,1060],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1057,1060],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\n\n/**\n * Hook to manage state with local storage persistence\n * @param key Local storage key\n * @param initialValue Initial value\n * @returns [value, setValue]\n */\nexport function useLocalStorage<T>(key: string, initialValue: T): [T, (value: T) => void] {\n  // State to store our value\n  // Pass initial state function to useState so logic is only executed once\n  const [storedValue, setStoredValue] = useState<T>(() => {\n    if (typeof window === 'undefined') {\n      return initialValue;\n    }\n    \n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.error(error);\n      return initialValue;\n    }\n  });\n\n  // Return a wrapped version of useState's setter function that ...\n  // ... persists the new value to localStorage.\n  const setValue = (value: T) => {\n    try {\n      // Allow value to be a function so we have same API as useState\n      const valueToStore =\n        value instanceof Function ? (value as any)(storedValue) : value;\n      \n      setStoredValue(valueToStore);\n      \n      if (typeof window !== 'undefined') {\n        window.localStorage.setItem(key, JSON.stringify(valueToStore));\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/hooks/useRouteChange.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/hooks/useSwipe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/actions-analytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/actions-article-helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/actions-article.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/actions-bookmark.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'mapArticleToNewsItem' is defined but never used.","line":6,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":30,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"mapArticleToNewsItem"},"fix":{"range":[123,176],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArticleRow' is defined but never used.","line":7,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":20,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"ArticleRow"},"fix":{"range":[195,241],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":61,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":61,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use server\";\n\nimport { sql } from \"@/lib/db\";\nimport { auth } from \"@/auth\";\nimport { revalidatePath } from \"next/cache\";\nimport { mapArticleToNewsItem } from \"@/lib/mappers\"; // Updated import\nimport { ArticleRow } from \"@/types/database\";\n\nexport async function toggleBookmark(articleId: string) {\n  const session = await auth();\n  if (!session || !session.user || !session.user.id) {\n    return { success: false, message: \"Unauthorized\" };\n  }\n  const userId = session.user.id;\n\n  try {\n    // Check if exists\n    const existing = await sql`\n      SELECT id FROM bookmarks \n      WHERE user_id = ${userId} AND article_id = ${articleId}\n    `;\n\n    if (existing.rows.length > 0) {\n      // Remove\n      await sql`\n        DELETE FROM bookmarks \n        WHERE user_id = ${userId} AND article_id = ${articleId}\n      `;\n      revalidatePath(`/article/${articleId}`);\n      revalidatePath('/user/bookmarks');\n      return { success: true, isBookmarked: false, message: \"Bookmark removed\" };\n    } else {\n      // Add\n      await sql`\n        INSERT INTO bookmarks (user_id, article_id)\n        VALUES (${userId}, ${articleId})\n      `;\n      revalidatePath(`/article/${articleId}`);\n      revalidatePath('/user/bookmarks');\n      return { success: true, isBookmarked: true, message: \"Article saved\" };\n    }\n  } catch (error) {\n    console.error(\"Bookmark Error:\", error);\n    return { success: false, message: \"Failed to toggle bookmark\" };\n  }\n}\n\nexport async function checkIsBookmarked(articleId: string) {\n  const session = await auth();\n  if (!session || !session.user || !session.user.id) {\n    return false;\n  }\n  const userId = session.user.id;\n\n  try {\n    const existing = await sql`\n      SELECT id FROM bookmarks \n      WHERE user_id = ${userId} AND article_id = ${articleId}\n    `;\n    return existing.rows.length > 0;\n  } catch (error) {\n    return false;\n  }\n}\n\nexport async function fetchBookmarkedArticles() {\n  const session = await auth();\n  if (!session || !session.user || !session.user.id) {\n    return [];\n  }\n  const userId = session.user.id;\n\n  try {\n    // Join bookmarks with articles\n    const data = await sql`\n      SELECT \n        articles.id,\n        articles.title,\n        articles.slug,\n        articles.status,\n        articles.category,\n        articles.views,\n        articles.image,\n        articles.created_at,\n        articles.content,\n        users.name as author\n      FROM bookmarks\n      JOIN articles ON bookmarks.article_id = articles.id\n      LEFT JOIN users ON articles.author_id = users.id\n      WHERE bookmarks.user_id = ${userId}\n      ORDER BY bookmarks.created_at DESC\n    `;\n\n    // Re-use usage of mapArticleToNewsItem, assuming it's exported from actions-article\n    // If NOT exported, we need to export it in next step. For now I assume I made it exported or will do so.\n    // WARNING: Previous view showed it was NOT exported. I must export it.\n    \n    // I will duplicate map logic slightly here if mapArticleToNewsItem is not available, \n    // OR I will verify actions-article.ts again.\n    // In step 31 view, it was NOT exported \"function mapArticleToNewsItem\".\n    // I plan to export it in this or next step.\n    \n    // To be safe, I'll return data mapping manually for now or use 'any' if necessary to fix later.\n    // Ideally I export it.\n    \n    return data.rows.map(row => ({\n       id: row.id,\n       title: row.title,\n       slug: row.slug,\n       category: row.category,\n       image: row.image || '/placeholder.svg',\n       author: row.author || 'Desk',\n       date: new Date(row.created_at).toLocaleDateString('bn-BD'),\n       time: 'Saved', // Placeholder\n       summary: ''\n    }));\n  } catch (error) {\n    console.error(\"Fetch Bookmarks Error:\", error);\n    return [];\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/actions-comment.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/actions-event.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":94,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":94,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":133,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":133,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":145,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":145,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use server\";\n\nimport { sql } from \"@/lib/db\";\nimport { revalidatePath } from \"next/cache\";\nimport { redirect } from \"next/navigation\";\nimport { z } from \"zod\";\nimport { auth } from \"@/auth\";\n\nconst EventSchema = z.object({\n  id: z.string(),\n  title: z.string().min(1, \"Title is required\"),\n  slug: z.string().min(1, \"Slug is required\"),\n  description: z.string().optional(),\n  banner_image: z.string().optional(),\n  is_active: z.boolean().optional(),\n});\n\nconst CreateEvent = EventSchema.omit({ id: true });\n\nexport async function fetchEvents() {\n  try {\n    const data = await sql`\n      SELECT * FROM events\n      ORDER BY created_at DESC\n    `;\n    return data.rows;\n  } catch (error) {\n    console.error('Database Error:', error);\n    return [];\n  }\n}\n\nexport async function fetchActiveEvent() {\n    try {\n      const data = await sql`\n        SELECT * FROM events\n        WHERE is_active = true\n        ORDER BY created_at DESC\n        LIMIT 1\n      `;\n      return data.rows[0];\n    } catch (error) {\n      console.error('Database Error:', error);\n      return null;\n    }\n}\n\nexport async function fetchEventBySlug(slug: string) {\n    try {\n      const data = await sql`\n        SELECT * FROM events\n        WHERE slug = ${slug}\n      `;\n      return data.rows[0];\n    } catch (error) {\n      console.error('Database Error:', error);\n      return null;\n    }\n}\n\nexport async function createEvent(formData: FormData) {\n  const session = await auth();\n  if (!session?.user) {\n    return { message: 'Unauthorized' };\n  }\n\n  const validatedFields = CreateEvent.safeParse({\n    title: formData.get('title'),\n    slug: formData.get('slug'),\n    description: formData.get('description'),\n    banner_image: formData.get('banner_image'),\n    is_active: formData.get('is_active') === 'on',\n  });\n\n  if (!validatedFields.success) {\n    return {\n      errors: validatedFields.error.flatten().fieldErrors,\n      message: 'Missing Fields. Failed to Create Event.',\n    };\n  }\n\n  const { title, slug, description, banner_image, is_active } = validatedFields.data;\n\n  try {\n    // If setting active, deactivate others (optional business rule: only one active event at a time)\n    if (is_active) {\n        await sql`UPDATE events SET is_active = false`;\n    }\n\n    await sql`\n      INSERT INTO events (title, slug, description, banner_image, is_active)\n      VALUES (${title}, ${slug}, ${description || ''}, ${banner_image || ''}, ${is_active || false})\n    `;\n  } catch (error) {\n    return { message: 'Database Error: Failed to Create Event.' };\n  }\n\n  revalidatePath('/admin/dashboard/events');\n  redirect('/admin/dashboard/events');\n}\n\nexport async function updateEvent(id: string, formData: FormData) {\n    const session = await auth();\n    if (!session?.user) {\n        return { message: 'Unauthorized' };\n    }\n\n    const validatedFields = CreateEvent.safeParse({\n        title: formData.get('title'),\n        slug: formData.get('slug'),\n        description: formData.get('description'),\n        banner_image: formData.get('banner_image'),\n        is_active: formData.get('is_active') === 'on',\n    });\n\n    if (!validatedFields.success) {\n        return { message: 'Validation Failed' };\n    }\n\n    const { title, slug, description, banner_image, is_active } = validatedFields.data;\n\n    try {\n        if (is_active) {\n            await sql`UPDATE events SET is_active = false WHERE id != ${id}`;\n        }\n\n        await sql`\n            UPDATE events\n            SET title = ${title}, slug = ${slug}, description = ${description || ''}, \n                banner_image = ${banner_image || ''}, is_active = ${is_active || false}\n            WHERE id = ${id}\n        `;\n    } catch (error) {\n        return { message: 'Database Error: Failed to Update Event.' };\n    }\n\n    revalidatePath('/admin/dashboard/events');\n    redirect('/admin/dashboard/events');\n}\n\nexport async function deleteEvent(id: string) {\n    try {\n        await sql`DELETE FROM events WHERE id = ${id}`;\n        revalidatePath('/admin/dashboard/events');\n    } catch (error) {\n        return { message: 'Database Error: Failed to Delete Event.' };\n    }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/actions-history.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'revalidatePath' is defined but never used.","line":5,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":24,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"revalidatePath"},"fix":{"range":[78,122],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArticleImageRow' is defined but never used.","line":7,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":37,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ArticleImageRow"},"fix":{"range":[196,213],"text":""},"desc":"Remove unused variable \"ArticleImageRow\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArticleContributorRow' is defined but never used.","line":7,"column":39,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":60,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ArticleContributorRow"},"fix":{"range":[213,236],"text":""},"desc":"Remove unused variable \"ArticleContributorRow\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use server\";\n\nimport { sql } from \"@/lib/db\";\nimport { auth } from \"@/auth\";\nimport { revalidatePath } from \"next/cache\";\nimport { mapArticleToNewsItem } from \"@/lib/mappers\";\nimport { ArticleRow, ArticleImageRow, ArticleContributorRow } from \"@/types/database\";\n\n// Record a view for an article\nexport async function recordView(articleId: string) {\n    const session = await auth();\n    if (!session || !session.user || !session.user.id) {\n        return { success: false, message: \"Not authenticated\" };\n    }\n\n    const userId = session.user.id;\n\n    try {\n        await sql`\n            INSERT INTO reading_history (user_id, article_id, viewed_at)\n            VALUES (${userId}, ${articleId}, NOW())\n            ON CONFLICT (user_id, article_id) \n            DO UPDATE SET viewed_at = NOW();\n        `;\n        return { success: true };\n    } catch (error) {\n        console.error(\"Failed to record view:\", error);\n        return { success: false, error: \"Database error\" };\n    }\n}\n\n// Fetch reading history for the current user\nexport async function fetchReadingHistory() {\n    const session = await auth();\n    if (!session || !session.user || !session.user.id) {\n        return [];\n    }\n\n    const userId = session.user.id;\n\n    try {\n        const data = await sql`\n            SELECT \n                articles.id,\n                articles.title,\n                articles.slug,\n                articles.status,\n                articles.category,\n                articles.image,\n                articles.created_at,\n                articles.news_type,\n                users.name as author,\n                reading_history.viewed_at\n            FROM reading_history\n            JOIN articles ON reading_history.article_id = articles.id\n            LEFT JOIN users ON articles.author_id = users.id\n            WHERE reading_history.user_id = ${userId}\n            ORDER BY reading_history.viewed_at DESC\n            LIMIT 50\n        `;\n\n        if (data.rows.length === 0) return [];\n\n         // Helper to fetch images/contributors if we wanted full detail, \n         // but for history list, basic info is usually enough.\n         // We'll stick to basic ArticleRow mapping.\n\n        return data.rows.map(row => {\n            const newsItem = mapArticleToNewsItem(row as ArticleRow);\n            // Append viewedAt specific to history if needed, or just return NewsItem\n            return {\n                ...newsItem,\n                viewedAt: row.viewed_at // Add this if UI displays \"Viewed 2 mins ago\"\n            };\n        });\n\n    } catch (error) {\n        console.error(\"Failed to fetch reading history:\", error);\n        return [];\n    }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/actions-media.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/actions-push.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":52,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":52,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use server\";\n\nimport webpush from \"web-push\";\nimport { sql } from \"@/lib/db\";\nimport { auth } from \"@/auth\";\n\n// Configure web-push with VAPID keys\n// We use the keys from env, assuming they are set\nconst apiKeys = {\n    publicKey: process.env.NEXT_PUBLIC_VAPID_PUBLIC_KEY!,\n    privateKey: process.env.VAPID_PRIVATE_KEY!,\n    subject: process.env.VAPID_SUBJECT || 'mailto:admin@example.com'\n};\n\nwebpush.setVapidDetails(\n    apiKeys.subject,\n    apiKeys.publicKey,\n    apiKeys.privateKey\n);\n\nexport async function subscribeUser(sub: PushSubscriptionJSON) {\n  const session = await auth();\n  const userId = session?.user?.id || null;\n\n  try {\n    // sub.endpoint is main key\n    // sub.keys.p256dh \n    // sub.keys.auth\n\n    if (!sub.endpoint || !sub.keys?.p256dh || !sub.keys?.auth) {\n        return { success: false, message: \"Invalid subscription object\" };\n    }\n\n    await sql`\n      INSERT INTO push_subscriptions (user_id, endpoint, p256dh, auth)\n      VALUES (${userId}, ${sub.endpoint}, ${sub.keys.p256dh}, ${sub.keys.auth})\n      ON CONFLICT (endpoint) DO UPDATE \n      SET user_id = ${userId}, created_at = NOW()\n    `;\n\n    return { success: true, message: \"Subscribed successfully\" };\n  } catch (error) {\n    console.error(\"Subscription Error:\", error);\n    return { success: false, message: \"Failed to store subscription\" };\n  }\n}\n\nexport async function unsubscribeUser(endpoint: string) {\n    try {\n        await sql`DELETE FROM push_subscriptions WHERE endpoint = ${endpoint}`;\n        return { success: true };\n    } catch (error) {\n        return { success: false };\n    }\n}\n\nexport async function sendNotificationToAll(message: string, url: string = \"/\") {\n    // Only admins should basically do this, checking session helper\n    const session = await auth();\n    // Simplified check - real app should check role\n    if (!session || !session.user) { \n        return { success: false, message: \"Unauthorized\" };\n    }\n\n    try {\n        const subs = await sql`SELECT endpoint, p256dh, auth FROM push_subscriptions`;\n        \n        const payload = JSON.stringify({\n            title: \"рж╕ржоржХрж╛рж▓ ржмрзНрж░рзЗржХрж┐ржВ ржирж┐ржЙржЬ\",\n            body: message,\n            icon: \"/samakal-logo.png\",\n            url: url\n        });\n\n        const promises = subs.rows.map(sub => {\n            const pushConfig = {\n                endpoint: sub.endpoint,\n                keys: { auth: sub.auth, p256dh: sub.p256dh }\n            };\n            return webpush.sendNotification(pushConfig, payload).catch(err => {\n                if (err.statusCode === 410 || err.statusCode === 404) {\n                    // Subscription expired, delete it\n                    return sql`DELETE FROM push_subscriptions WHERE endpoint = ${sub.endpoint}`; \n                }\n                console.error(\"Push Error\", err);\n            });\n        });\n\n        await Promise.all(promises);\n        return { success: true, count: subs.rows.length };\n\n    } catch (error) {\n        console.error(\"Broadcast Error:\", error);\n        return { success: false, message: \"Failed to broadcast\" };\n    }\n}\n\n// Required for client to get key\nexport async function getVapidPublicKey() {\n    return process.env.NEXT_PUBLIC_VAPID_PUBLIC_KEY;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/actions-recommendations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/actions-settings.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":31,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[776,779],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[776,779],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use server\";\n\nimport { sql } from \"@/lib/db\";\nimport { revalidatePath, unstable_cache } from \"next/cache\";\nimport { cache } from \"react\";\nimport { auth } from \"@/auth\";\n\nexport interface SiteSettings {\n  id: number;\n  facebook_live_url?: string;\n  facebook_is_live: boolean;\n  youtube_playlist_id?: string;\n  youtube_api_key?: string;\n  breaking_news_ticker?: string;\n  breaking_news_is_active: boolean;\n  \n  // Molecular Control: Site Identity\n  site_name: string;\n  site_tagline?: string;\n  site_logo?: string;\n  site_favicon?: string;\n  \n  // Molecular Control: SEO & Analytics\n  seo_title?: string;\n  seo_description?: string;\n  seo_keywords?: string;\n  google_analytics_id?: string;\n  footer_copyright?: string;\n  \n  // Molecular Control: Navigation\n  navigation_menu?: any[]; // JSON array of links\n  \n  updated_at: Date;\n}\n\nexport const fetchSettings = cache(\n  unstable_cache(\n    async (): Promise<SiteSettings> => {\n      try {\n        const data = await sql`\n          SELECT * FROM site_settings WHERE id = 1\n        `;\n        \n        if (data.rows.length === 0) {\n          return {\n            id: 1,\n            facebook_is_live: false,\n            breaking_news_ticker: 'рж╕ржоржХрж╛рж▓ - ржЕрж╕ржВржХрзЛржЪ ржкрзНрж░ржХрж╛рж╢рзЗрж░ ржжрзБрж░ржирзНржд рж╕рж╛рж╣рж╕',\n            breaking_news_is_active: true,\n            site_name: 'рж╕ржоржХрж╛рж▓',\n            site_tagline: 'ржЕрж╕ржВржХрзЛржЪ ржкрзНрж░ржХрж╛рж╢рзЗрж░ ржжрзБрж░ржирзНржд рж╕рж╛рж╣рж╕',\n            site_logo: '/samakal-logo.png',\n            site_favicon: '/favicon.ico',\n            updated_at: new Date()\n          };\n        }\n\n        return data.rows[0] as SiteSettings;\n      } catch (error) {\n        console.error('Failed to fetch settings:', error);\n        return {\n            id: 1,\n            facebook_is_live: false,\n            breaking_news_ticker: 'Default Ticker',\n            breaking_news_is_active: true,\n            site_name: 'рж╕ржоржХрж╛рж▓',\n            updated_at: new Date()\n        };\n      }\n    },\n    ['site-settings'],\n    { revalidate: 3600, tags: ['settings'] }\n  )\n);\n\nexport async function updateSettings(settings: Partial<SiteSettings>) {\n  const session = await auth();\n  if (!session || !session.user) {\n      throw new Error(\"Unauthorized\");\n  }\n\n  try {\n    await sql`\n      UPDATE site_settings\n      SET \n        facebook_live_url = ${settings.facebook_live_url || null},\n        facebook_is_live = ${settings.facebook_is_live},\n        youtube_playlist_id = ${settings.youtube_playlist_id || null},\n        youtube_api_key = ${settings.youtube_api_key || null},\n        breaking_news_ticker = ${settings.breaking_news_ticker || null},\n        breaking_news_is_active = ${settings.breaking_news_is_active},\n        site_name = ${settings.site_name || 'рж╕ржоржХрж╛рж▓'},\n        site_tagline = ${settings.site_tagline || null},\n        site_logo = ${settings.site_logo || '/samakal-logo.png'},\n        site_favicon = ${settings.site_favicon || '/favicon.ico'},\n        seo_title = ${settings.seo_title || null},\n        seo_description = ${settings.seo_description || null},\n        seo_keywords = ${settings.seo_keywords || null},\n        google_analytics_id = ${settings.google_analytics_id || null},\n        footer_copyright = ${settings.footer_copyright || null},\n        navigation_menu = ${settings.navigation_menu ? JSON.stringify(settings.navigation_menu) : null},\n        updated_at = CURRENT_TIMESTAMP\n      WHERE id = 1\n    `;\n\n    revalidatePath('/'); // Revalidate homepage so widgets update\n    revalidatePath('/admin/dashboard/settings');\n    \n    return { success: true };\n  } catch (error) {\n    console.error('Failed to update settings:', error);\n    return { success: false, error: 'Failed to update settings' };\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/actions-team.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/actions-tracker.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/actions-user.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/actions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/ai/client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/ai/writing-assistant.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/auth-client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/db.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/definitions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/fonts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/mappers.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArticleImageRow' is defined but never used.","line":1,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":42,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ArticleImageRow"},"fix":{"range":[24,41],"text":""},"desc":"Remove unused variable \"ArticleImageRow\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArticleContributorRow' is defined but never used.","line":1,"column":44,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":65,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ArticleContributorRow"},"fix":{"range":[41,64],"text":""},"desc":"Remove unused variable \"ArticleContributorRow\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { ArticleRow, ArticleImageRow, ArticleContributorRow, ExtraArticleData } from \"@/types/database\";\nimport { getBengaliCategory } from \"@/utils/category\";\n\n// Helper to map DB result to UI NewsItem shape\nimport { toBanglaDigits } from \"@/utils/bn\";\n\nexport function mapArticleToNewsItem(\n    article: ArticleRow, \n    extraData: ExtraArticleData = {}\n) {\n    const dateObj = new Date(article.created_at);\n    \n    // Video Mapping\n    let relatedVideo = undefined;\n    if (article.video_url) {\n        const isYoutube = article.video_url.includes('youtube') || article.video_url.includes('youtu.be');\n        const isFacebook = article.video_url.includes('facebook');\n        \n        // Simple ID extraction (robust regex could be better)\n        let videoId = article.video_url; \n        if (isYoutube) {\n             const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\n             const match = article.video_url.match(regExp);\n             videoId = (match && match[2].length === 11) ? match[2] : videoId;\n        } else if (isFacebook) {\n             // Basic fallback for FB, usually full URL or ID extraction needed\n             // For now, passing ID/URL as is, assuming player handles it or needs update\n        }\n\n        relatedVideo = {\n            id: videoId,\n            source: (isYoutube ? 'youtube' : 'facebook') as 'youtube' | 'facebook',\n            title: 'Related Video'\n        };\n    }\n\n    return {\n        id: article.id, // Using UUID as ID for routing\n        title: article.title,\n        sub_headline: article.sub_headline,\n        slug: article.slug,\n        image: article.image || '/placeholder.svg',\n        category: getBengaliCategory(article.category),\n        catSlug: (article.category || 'uncategorized').toLowerCase(),\n        author: article.author || 'ржбрзЗрж╕рзНржХ рж░рж┐ржкрзЛрж░рзНржЯ',\n        date: dateObj.toLocaleDateString('bn-BD', { day: 'numeric', month: 'long', year: 'numeric' }), // Bengali Date\n        time: getTimeAgo(dateObj),\n        summary: stripHtml(article.content || '').substring(0, 150) + '...', // Simple extract\n        content: article.content || '',\n        // New Fields\n        news_type: article.news_type,\n        location: article.location,\n        source: article.source,\n        sourceUrl: article.source_url,\n        tags: extraData.tags || [],\n        images: extraData.images?.map((img) => ({\n            id: img.id,\n            url: img.image_url,\n            caption: img.caption,\n            type: img.image_type\n        })),\n        contributors: extraData.contributors?.map((con) => ({\n             id: con.id,\n             name: con.display_name || 'Contributor', \n             role: con.role\n        })),\n        relatedVideo: relatedVideo\n    };\n}\n\nfunction getTimeAgo(date: Date) {\n    const diff = Math.floor((new Date().getTime() - date.getTime()) / 1000 / 60 / 60);\n    return diff < 1 ? 'ржПржЗржорж╛рждрзНрж░' : `${toBanglaDigits(diff)} ржШржгрзНржЯрж╛ ржЖржЧрзЗ`;\n}\n\nfunction stripHtml(html: string) {\n   if (!html) return '';\n   return html.replace(/<[^>]*>?/gm, '');\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/setup-db.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/upload.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/lib/utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/next-auth.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/proxy.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/types/database.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/types/media.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/types/news.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/utils/bn.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/utils/category.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/utils/image.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/abisheakshill/Desktop/Antigravity/samakal-redesign/src/utils/normalize-category.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
